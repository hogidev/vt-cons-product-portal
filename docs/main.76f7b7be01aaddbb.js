"use strict";(self.webpackChunkvt_cons_product_portal=self.webpackChunkvt_cons_product_portal||[]).push([[179],{200:()=>{function Me(t){return"function"==typeof t}function wu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const gd=wu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function To(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof gd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_T(s)}catch(o){e=e??[],o instanceof gd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new gd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_T(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&To(n,e)}remove(e){const{_finalizers:n}=this;n&&To(n,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const t=new Tn;return t.closed=!0,t})();const mT=Tn.EMPTY;function yT(t){return t instanceof Tn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function _T(t){Me(t)?t():t.unsubscribe()}const us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},md={setTimeout(t,e,...n){const{delegate:r}=md;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=md;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vT(t){md.setTimeout(()=>{const{onUnhandledError:e}=us;if(!e)throw t;e(t)})}function wT(){}const QB=Bg("C",void 0,void 0);function Bg(t,e,n){return{kind:t,value:e,error:n}}let cs=null;function yd(t){if(us.useDeprecatedSynchronousErrorHandling){const e=!cs;if(e&&(cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=cs;if(cs=null,n)throw r}}else t()}class $g extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yT(e)&&e.add(this)):this.destination=n$}static create(e,n,r){return new Iu(e,n,r)}next(e){this.isStopped?Gg(function ZB(t){return Bg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gg(function YB(t){return Bg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gg(QB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JB=Function.prototype.bind;function jg(t,e){return JB.call(t,e)}class e${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_d(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_d(r)}else _d(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_d(n)}}}class Iu extends $g{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jg(e.next,s),error:e.error&&jg(e.error,s),complete:e.complete&&jg(e.complete,s)}):i=e}this.destination=new e$(i)}}function _d(t){us.useDeprecatedSynchronousErrorHandling?function XB(t){us.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=t)}(t):vT(t)}function Gg(t,e){const{onStoppedNotification:n}=us;n&&md.setTimeout(()=>n(t,e))}const n$={closed:!0,next:wT,error:function t$(t){throw t},complete:wT},Hg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ls(t){return t}function IT(t){return 0===t.length?ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function s$(t){return t&&t instanceof $g||function i$(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&yT(t)}(n)?n:new Iu(n,r,i);return yd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ET(r))((i,s)=>{const o=new Iu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Hg](){return this}pipe(...n){return IT(n)(this)}toPromise(n){return new(n=ET(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ET(t){var e;return null!==(e=t??us.Promise)&&void 0!==e?e:Promise}const o$=wu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gr=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new DT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new o$}next(n){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?mT:(this.currentObservers=null,s.push(n),new Tn(()=>{this.currentObservers=null,To(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new DT(e,n),t})();class DT extends Gr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:mT}}function bT(t){return Me(t?.lift)}function Et(t){return e=>{if(bT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new a$(t,e,n,r,i)}class a$ extends $g{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return Et((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function TT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ds(t){return this instanceof ds?(this.v=t,this):new ds(t)}function l$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ds?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function d$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function AT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const xT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function MT(t){return Me(t?.then)}function kT(t){return Me(t[Hg])}function NT(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function RT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const PT=function f$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function OT(t){return Me(t?.[PT])}function FT(t){return l$(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ds(n.read());if(i)return yield ds(void 0);yield yield ds(r)}}finally{n.releaseLock()}})}function LT(t){return Me(t?.getReader)}function $n(t){if(t instanceof $e)return t;if(null!=t){if(kT(t))return function p$(t){return new $e(e=>{const n=t[Hg]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(xT(t))return function g$(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(MT(t))return function m$(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vT)})}(t);if(NT(t))return VT(t);if(OT(t))return function y$(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(LT(t))return function _$(t){return VT(FT(t))}(t)}throw RT(t)}function VT(t){return new $e(e=>{(function v$(t,e){var n,r,i,s;return function u$(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=d$(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Hr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function xt(t,e,n=1/0){return Me(e)?xt((r,i)=>le((s,o)=>e(r,s,i,o))($n(t(r,i))),n):("number"==typeof e&&(n=e),Et((r,i)=>function w$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;$n(n(g,l++)).subscribe(pt(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Hr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function So(t=1/0){return xt(ls,t)}const _r=new $e(t=>t.complete());function zg(t){return t[t.length-1]}function UT(t){return Me(zg(t))?t.pop():void 0}function Eu(t){return function E$(t){return t&&Me(t.schedule)}(zg(t))?t.pop():void 0}function vd(t,e=0){return Et((n,r)=>{n.subscribe(pt(r,i=>Hr(r,t,()=>r.next(i),e),()=>Hr(r,t,()=>r.complete(),e),i=>Hr(r,t,()=>r.error(i),e)))})}function wd(t,e=0){return Et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BT(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{Hr(n,e,()=>{const r=t[Symbol.asyncIterator]();Hr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function at(t,e){return e?function x$(t,e){if(null!=t){if(kT(t))return function b$(t,e){return $n(t).pipe(wd(e),vd(e))}(t,e);if(xT(t))return function T$(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(MT(t))return function C$(t,e){return $n(t).pipe(wd(e),vd(e))}(t,e);if(NT(t))return BT(t,e);if(OT(t))return function S$(t,e){return new $e(n=>{let r;return Hr(n,e,()=>{r=t[PT](),Hr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(LT(t))return function A$(t,e){return BT(FT(t),e)}(t,e)}throw RT(t)}(t,e):$n(t)}function Wg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Iu({next:()=>{r.unsubscribe(),t()}});return $n(e(...n)).subscribe(r)}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Kg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ke(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ke).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Qg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const N$=Ae({__forward_ref__:Ae});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return ke(this())},t}function Q(t){return Yg(t)?t():t}function Yg(t){return"function"==typeof t&&t.hasOwnProperty(N$)&&t.__forward_ref__===Ne}function Zg(t){return t&&!!t.\u0275providers}const $T="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function Id(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function Ed(t,e){throw new x(-201,!1)}function jn(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dd(t){return jT(t,bd)||jT(t,HT)}function jT(t,e){return t.hasOwnProperty(e)?t[e]:null}function GT(t){return t&&(t.hasOwnProperty(Xg)||t.hasOwnProperty($$))?t[Xg]:null}const bd=Ae({\u0275prov:Ae}),Xg=Ae({\u0275inj:Ae}),HT=Ae({ngInjectableDef:Ae}),$$=Ae({ngInjectorDef:Ae});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let Jg;function Hn(t){const e=Jg;return Jg=t,e}function qT(t,e,n){const r=Dd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Y.Optional?null:void 0!==e?e:void Ed(ke(t))}const Re=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Du={},em="__NG_DI_FLAG__",Cd="ngTempTokenPath",H$=/\n/gm,zT="__source";let bu;function Ao(t){const e=bu;return bu=t,e}function z$(t,e=Y.Default){if(void 0===bu)throw new x(-203,!1);return null===bu?qT(t,void 0,e):bu.get(t,e&Y.Optional?null:void 0,e)}function q(t,e=Y.Default){return(function j$(){return Jg}()||z$)(Q(t),e)}function pe(t,e=Y.Default){return q(t,Td(e))}function Td(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tm(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],u=W$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function Cu(t,e){return t[em]=e,t.prototype[em]=e,t}function W$(t){return t[em]}function Si(t){return{toString:t}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),vr=(()=>{return(t=vr||(vr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",vr;var t})();const qr={},Ie=[],Sd=Ae({\u0275cmp:Ae}),nm=Ae({\u0275dir:Ae}),rm=Ae({\u0275pipe:Ae}),KT=Ae({\u0275mod:Ae}),zr=Ae({\u0275fac:Ae}),Tu=Ae({__NG_ELEMENT_ID__:Ae});let Y$=0;function Wr(t){return Si(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,id:"c"+Y$++,styles:t.styles||Ie,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=ZT(t.inputs,r),i.outputs=ZT(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(QT).filter(YT):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(tn).filter(YT):null,i})}function QT(t){return be(t)||qt(t)}function YT(t){return null!==t}function nr(t){return Si(()=>({type:t.type,bootstrap:t.bootstrap||Ie,declarations:t.declarations||Ie,imports:t.imports||Ie,exports:t.exports||Ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ZT(t,e){if(null==t)return qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const X=Wr;function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function be(t){return t[Sd]||null}function qt(t){return t[nm]||null}function tn(t){return t[rm]||null}function An(t,e){const n=t[KT]||null;if(!n&&!0===e)throw new Error(`Type ${ke(t)} does not have '\u0275mod' property.`);return n}function xn(t){return Array.isArray(t)&&"object"==typeof t[1]}function ir(t){return Array.isArray(t)&&!0===t[1]}function om(t){return 0!=(4&t.flags)}function Mu(t){return t.componentOffset>-1}function Nd(t){return 1==(1&t.flags)}function sr(t){return null!==t.template}function J$(t){return 0!=(256&t[2])}function fs(t,e){return t.hasOwnProperty(zr)?t[zr]:null}class nj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qn(){return rS}function rS(t){return t.type.prototype.ngOnChanges&&(t.setInput=ij),rj}function rj(){const t=sS(this),e=t?.current;if(e){const n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ij(t,e,n,r){const i=this.declaredInputs[n],s=sS(t)||function sj(t,e){return t[iS]=e}(t,{previous:qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new nj(u&&u.currentValue,e,a===qr),t[r]=e}qn.ngInherit=!0;const iS="__ngSimpleChanges__";function sS(t){return t[iS]||null}function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function Rd(t,e){return Mt(e[t])}function Mn(t,e){return Mt(e[t.index])}function uS(t,e){return t.data[e]}function Po(t,e){return t[e]}function kn(t,e){const n=e[t];return xn(n)?n:n[0]}function Pd(t){return 64==(64&t[2])}function Ai(t,e){return null==e?null:t[e]}function cS(t){t[18]=0}function um(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ne={lFrame:vS(null),bindingsEnabled:!0};function dS(){return ne.bindingsEnabled}function D(){return ne.lFrame.lView}function ye(){return ne.lFrame.tView}function ku(t){return ne.lFrame.contextLView=t,t[8]}function Nu(t){return ne.lFrame.contextLView=null,t}function kt(){let t=hS();for(;null!==t&&64===t.type;)t=t.parent;return t}function hS(){return ne.lFrame.currentTNode}function Ir(t,e){const n=ne.lFrame;n.currentTNode=t,n.isParent=e}function cm(){return ne.lFrame.isParent}function lm(){ne.lFrame.isParent=!1}function rn(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oo(){return ne.lFrame.bindingIndex++}function _j(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,dm(e)}function dm(t){ne.lFrame.currentDirectiveIndex=t}function mS(){return ne.lFrame.currentQueryIndex}function fm(t){ne.lFrame.currentQueryIndex=t}function wj(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function yS(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Y.Host||(i=wj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ne.lFrame=_S();return r.currentTNode=e,r.lView=t,!0}function pm(t){const e=_S(),n=t[1];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _S(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?vS(t):e}function vS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function wS(){const t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const IS=wS;function gm(){const t=wS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sn(){return ne.lFrame.selectedIndex}function ps(t){ne.lFrame.selectedIndex=t}function je(){const t=ne.lFrame;return uS(t.tView,t.selectedIndex)}function Nt(){ne.lFrame.currentNamespace="svg"}function Wn(){!function bj(){ne.lFrame.currentNamespace=null}()}function Od(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Fd(t,e,n){ES(t,e,3,n)}function Ld(t,e,n,r){(3&t[2])===n&&ES(t,e,n,r)}function mm(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ES(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(Sj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Sj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Pu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _m(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];bS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function DS(t){return 3===t||4===t||6===t}function bS(t){return 64===t.charCodeAt(0)}function Ou(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||CS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function CS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function TS(t){return-1!==t}function Vd(t){return 32767&t}function Ud(t,e){let n=function kj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let vm=!0;function Bd(t){const e=vm;return vm=t,e}let Nj=0;const Er={};function $d(t,e){const n=xS(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,wm(r.data,t),wm(e,null),wm(r.blueprint,null));const i=Im(t,e),s=t.injectorIndex;if(TS(i)){const o=Vd(i),a=Ud(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Im(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=FS(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Em(t,e,n){!function Rj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Tu)&&(r=n[Tu]),null==r&&(r=n[Tu]=Nj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function MS(t,e,n){if(n&Y.Optional||void 0!==t)return t;Ed()}function kS(t,e,n,r){if(n&Y.Optional&&void 0===r&&(r=null),!(n&(Y.Self|Y.Host))){const i=t[9],s=Hn(void 0);try{return i?i.get(e,r,n&Y.Optional):qT(e,r,n&Y.Optional)}finally{Hn(s)}}return MS(r,0,n)}function NS(t,e,n,r=Y.Default,i){if(null!==t){if(1024&e[2]){const o=function Vj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=RS(s,o,n,r|Y.Self,Er);if(a!==Er)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,Er,r);if(l!==Er)return l}u=FS(o),o=o[15]}s=u}return i}(t,e,n,r,Er);if(o!==Er)return o}const s=RS(t,e,n,r,Er);if(s!==Er)return s}return kS(e,n,r,i)}function RS(t,e,n,r,i){const s=function Fj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Tu)?t[Tu]:void 0;return"number"==typeof e?e>=0?255&e:Lj:e}(n);if("function"==typeof s){if(!yS(e,t,r))return r&Y.Host?MS(i,0,r):kS(e,n,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;Ed()}finally{IS()}}else if("number"==typeof s){let o=null,a=xS(t,e),u=-1,c=r&Y.Host?e[16][6]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?Im(t,e):e[a+8],-1!==u&&OS(r,!1)?(o=e[1],a=Vd(u),e=Ud(u,e)):a=-1);-1!==a;){const l=e[1];if(PS(s,a,l.data)){const d=Oj(a,e,n,o,r,c);if(d!==Er)return d}u=e[a+8],-1!==u&&OS(r,e[1].data[a+8]===c)&&PS(s,a,e)?(o=l,a=Vd(u),e=Ud(u,e)):a=-1}}return i}function Oj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=jd(a,o,n,null==r?Mu(a)&&vm:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==l?gs(e,o,l,a):Er}function jd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&sr(f)&&f.type===n)return u}return null}function gs(t,e,n,r){let i=t[n];const s=e.data;if(function Aj(t){return t instanceof Pu}(i)){const o=i;o.resolving&&function R$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(s[n]));const a=Bd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Hn(o.injectImpl):null;yS(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Tj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=rS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Hn(u),Bd(a),o.resolving=!1,IS()}}return i}function PS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function OS(t,e){return!(t&Y.Self||t&Y.Host&&e)}class Lo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NS(this._tNode,this._lView,e,Td(r),n)}}function Lj(){return new Lo(kt(),D())}function Rt(t){return Si(()=>{const e=t.prototype.constructor,n=e[zr]||Dm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[zr]||Dm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Dm(t){return Yg(t)?()=>{const e=Dm(Q(t));return e&&e()}:fs(t)}function FS(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Uo="__parameters__";function $o(t,e,n){return Si(()=>{const r=function bm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Uo)?u[Uo]:Object.defineProperty(u,Uo,{value:[]})[Uo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ms(t,e){t.forEach(n=>Array.isArray(n)?ms(n,e):e(n))}function VS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e,n){let r=jo(t,e);return r>=0?t[1|r]=n:(r=~r,function jj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Tm(t,e){const n=jo(t,e);if(n>=0)return t[1|n]}function jo(t,e){return function US(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const on=Cu($o("Optional"),8),Uu=Cu($o("SkipSelf"),4);var mn=(()=>((mn=mn||{})[mn.Important=1]="Important",mn[mn.DashCase=2]="DashCase",mn))();const Nm=new Map;let lG=0;const Pm="__ngContext__";function Kt(t,e){xn(e)?(t[Pm]=e[20],function hG(t){Nm.set(t[20],t)}(e)):t[Pm]=e}function Fm(t,e){return undefined(t,e)}function Gu(t){const e=t[3];return ir(e)?e[3]:e}function Lm(t){return sA(t[13])}function Vm(t){return sA(t[4])}function sA(t){for(;null!==t&&!ir(t);)t=t[4];return t}function Ho(t,e,n,r,i){if(null!=r){let s,o=!1;ir(r)?s=r:xn(r)&&(o=!0,r=r[0]);const a=Mt(r);0===t&&null!==n?null==i?dA(e,n,a):ys(e,n,a,i||null,!0):1===t&&null!==n?ys(e,n,a,i||null,!0):2===t?function qm(t,e,n){const r=Kd(t,e);r&&function NG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function OG(t,e,n,r,i){const s=n[7];s!==Mt(n)&&Ho(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Hu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Bm(t,e,n){return t.createElement(e,n)}function aA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,um(i,-1)),n.splice(r,1)}function $m(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&aA(i,r),e>0&&(t[n-1][4]=r[4]);const s=Hd(t,10+e);!function bG(t,e){Hu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function uA(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Hu(t,e,n,3,null,null),function SG(t){let e=t[13];if(!e)return jm(t[1],t);for(;e;){let n=null;if(xn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)xn(e)&&jm(e[1],e),e=e[3];null===e&&(e=t),xn(e)&&jm(e[1],e),n=e&&e[4]}e=n}}(e)}}function jm(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function kG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Pu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function MG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&ir(e[3])){n!==e[3]&&aA(n,e);const r=e[19];null!==r&&r.detachView(t)}!function fG(t){Nm.delete(t[20])}(e)}}function cA(t,e,n){return function lA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return Mn(r,n)}}(t,e.parent,n)}function ys(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dA(t,e,n){t.appendChild(e,n)}function hA(t,e,n,r,i){null!==r?ys(t,e,n,r,i):dA(t,e,n)}function Kd(t,e){return t.parentNode(e)}let Km,Xd,gA=function pA(t,e,n){return 40&t.type?Mn(t,n):null};function Qd(t,e,n,r){const i=cA(t,r,e),s=e[11],a=function fA(t,e,n){return gA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)hA(s,i,n[u],a,!1);else hA(s,i,n,a,!1)}function Yd(t,e){if(null!==e){const n=e.type;if(3&n)return Mn(e,t);if(4&n)return Hm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Yd(t,r);{const i=t[e.index];return ir(i)?Hm(-1,i):Mt(i)}}if(32&n)return Fm(e,t)()||Mt(t[e.index]);{const r=yA(t,e);return null!==r?Array.isArray(r)?r[0]:Yd(Gu(t[16]),r):Yd(t,e.next)}}return null}function yA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Hm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Yd(r,i)}return e[7]}function zm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Kt(Mt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zm(t,e,n.child,r,i,s,!1),Ho(e,t,i,a,s);else if(32&u){const c=Fm(n,r);let l;for(;l=c();)Ho(e,t,i,l,s);Ho(e,t,i,a,s)}else 16&u?_A(t,e,r,n,i,s):Ho(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Hu(t,e,n,r,i,s){zm(n,r,t.firstChild,e,i,s,!1)}function _A(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ho(e,t,i,u[c],s);else zm(t,e,u,o[3],i,s,!0)}function vA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&_m(t,e,r),null!==i&&vA(t,e,i),null!==s&&function LG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function bA(t){return function Qm(){if(void 0===Xd&&(Xd=null,Re.trustedTypes))try{Xd=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xd}()?.createScriptURL(t)||t}class CA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$T})`}}function xi(t){return t instanceof CA?t.changingThisBreaksApplicationSecurity:t}function qu(t,e){const n=function WG(t){return t instanceof CA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$T})`)}return n===e}const ZG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ut=(()=>((ut=ut||{})[ut.NONE=0]="NONE",ut[ut.HTML=1]="HTML",ut[ut.STYLE=2]="STYLE",ut[ut.SCRIPT=3]="SCRIPT",ut[ut.URL=4]="URL",ut[ut.RESOURCE_URL=5]="RESOURCE_URL",ut))();function qo(t){const e=Wu();return e?e.sanitize(ut.URL,t)||"":qu(t,"URL")?xi(t):function Ym(t){return(t=String(t)).match(ZG)?t:"unsafe:"+t}(te(t))}function NA(t){const e=Wu();if(e)return bA(e.sanitize(ut.RESOURCE_URL,t)||"");if(qu(t,"ResourceURL"))return bA(xi(t));throw new x(904,!1)}function Wu(){const t=D();return t&&t[12]}const eh=new U("ENVIRONMENT_INITIALIZER"),PA=new U("INJECTOR",-1),OA=new U("INJECTOR_DEF_TYPES");class FA{get(e,n=Du){if(n===Du){const r=new Error(`NullInjectorError: No provider for ${ke(e)}!`);throw r.name="NullInjectorError",r}return n}}function LA(...t){return{\u0275providers:VA(0,t),\u0275fromNgModule:!0}}function VA(t,...e){const n=[],r=new Set;let i;return ms(e,s=>{const o=s;ey(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&UA(i,n),n}function UA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];ty(i,s=>{e.push(s)})}}function ey(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=GT(t);const o=!s&&be(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=GT(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)ey(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ms(s.imports,l=>{ey(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&UA(c,e)}if(!a){const c=fs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ie},{provide:OA,useValue:i,multi:!0},{provide:eh,useValue:()=>q(i),multi:!0})}const u=s.providers;null==u||a||ty(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function ty(t,e){for(let n of t)Zg(n)&&(n=n.\u0275providers),Array.isArray(n)?ty(n,e):e(n)}const d3=Ae({provide:String,useValue:Ae});function ny(t){return null!==t&&"object"==typeof t&&d3 in t}function vs(t){return"function"==typeof t}const ry=new U("Set Injector scope."),th={},f3={};let iy;function nh(){return void 0===iy&&(iy=new FA),iy}class Xr{}class jA extends Xr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(e,o=>this.processProvider(o)),this.records.set(PA,zo(void 0,this)),i.has("environment")&&this.records.set(Xr,zo(void 0,this));const s=this.records.get(ry);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OA.multi,Ie,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ao(this),r=Hn(void 0);try{return e()}finally{Ao(n),Hn(r)}}get(e,n=Du,r=Y.Default){this.assertNotDestroyed(),r=Td(r);const i=Ao(this),s=Hn(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function _3(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&Dd(e);a=u&&this.injectableDefInScope(u)?zo(sy(e),th):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?nh():this.parent).get(e,n=r&Y.Optional&&n===Du?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Cd]=o[Cd]||[]).unshift(ke(e)),i)throw o;return function K$(t,e,n,r){const i=t[Cd];throw e[zT]&&i.unshift(e[zT]),t.message=function Q$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ke(e);if(Array.isArray(e))i=e.map(ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(H$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Cd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Hn(s),Ao(i)}}resolveInjectorInitializers(){const e=Ao(this),n=Hn(void 0);try{const r=this.get(eh.multi,Ie,Y.Self);for(const i of r)i()}finally{Ao(e),Hn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=vs(e=Q(e))?e:Q(e&&e.provide);const r=function g3(t){return ny(t)?zo(void 0,t.useValue):zo(GA(t),th)}(e);if(vs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=zo(void 0,th,!0),i.factory=()=>tm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===th&&(n.value=f3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function y3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function sy(t){const e=Dd(t),n=null!==e?e.factory:fs(t);if(null!==n)return n;if(t instanceof U)throw new x(204,!1);if(t instanceof Function)return function p3(t){const e=t.length;if(e>0)throw function Vu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function U$(t){const e=t&&(t[bd]||t[HT]);if(e){const n=function B$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function GA(t,e,n){let r;if(vs(t)){const i=Q(t);return fs(i)||sy(i)}if(ny(t))r=()=>Q(t.useValue);else if(function $A(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...tm(t.deps||[]));else if(function BA(t){return!(!t||!t.useExisting)}(t))r=()=>q(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function m3(t){return!!t.deps}(t))return fs(i)||sy(i);r=()=>new i(...tm(t.deps))}return r}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oy(t,e){for(const n of t)Array.isArray(n)?oy(n,e):n&&Zg(n)?oy(n.\u0275providers,e):e(n)}class v3{}class HA{}class I3{resolveComponentFactory(e){throw function w3(t){const e=Error(`No component factory found for ${ke(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ku=(()=>{class t{}return t.NULL=new I3,t})();function E3(){return Wo(kt(),D())}function Wo(t,e){return new Rn(Mn(t,e))}let Rn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=E3,t})();function D3(t){return t instanceof Rn?t.nativeElement:t}class zA{}let Jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function b3(){const t=D(),n=kn(kt().index,t);return(xn(n)?n:t)[11]}(),t})(),C3=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WA=new Ko("15.1.3"),ay={};function cy(t){return t.ngOriginalError}class Qo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cy(e);for(;n&&cy(n);)n=cy(n);return n||null}}function ei(t){return t instanceof Function?t():t}function QA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const YA="ng-template";function F3(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==QA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ZA(t){return 4===t.type&&t.value!==YA}function L3(t,e,n){return e===(4!==t.type||n?t.value:YA)}function V3(t,e,n){let r=4;const i=t.attrs||[],s=function $3(t){for(let e=0;e<t.length;e++)if(DS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!L3(t,u,n)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!F3(t.attrs,c,n)){if(or(r))return!1;o=!0}continue}const d=U3(8&r?"class":u,i,ZA(t),n);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==QA(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(t){return 0==(1&t)}function U3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function j3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function XA(t,e,n=!1){for(let r=0;r<e.length;r++)if(V3(t,e[r],n))return!0;return!1}function JA(t,e){return t?":not("+e.trim()+")":e}function H3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=JA(s,i),i=""),r=o,s=s||!or(r);n++}return""!==i&&(e+=JA(s,i)),e}const re={};function G(t){e1(ye(),D(),sn()+t,!1)}function e1(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Fd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ld(e,s,0,n)}ps(n)}function i1(t,e=null,n=null,r){const i=s1(t,e,n,r);return i.resolveInjectorInitializers(),i}function s1(t,e=null,n=null,r,i=new Set){const s=[n||Ie,LA(t)];return r=r||("object"==typeof t?void 0:ke(t)),new jA(s,e||nh(),r||null,i)}let Pn=(()=>{class t{static create(n,r){if(Array.isArray(n))return i1({name:""},r,n,"");{const i=n.name??"";return i1({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Du,t.NULL=new FA,t.\u0275prov=z({token:t,providedIn:"any",factory:()=>q(PA)}),t.__NG_ELEMENT_ID__=-1,t})();function E(t,e=Y.Default){const n=D();return null===n?q(t,e):NS(kt(),n,Q(t),e)}function f1(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];fm(n[r]),o.contentQueries(2,e[s],s)}}}function ih(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),cS(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function dG(){return lG++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Xo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function py(t,e,n,r,i){const s=hS(),o=cm(),u=t.data[e]=function mH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function yj(){return ne.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ru(){const t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ir(s,!0),s}function Qu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gy(t,e,n){pm(e);try{const r=t.viewQuery;null!==r&&Cy(1,r,n);const i=t.template;null!==i&&p1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&f1(t,e),t.staticViewQueries&&Cy(2,t.viewQuery,n);const s=t.components;null!==s&&function fH(t,e){for(let n=0;n<e.length;n++)OH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,gm()}}function sh(t,e,n,r){const i=e[2];if(128!=(128&i)){pm(e);try{cS(e),function pS(t){return ne.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&p1(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Fd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Ld(e,c,0,null),mm(e,0)}if(function RH(t){for(let e=Lm(t);null!==e;e=Vm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||um(i[3],1),i[2]|=512}}}(e),function NH(t){for(let e=Lm(t);null!==e;e=Vm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Pd(r)&&sh(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&f1(t,e),o){const c=t.contentCheckHooks;null!==c&&Fd(e,c)}else{const c=t.contentHooks;null!==c&&Ld(e,c,1),mm(e,1)}!function dH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ps(~i);else{const s=i,o=n[++r],a=n[++r];_j(o,s),a(2,e[s])}}}finally{ps(-1)}}(t,e);const a=t.components;null!==a&&function hH(t,e){for(let n=0;n<e.length;n++)PH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Cy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Fd(e,c)}else{const c=t.viewHooks;null!==c&&Ld(e,c,2),mm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,um(e[3],-1))}finally{gm()}}}function p1(t,e,n,r,i){const s=sn(),o=2&r;try{ps(-1),o&&e.length>22&&e1(t,e,22,!1),n(r,i)}finally{ps(s)}}function my(t,e,n){if(om(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function yy(t,e,n){dS()&&(function EH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Mu(n)&&function xH(t,e,n){const r=Mn(e,t),i=g1(n),s=t[10],o=oh(t,ih(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$d(n,e),Kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=gs(e,t,a,n);Kt(c,e),null!==o&&MH(0,a-i,c,u,0,o),sr(u)&&(kn(n.index,e)[8]=gs(e,t,a,n))}}(t,e,n,Mn(n,e)),64==(64&n.flags)&&I1(t,e,n))}function _y(t,e,n=Mn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function g1(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function vy(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function pH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function m1(t,e,n,r){const i=D1(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&b1(t).push(r,i.length-1))}function y1(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?_1(n,e,i,s):r.hasOwnProperty(i)&&_1(n,e,r[i],s)}return n}function _1(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function v1(t,e){const n=kn(e,t);16&n[2]||(n[2]|=32)}function wy(t,e,n,r){let i=!1;if(dS()){const s=null===r?null:{"":-1},o=function bH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(XA(e,o.selectors,!1))if(r||(r=[]),sr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Iy(t,e,a.length)}else r.unshift(o),Iy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,w1(t,e,n,a,s,u)),s&&function CH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Ou(n.mergedAttrs,n.attrs),i}function w1(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Em($d(n,e),t,r[c].type);!function SH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Qu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ou(n.mergedAttrs,l.hostAttrs),AH(t,n,e,u,l),TH(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function yH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=y1(d.inputs,l,u,h?h.inputs:null),c=y1(d.outputs,l,c,p);const g=null===u||null===o||ZA(e)?null:kH(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function I1(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function vj(){return ne.lFrame.currentDirectiveIndex}();try{ps(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];dm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&DH(u,c)}}finally{ps(-1),dm(o)}}function DH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Iy(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function TH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sr(e)&&(n[""]=t)}}function AH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=fs(i.type)),o=new Pu(s,sr(i),E);t.blueprint[r]=o,n[r]=o,function wH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function IH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Qu(t,n,i.hostVars,re),i)}function Dr(t,e,n,r,i,s){const o=Mn(t,e);!function Ey(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?te(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function MH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function kH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function E1(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function PH(t,e){const n=kn(e,t);if(Pd(n)){const r=n[1];48&n[2]?sh(r,n,r.template,n[8]):n[5]>0&&Dy(n)}}function Dy(t){for(let r=Lm(t);null!==r;r=Vm(r))for(let i=10;i<r.length;i++){const s=r[i];if(Pd(s))if(512&s[2]){const o=s[1];sh(o,s,o.template,s[8])}else s[5]>0&&Dy(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=kn(n[r],t);Pd(i)&&i[5]>0&&Dy(i)}}function OH(t,e){const n=kn(e,t),r=n[1];(function FH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),gy(r,n,n[8])}function oh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function by(t){for(;t;){t[2]|=32;const e=Gu(t);if(J$(t)&&!e)return t;t=e}return null}function ah(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{sh(t,e,t.template,n)}catch(o){throw r&&T1(e,o),o}finally{i.end&&i.end()}}function Cy(t,e,n){fm(0),e(t,n)}function D1(t){return t[7]||(t[7]=[])}function b1(t){return t.cleanup||(t.cleanup=[])}function T1(t,e){const n=t[9],r=n?n.get(Qo,null):null;r&&r.handleError(e)}function Ty(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function uh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Qg(i,a):2==s&&(r=Qg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ch(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Mt(s)),ir(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ch(u[1],u,c,r)}const o=n.type;if(8&o)ch(t,e,n.child,r);else if(32&o){const a=Fm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=yA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Gu(e[16]);ch(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Yu{get rootNodes(){const e=this._lView,n=e[1];return ch(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&($m(e,r),Hd(n,r))}this._attachedToViewContainer=!1}uA(this._lView[1],this._lView)}onDestroy(e){m1(this._lView[1],this._lView,null,e)}markForCheck(){by(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ah(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TG(t,e){Hu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class LH extends Yu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ah(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class S1 extends Ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=be(e);return new Zu(n,this.ngModule)}}function A1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class UH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Td(r);const i=this.injector.get(e,ay,r);return i!==ay||n===ay?i:this.parentInjector.get(e,n,r)}}class Zu extends HA{get inputs(){return A1(this.componentDef.inputs)}get outputs(){return A1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function q3(t){return t.map(H3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Xr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new UH(e,s):e,a=o.get(zA,null);if(null===a)throw new x(407,!1);const u=o.get(C3,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function gH(t,e,n){return t.selectRootElement(e,n===vr.ShadowDom)}(c,r,this.componentDef.encapsulation):Bm(c,l,function VH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=vy(0,null,null,1,0,null,null,null,null,null),p=ih(null,f,null,h,null,null,a,c,u,o,null);let g,y;pm(p);try{const I=this.componentDef;let b,v=null;I.findHostDirectiveDefs?(b=[],v=new Map,I.findHostDirectiveDefs(I,b,v),b.push(I)):b=[I];const P=function $H(t,e){const n=t[1];return t[22]=e,Xo(n,22,2,"#host",null)}(p,d),B=function jH(t,e,n,r,i,s,o,a){const u=i[1];!function GH(t,e,n,r){for(const i of t)e.mergedAttrs=Ou(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(uh(e,e.mergedAttrs,!0),null!==n&&wA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=ih(i,g1(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Iy(u,t,r.length-1),oh(i,l),i[t.index]=l}(P,d,I,b,p,a,c);y=uS(f,22),d&&function qH(t,e,n,r){if(r)_m(t,n,["ng-version",WA.full]);else{const{attrs:i,classes:s}=function z3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&_m(t,n,i),s&&s.length>0&&vA(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function zH(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),g=function HH(t,e,n,r,i,s){const o=kt(),a=i[1],u=Mn(o,i);w1(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Kt(gs(i,a,o.directiveStart+l,o),i);I1(a,i,o),u&&Kt(u,i);const c=gs(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return my(a,o,t),c}(B,I,b,v,p,[WH]),gy(f,p,null)}finally{gm()}return new BH(this.componentType,g,Wo(y,p),p,y)}}class BH extends v3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new LH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Ty(s[1],s,i,e,n),v1(s,this._tNode.index)}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function WH(){const t=kt();Od(D()[1],t)}function Ce(t){let e=function x1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Sy(t.inputs),o.declaredInputs=Sy(t.declaredInputs),o.outputs=Sy(t.outputs);const a=i.hostBindings;a&&ZH(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&QH(t,u),c&&YH(t,c),Kg(t.inputs,i.inputs),Kg(t.declaredInputs,i.declaredInputs),Kg(t.outputs,i.outputs),sr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function KH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,n=Ou(n,i.hostAttrs))}}(r)}function Sy(t){return t===qr?{}:t===Ie?[]:t}function QH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function YH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function ZH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let lh=null;function ws(){if(!lh){const t=Re.Symbol;if(t&&t.iterator)lh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(lh=r)}}}return lh}function dh(t){return!!Ay(t)&&(Array.isArray(t)||!(t instanceof Map)&&ws()in t)}function Ay(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function br(t,e,n){return t[e]=n}function Qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Cr(t,e,n,r){const i=D();return Qt(i,Oo(),e)&&(ye(),Dr(je(),i,t,e,n,r)),Cr}function We(t,e,n,r,i,s,o,a){const u=D(),c=ye(),l=t+22,d=c.firstCreatePass?function a5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Xo(e,t,4,o||null,Ai(c,a));wy(e,n,l,Ai(c,u)),Od(e,l);const d=l.tViews=vy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Ir(d,!1);const h=u[11].createComment("");Qd(c,u,h,d),Kt(h,u),oh(u,u[l]=E1(h,u,h,d)),Nd(d)&&yy(c,u,d),null!=o&&_y(u,d,a)}function ie(t,e,n){const r=D();return Qt(r,Oo(),e)&&function On(t,e,n,r,i,s,o,a){const u=Mn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Ty(t,n,l,r,i),Mu(e)&&v1(n,e.index)):3&e.type&&(r=function _H(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ye(),je(),r,t,e,r[11],n,!1),ie}function xy(t,e,n,r,i){const o=i?"class":"style";Ty(t,n,e.inputs[o],o,r)}function A(t,e,n,r){const i=D(),s=ye(),o=22+t,a=i[11],u=i[o]=Bm(a,e,function Cj(){return ne.lFrame.currentNamespace}()),c=s.firstCreatePass?function c5(t,e,n,r,i,s,o){const a=e.consts,c=Xo(e,t,2,i,Ai(a,s));return wy(e,n,c,Ai(a,o)),null!==c.attrs&&uh(c,c.attrs,!1),null!==c.mergedAttrs&&uh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return Ir(c,!0),wA(a,u,c),32!=(32&c.flags)&&Qd(s,i,u,c),0===function dj(){return ne.lFrame.elementDepthCount}()&&Kt(u,i),function hj(){ne.lFrame.elementDepthCount++}(),Nd(c)&&(yy(s,i,c),my(s,c,i)),null!==r&&_y(i,c),A}function S(){let t=kt();cm()?lm():(t=t.parent,Ir(t,!1));const e=t;!function fj(){ne.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(Od(n,t),om(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function xj(t){return 0!=(8&t.flags)}(e)&&xy(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mj(t){return 0!=(16&t.flags)}(e)&&xy(n,e,D(),e.stylesWithoutHost,!1),S}function ge(t,e,n,r){return A(t,e,n,r),S(),ge}function fh(t,e,n){const r=D(),i=ye(),s=t+22,o=i.firstCreatePass?function l5(t,e,n,r,i){const s=e.consts,o=Ai(s,r),a=Xo(e,t,8,"ng-container",o);return null!==o&&uh(a,o,!0),wy(e,n,a,Ai(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Ir(o,!0);const a=r[s]=r[11].createComment("");return Qd(i,r,a,o),Kt(a,r),Nd(o)&&(yy(i,r,o),my(i,o,r)),null!=n&&_y(r,o),fh}function ph(){let t=kt();const e=ye();return cm()?lm():(t=t.parent,Ir(t,!1)),e.firstCreatePass&&(Od(e,t),om(t)&&e.queries.elementEnd(t)),ph}function gh(){return D()}function Ju(t){return!!t&&"function"==typeof t.then}function H1(t){return!!t&&"function"==typeof t.subscribe}const My=H1;function xe(t,e,n,r){const i=D(),s=ye(),o=kt();return function z1(t,e,n,r,i,s,o){const a=Nd(r),c=t.firstCreatePass&&b1(t),l=e[8],d=D1(e);let h=!0;if(3&r.type||o){const g=Mn(r,e),y=o?o(g):g,I=d.length,b=o?P=>o(Mt(P[r.index])):r.index;let v=null;if(!o&&a&&(v=function d5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=K1(r,e,l,s,!1);const P=n.listen(y,i,s);d.push(s,P),c&&c.push(i,b,I,I+1)}}else s=K1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const B=e[p[y]][p[y+1]].subscribe(s),j=d.length;d.push(s,B),c&&c.push(i,r.index,j,-(j+1))}}}(s,i,i[11],o,t,e,r),xe}function W1(t,e,n,r){try{return!1!==n(r)}catch(i){return T1(t,i),!1}}function K1(t,e,n,r,i){return function s(o){if(o===Function)return r;by(t.componentOffset>-1?kn(t.index,e):e);let u=W1(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=W1(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Dt(t=1){return function Ij(t){return(ne.lFrame.contextLView=function Ej(t,e){for(;t>0;)e=e[15],t--;return e}(t,ne.lFrame.contextLView))[8]}(t)}function mh(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function Ny(t){return 2|t}function Es(t){return(131068&t)>>2}function Ry(t,e){return-131069&t|e<<2}function Py(t){return 1|t}function ix(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Mi(s):Es(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];w5(t[a],e)&&(u=!0,t[a+1]=r?Py(l):Ny(l)),a=r?Mi(l):Es(l)}u&&(t[n+1]=r?Ny(s):Py(s))}function w5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&jo(t,e)>=0}function ec(t,e){return function ar(t,e,n,r){const i=D(),s=ye(),o=function Yr(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function fx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[sn()],o=function hx(t,e){return e>=t.expandoStartIndex}(t,n);(function yx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function x5(t,e,n,r){const i=function hm(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=tc(n=Oy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Oy(i,t,e,n,r),null===s){let u=function M5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Es(r))return t[Mi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Oy(null,t,e,u[1],r),u=tc(u,e.attrs,r),function k5(t,e,n,r){t[Mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function N5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tc(r,t[s].hostAttrs,n);return tc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function _5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mi(o),u=Es(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||jo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Mi(t[a+1]);t[r+1]=mh(h,a),0!==h&&(t[h+1]=Ry(t[h+1],r)),t[a+1]=function m5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=mh(a,0),0!==a&&(t[a+1]=Ry(t[a+1],r)),a=r;else t[r+1]=mh(u,0),0===a?a=r:t[u+1]=Ry(t[u+1],r),u=r;c&&(t[r+1]=Ny(t[r+1])),ix(t,l,r,!0),ix(t,l,r,!1),function v5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&jo(s,e)>=0&&(n[r+1]=Py(n[r+1]))}(e,l,t,r,s),o=mh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==re&&Qt(i,o,e)&&function gx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function y5(t){return 1==(1&t)}(c)?mx(u,e,n,i,Es(c),o):void 0;yh(l)||(yh(s)||function g5(t){return 2==(2&t)}(c)&&(s=mx(u,null,n,i,a,o)),function FG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:mn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mn.Important),t.setStyle(n,r,i,s))}}(r,o,Rd(sn(),n),i,s))}(s,s.data[sn()],i,i[11],t,i[o+1]=function O5(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ke(xi(t)))),t}(e,n),r,o)}(t,e,null,!0),ec}function Oy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=tc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function tc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,o,!!n||e[++s]))}return void 0===t?null:t}function mx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?Ie:void 0);let f=d?Tm(h,r):l===r?h:void 0;if(c&&!yh(f)&&(f=Tm(u,r)),yh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Mi(p):Es(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Tm(u,r))}return a}function yh(t){return void 0!==t}function H(t,e=""){const n=D(),r=ye(),i=t+22,s=r.firstCreatePass?Xo(r,i,1,e,null):r.data[i],o=n[i]=function Um(t,e){return t.createText(e)}(n[11],e);Qd(r,n,o,s),Ir(s,!1)}function ki(t){return Yn("",t,""),ki}function Yn(t,e,n){const r=D(),i=function ea(t,e,n,r){return Qt(t,Oo(),n)?e+te(n)+r:re}(r,t,e,n);return i!==re&&function ti(t,e,n){const r=Rd(e,t);!function oA(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,sn(),i),Yn}const Ds=void 0;var tq=["en",[["a","p"],["AM","PM"],Ds],[["AM","PM"],Ds,Ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ds,"{1} 'at' {0}",Ds],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eq(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ca={};function an(t){const e=function nq(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Vx(e);if(n)return n;const r=e.split("-")[0];if(n=Vx(r),n)return n;if("en"===r)return tq;throw new x(701,!1)}function Vx(t){return t in ca||(ca[t]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[t]),ca[t]}var R=(()=>((R=R||{})[R.LocaleId=0]="LocaleId",R[R.DayPeriodsFormat=1]="DayPeriodsFormat",R[R.DayPeriodsStandalone=2]="DayPeriodsStandalone",R[R.DaysFormat=3]="DaysFormat",R[R.DaysStandalone=4]="DaysStandalone",R[R.MonthsFormat=5]="MonthsFormat",R[R.MonthsStandalone=6]="MonthsStandalone",R[R.Eras=7]="Eras",R[R.FirstDayOfWeek=8]="FirstDayOfWeek",R[R.WeekendRange=9]="WeekendRange",R[R.DateFormat=10]="DateFormat",R[R.TimeFormat=11]="TimeFormat",R[R.DateTimeFormat=12]="DateTimeFormat",R[R.NumberSymbols=13]="NumberSymbols",R[R.NumberFormats=14]="NumberFormats",R[R.CurrencyCode=15]="CurrencyCode",R[R.CurrencySymbol=16]="CurrencySymbol",R[R.CurrencyName=17]="CurrencyName",R[R.Currencies=18]="Currencies",R[R.Directionality=19]="Directionality",R[R.PluralCase=20]="PluralCase",R[R.ExtraData=21]="ExtraData",R))();const la="en-US";let Ux=la;function Vy(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)Vy(t[s],e,n,r,i);else{const s=ye(),o=D();let a=vs(t)?t:Q(t.provide),u=GA(t);const c=kt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(vs(t)||!t.multi){const f=new Pu(u,i,E),p=By(a,e,i?l:l+h,d);-1===p?(Em($d(c,o),s,a),Uy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=By(a,e,l+h,d),p=By(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Em($d(c,o),s,a);const I=function Jq(t,e,n,r,i){const s=new Pu(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,lM(s,i,r&&!n),s}(i?Xq:Zq,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),Uy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else Uy(s,t,f>-1?f:p,lM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Uy(t,e,n,r){const i=vs(e),s=function h3(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function lM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function By(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zq(t,e,n,r){return $y(this.multi,[])}function Xq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gs(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),$y(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],$y(i,s);return s}function $y(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ve(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Yq(t,e,n){const r=ye();if(r.firstCreatePass){const i=sr(t);Vy(n,r.data,r.blueprint,i,!0),Vy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class da{}class dM{}class hM extends da{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new S1(this);const r=An(e);this._bootstrapComponents=ei(r.bootstrap),this._r3Injector=s1(e,n,[{provide:da,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jy extends dM{constructor(e){super(),this.moduleType=e}create(e){return new hM(this.moduleType,e)}}class tz extends da{constructor(e,n,r){super(),this.componentFactoryResolver=new S1(this),this.instance=null;const i=new jA([...e,{provide:da,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],n||nh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Eh(t,e,n=null){return new tz(t,e,n).injector}let nz=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=VA(0,n.type),i=r.length>0?Eh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(q(Xr))}),t})();function Ni(t){t.getStandaloneInjector=e=>e.get(nz).getOrCreateStandaloneInjector(t)}function Dh(t,e,n,r){return vM(D(),rn(),t,e,n,r)}function ac(t,e){const n=t[e];return n===re?void 0:n}function vM(t,e,n,r,i,s){const o=e+n;return Qt(t,o,i)?br(t,o+1,s?r.call(s,i):r(i)):ac(t,o+1)}function wM(t,e,n,r,i,s,o){const a=e+n;return function Is(t,e,n,r){const i=Qt(t,e,n);return Qt(t,e+1,r)||i}(t,a,i,s)?br(t,a+2,o?r.call(o,i,s):r(i,s)):ac(t,a+2)}function ni(t,e){const n=ye();let r;const i=t+22;n.firstCreatePass?(r=function wz(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=fs(r.type)),o=Hn(E);try{const a=Bd(!1),u=s();return Bd(a),function u5(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,u),u}finally{Hn(o)}}function Hy(t,e,n){const r=t+22,i=D(),s=Po(i,r);return uc(i,r)?vM(i,rn(),e,s.transform,n,s):s.transform(n)}function bs(t,e,n,r){const i=t+22,s=D(),o=Po(s,i);return uc(s,i)?wM(s,rn(),e,o.transform,n,r,o):o.transform(n,r)}function uc(t,e){return t[1].data[e].pure}function qy(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class bz extends Gr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=qy(s),i&&(i=qy(i)),o&&(o=qy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tn&&e.add(a),a}};function Cz(){return this._results[ws()]()}class zy{get changes(){return this._changes||(this._changes=new Qe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ws(),r=zy.prototype;r[n]||(r[n]=Cz)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Kn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Bj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=Az,t})();const Tz=ri,Sz=class extends Tz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=ih(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),gy(r,i,e),new Yu(i)}};function Az(){return bh(kt(),D())}function bh(t,e){return 4&t.type?new Sz(e,t,Wo(t,e)):null}let cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=xz,t})();function xz(){return TM(kt(),D())}const Mz=cr,bM=class extends Mz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Im(this._hostTNode,this._hostLView);if(TS(e)){const n=Ud(e,this._hostLView),r=Vd(e);return new Lo(n[1].data[r+8],n)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=CM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Lu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Zu(be(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Xr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function lj(t){return ir(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new bM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function AG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],VS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function xG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Hm(s,o),u=r[11],c=Kd(u,o[7]);return null!==c&&function CG(t,e,n,r,i,s){r[0]=i,r[6]=e,Hu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),VS(Wy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=CM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=$m(this._lContainer,n);r&&(Hd(Wy(this._lContainer),n),uA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=$m(this._lContainer,n);return r&&null!=Hd(Wy(this._lContainer),n)?new Yu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CM(t){return t[8]}function Wy(t){return t[8]||(t[8]=[])}function TM(t,e){let n;const r=e[t.index];if(ir(r))n=r;else{let i;if(8&t.type)i=Mt(r);else{const s=e[11];i=s.createComment("");const o=Mn(t,e);ys(s,Kd(s,o),i,function RG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=E1(r,e,i,t),oh(e,n)}return new bM(n,t,e)}class Ky{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Qy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==NM(e,n).matches&&this.queries[n].setDirty()}}class SM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Yy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Yy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Zy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,kz(n,s)),this.matchTNodeWithReadOption(e,n,jd(n,e,s,!1,!1))}else r===ri?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rn||i===cr||i===ri&&4&n.type)this.addMatch(n.index,-2);else{const s=jd(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function kz(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Rz(t,e,n,r){return-1===n?function Nz(t,e){return 11&t.type?Wo(t,e):4&t.type?bh(t,e):null}(e,t):-2===n?function Pz(t,e,n){return n===Rn?Wo(e,t):n===ri?bh(e,t):n===cr?TM(e,t):void 0}(t,e,r):gs(t,t[1],n,e)}function AM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:Rz(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Xy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=AM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Xy(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Xy(f[1],f,c,r)}}}}}return r}function Ch(t){const e=D(),n=ye(),r=mS();fm(r+1);const i=NM(n,r);if(t.dirty&&function cj(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Xy(n,e,r,[]):AM(n,e,i,r);t.reset(s,D3),t.notifyOnChanges()}return!0}return!1}function Jy(t,e,n){const r=ye();r.firstCreatePass&&(function kM(t,e,n){null===t.queries&&(t.queries=new Yy),t.queries.track(new Zy(e,n))}(r,new SM(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function MM(t,e,n){const r=new zy(4==(4&n));m1(t,e,r,r.destroy),null===e[19]&&(e[19]=new Qy),e[19].queries.push(new Ky(r))}(r,D(),e)}function Th(){return function Oz(t,e){return t[19].queries[e].queryList}(D(),mS())}function NM(t,e){return t.queries.getByIndex(e)}function RM(t,e){return bh(t,e)}function Ah(...t){}const xh=new U("Application Initializer");let Mh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ah,this.reject=Ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ju(s))n.push(s);else if(My(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(q(xh,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const i_=new U("AppId",{providedIn:"root",factory:function XM(){return`${s_()}${s_()}${s_()}`}});function s_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JM=new U("Platform Initializer"),kh=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),o_=new U("appBootstrapListener");let n4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ii=new U("LocaleId",{providedIn:"root",factory:()=>pe(ii,Y.Optional|Y.SkipSelf)||function r4(){return typeof $localize<"u"&&$localize.locale||la}()}),i4=new U("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class s4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ek=(()=>{class t{compileModuleSync(n){return new jy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ei(An(n).declarations).reduce((o,a)=>{const u=be(a);return u&&o.push(new Zu(u)),o},[]);return new s4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const u4=(()=>Promise.resolve(0))();class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function c4(){let t=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function h4(t){const e=()=>{!function d4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Re,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,c_(t),t.isCheckStableRunning=!0,u_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),c_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return rk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ik(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return rk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ik(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,c_(t),u_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,l4,Ah,Ah);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const l4={};function u_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function c_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ik(t){t._nesting--,u_(t)}class f4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const sk=new U("");let Ri=null;const f_=new U("PlatformDestroyListeners");class ak{constructor(e,n){this.name=e,this.token=n}}function v4(t){const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function _4(t=[]){if(Ri)return Ri;const e=function ck(t=[],e){return Pn.create({name:e,providers:[{provide:ry,useValue:"platform"},{provide:f_,useValue:new Set([()=>Ri=null])},...t]})}(t);return Ri=e,function uk(t){const e=t.get(JM,null);e&&e.forEach(n=>n())}(e),e}(r),s=function hk(t,e){let n;return n="noop"===t?new f4:("zone.js"===t?void 0:t)||new Ge(e),n}("zone.js",function dk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}());return s.run(()=>{const a=Eh([{provide:Ge,useValue:s},...n||[]],i,"Environment Injector"),u=a.get(Qo,null);let c;s.runOutsideAngular(()=>{c=s.onError.subscribe({next:h=>{u.handleError(h)}})});const l=()=>a.destroy(),d=i.get(f_);return d.add(l),a.onDestroy(()=>{c.unsubscribe(),d.delete(l)}),function fk(t,e,n){try{const r=n();return Ju(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,s,()=>{const h=a.get(Mh);return h.runInitializers(),h.donePromise.then(()=>{!function Bx(t){jn(t,"Expected localeId to be defined"),"string"==typeof t&&(Ux=t.toLowerCase().replace(/_/g,"-"))}(a.get(ii,la)||la);const p=a.get(Rh);return void 0!==e&&p.bootstrap(e),p})})})}let Rh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new $e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new $e(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),function a_(t){typeof Zone>"u"?u4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function M$(...t){const e=Eu(t),n=function D$(t,e){return"number"==typeof zg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?$n(r[0]):So(n)(at(r,e)):_r}(s,o.pipe(function k$(t={}){const{connector:e=(()=>new Gr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Et((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Wg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new Iu({next:b=>I.next(b),error:b=>{d=!0,h(),a=Wg(f,n,b),I.error(b)},complete:()=>{l=!0,h(),a=Wg(f,r),I.complete()}}),$n(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof HA;if(!this._injector.get(Mh).done)throw!i&&function xo(t){const e=be(t)||qt(t)||tn(t);return null!==e&&e.standalone}(n),new x(405,false);let o;o=i?n:this._injector.get(Ku).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function m4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(da),c=o.create(Pn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(sk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ph(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ph(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(o_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ph(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(q(Ge),q(Xr),q(Qo))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ph(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Oh=(()=>{class t{}return t.__NG_ELEMENT_ID__=E4,t})();function E4(t){return function D4(t,e,n){if(Mu(t)&&!n){const r=kn(t.index,e);return new Yu(r,r)}return 47&t.type?new Yu(e[16],e):null}(kt(),D(),16==(16&t))}class vk{constructor(){}supports(e){return dh(e)}create(e){return new x4(e)}}const A4=(t,e)=>e;class x4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||A4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Ik(r,i,s)?n:r,a=Ik(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!dh(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function i5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new M4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new wk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class M4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class k4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new k4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ik(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ek{constructor(){}supports(e){return e instanceof Map||Ay(e)}create(){return new N4}}class N4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ay(e)))throw new x(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new R4(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class R4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dk(){return new Vh([new vk])}let Vh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Dk()),deps:[[t,new Uu,new on]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:Dk}),t})();function bk(){return new lc([new Ek])}let lc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bk()),deps:[[t,new Uu,new on]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new x(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:bk}),t})();function pa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let v_=null;function Ar(){return v_}class V4{}const _n=new U("DocumentToken");let w_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return function U4(){return q(Ck)}()},providedIn:"platform"}),t})();const B4=new U("Location Initialized");let Ck=(()=>{class t extends w_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ar().getBaseHref(this._doc)}onPopState(n){const r=Ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){Tk()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){Tk()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(q(_n))},t.\u0275prov=z({token:t,factory:function(){return function $4(){return new Ck(q(_n))}()},providedIn:"platform"}),t})();function Tk(){return!!window.history.pushState}function I_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Sk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function oi(t){return t&&"?"!==t[0]?"?"+t:t}let Ts=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return pe(xk)},providedIn:"root"}),t})();const Ak=new U("appBaseHref");let xk=(()=>{class t extends Ts{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(_n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return I_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+oi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+oi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+oi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(w_),q(Ak,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),j4=(()=>{class t extends Ts{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=I_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(q(w_),q(Ak,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),Uh=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function q4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Sk(Mk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+oi(r))}normalize(n){return t.stripTrailingSlash(function H4(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,Mk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=oi,t.joinWithSlash=I_,t.stripTrailingSlash=Sk,t.\u0275fac=function(n){return new(n||t)(q(Ts))},t.\u0275prov=z({token:t,factory:function(){return function G4(){return new Uh(q(Ts))}()},providedIn:"root"}),t})();function Mk(t){return t.replace(/\/index.html$/,"")}const kk={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var vn=(()=>((vn=vn||{})[vn.Decimal=0]="Decimal",vn[vn.Percent=1]="Percent",vn[vn.Currency=2]="Currency",vn[vn.Scientific=3]="Scientific",vn))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function Zn(t,e){const n=an(t),r=n[R.NumberSymbols][e];if(typeof r>"u"){if(e===W.CurrencyDecimal)return n[R.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return n[R.NumberSymbols][W.Group]}return r}const yW=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function IW(t,e,n,r,i){const o=function A_(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const d=u.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function E_(t,e){return an(t)[R.NumberFormats][e]}(e,vn.Currency),Zn(e,W.MinusSign));return o.minFrac=function rW(t){let e;const n=kk[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function S_(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function CW(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function bW(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const b=s.match(yW);if(null===b)throw new Error(`${s} is not a valid digit info`);const v=b[1],P=b[3],B=b[5];null!=v&&(l=x_(v)),null!=P&&(d=x_(P)),null!=B?h=x_(B):null!=P&&d>h&&(h=d)}!function TW(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let y=[];for(u=f.every(b=>!b);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const I=[];for(f.length>=e.lgSize&&I.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)I.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&I.unshift(f.join("")),a=I.join(Zn(n,r)),y.length&&(a+=Zn(n,i)+y.join("")),g&&(a+=Zn(n,W.Exponential)+"+"+g)}else a=Zn(n,W.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,W.CurrencyGroup,W.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function x_(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const k_=/\s+/,Uk=[];let Bk=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Uk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(k_):Uk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(k_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(k_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(E(Vh),E(lc),E(Rn),E(Jr))},t.\u0275dir=X({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class MW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fc=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new MW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Gk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Gk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(cr),E(ri),E(Vh))},t.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Gk(t,e){t.context.$implicit=e.item}let pc=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new NW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Hk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Hk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(cr),E(ri))},t.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class NW{constructor(){this.$implicit=null,this.ngIf=null}}function Hk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ke(e)}'.`)}function hr(t,e){return new x(2100,!1)}class OW{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class FW{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const LW=new FW,VW=new OW;let P_=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Ju(n))return LW;if(H1(n))return VW;throw hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(E(Oh,16))},t.\u0275pipe=gn({name:"async",type:t,pure:!1,standalone:!0}),t})(),O_=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function F_(t){return!(null==t||""===t||t!=t)}(n))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function tW(t,e,n="en"){const r=function Z4(t){return an(t)[R.Currencies]}(n)[t]||kk[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return IW(function L_(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),o,a,r,s)}catch(u){throw hr()}}}return t.\u0275fac=function(n){return new(n||t)(E(ii,16),E(i4,16))},t.\u0275pipe=gn({name:"currency",type:t,pure:!0,standalone:!0}),t})();let ga=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({}),t})();let i8=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>new s8(q(_n),window)}),t})();class s8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function o8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kk(this.window.history)||Kk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class P8 extends V4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $_ extends P8{static makeCurrent(){!function L4(t){v_||(v_=t)}(new $_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function O8(){return mc=mc||document.querySelector("base"),mc?mc.getAttribute("href"):null}();return null==n?null:function F8(t){Yh=Yh||document.createElement("a"),Yh.setAttribute("href",t);const e=Yh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function AW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Yh,mc=null,B8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const Zh=new U("EventManagerPlugins");let Xh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(q(Zh),q(Ge))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class Jk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ar().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let eN=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),yc=(()=>{class t extends eN{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(tN),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(tN))}}return t.\u0275fac=function(n){return new(n||t)(q(_n))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function tN(t){Ar().remove(t)}const j_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},G_=/%COMP%/g;function H_(t,e){return e.flat(100).map(n=>n.replace(G_,t))}function iN(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let q_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new z_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case vr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new z8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case vr.ShadowDom:return new W8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=H_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(q(Xh),q(yc),q(i_))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class z_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(j_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(oN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=j_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=j_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(n,r,i&mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,iN(r)):this.eventManager.addEventListener(e,n,iN(r))}}function oN(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class z8 extends z_{constructor(e,n,r,i){super(e),this.component=r;const s=H_(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function G8(t){return"_ngcontent-%COMP%".replace(G_,t)}(i+"-"+r.id),this.hostAttr=function H8(t){return"_nghost-%COMP%".replace(G_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class W8 extends z_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=H_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let K8=(()=>{class t extends Jk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(q(_n))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const aN=["alt","control","meta","shift"],Q8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Z8=(()=>{class t extends Jk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ar().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),aN.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Q8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aN.forEach(o=>{o!==i&&(0,Y8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(q(_n))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function cN(t){return{appProviders:[...s6,...t?.providers??[]],platformProviders:n6}}const n6=[{provide:kh,useValue:"browser"},{provide:JM,useValue:function J8(){$_.makeCurrent()},multi:!0},{provide:_n,useFactory:function t6(){return function $G(t){Km=t}(document),document},deps:[]}],s6=[{provide:ry,useValue:"root"},{provide:Qo,useFactory:function e6(){return new Qo},deps:[]},{provide:Zh,useClass:K8,multi:!0,deps:[_n,Ge,kh]},{provide:Zh,useClass:Z8,multi:!0,deps:[_n]},{provide:q_,useClass:q_,deps:[Xh,yc,i_]},{provide:zA,useExisting:q_},{provide:eN,useExisting:yc},{provide:yc,useClass:yc,deps:[_n]},{provide:Xh,useClass:Xh,deps:[Zh,Ge]},{provide:class a8{},useClass:B8,deps:[]},[]];let lN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(q(_n))},t.\u0275prov=z({token:t,factory:function(n){let r=null;return r=n?new n:function a6(){return new lN(q(_n))}(),r},providedIn:"root"}),t})();function K(...t){return at(t,Eu(t))}typeof window<"u"&&window;class fr extends Gr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Jh=wu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:g6}=Array,{getPrototypeOf:m6,prototype:y6,keys:_6}=Object;function fN(t){if(1===t.length){const e=t[0];if(g6(e))return{args:e,keys:null};if(function v6(t){return t&&"object"==typeof t&&m6(t)===y6}(e)){const n=_6(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:w6}=Array;function pN(t){return le(e=>function I6(t,e){return w6(e)?t(...e):t(e)}(t,e))}function gN(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function K_(...t){const e=Eu(t),n=UT(t),{args:r,keys:i}=fN(t);if(0===r.length)return at([],e);const s=new $e(function E6(t,e,n=ls){return r=>{mN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)mN(e,()=>{const c=at(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>gN(i,o):ls));return n?s.pipe(pN(n)):s}function mN(t,e,n){t?Hr(n,t,e):e()}function Q_(...t){return function D6(){return So(1)}()(at(t,Eu(t)))}function yN(t){return new $e(e=>{$n(t()).subscribe(e)})}function _c(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new $e(e?i=>e.schedule(r,0,i):r)}function Y_(){return Et((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class _N extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return Y_()(this)}}function pr(t,e){return Et((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;$n(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function vc(t){return t<=0?()=>_r:Et((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Oi(t,e){return Et((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ef(t){return Et((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vN(t=C6){return Et((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function C6(){return new Jh}function Fi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oi((i,s)=>t(i,s,r)):ls,vc(1),n?ef(e):vN(()=>new Jh))}function Ss(t,e){return Me(e)?xt(t,e,1):xt(t,1)}function Pt(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?Et((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ls}function Li(t){return Et((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=$n(t(o,Li(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function T6(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function wN(t,e){return Et(T6(t,e,arguments.length>=2,!0))}function Z_(t){return t<=0?()=>_r:Et((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function IN(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oi((i,s)=>t(i,s,r)):ls,Z_(1),n?ef(e):vN(()=>new Jh))}function X_(t){return Et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",wc=Symbol("RouteTitle");class x6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ma(t){return new x6(t)}function M6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!EN(t[i],e[i]))return!1;return!0}function EN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function DN(t){return Array.prototype.concat.apply([],t)}function bN(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Vi(t){return My(t)?t:Ju(t)?at(Promise.resolve(t)):K(t)}const tf=!1,N6={exact:function SN(t,e,n){if(!xs(t.segments,e.segments)||!nf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SN(t.children[r],e.children[r],n))return!1;return!0},subset:AN},CN={exact:function R6(t,e){return xr(t,e)},subset:function P6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EN(t[n],e[n]))},ignored:()=>!0};function TN(t,e,n){return N6[n.paths](t.root,e.root,n.matrixParams)&&CN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function AN(t,e,n){return xN(t,e,e.segments,n)}function xN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!xs(i,n)||e.hasChildren()||!nf(i,n,r))}if(t.segments.length===n.length){if(!xs(t.segments,n)||!nf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!AN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(xs(t.segments,i)&&nf(t.segments,i,r)&&t.children[se])&&xN(t.children[se],e,s,r)}}function nf(t,e,n){return e.every((r,i)=>CN[n](t[i].parameters,r.parameters))}class As{constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return L6.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ot(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rf(this)}}class Ic{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return NN(this)}}function xs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ec=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return new J_},providedIn:"root"}),t})();class J_{parse(e){const n=new z6(e);return new As(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Dc(e.root,!0)}`,r=function B6(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${sf(n)}=${sf(i)}`).join("&"):`${sf(n)}=${sf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function V6(t){return encodeURI(t)}(e.fragment)}`:""}`}}const L6=new J_;function rf(t){return t.segments.map(e=>NN(e)).join("/")}function Dc(t,e){if(!t.hasChildren())return rf(t);if(e){const n=t.children[se]?Dc(t.children[se],!1):"",r=[];return Ot(t.children,(i,s)=>{s!==se&&r.push(`${s}:${Dc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function F6(t,e){let n=[];return Ot(t.children,(r,i)=>{i===se&&(n=n.concat(e(r,i)))}),Ot(t.children,(r,i)=>{i!==se&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===se?[Dc(t.children[se],!1)]:[`${i}:${Dc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${rf(t)}/${n[0]}`:`${rf(t)}/(${n.join("//")})`}}function MN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(t){return MN(t).replace(/%3B/gi,";")}function ev(t){return MN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function af(t){return decodeURIComponent(t)}function kN(t){return af(t.replace(/\+/g,"%20"))}function NN(t){return`${ev(t.path)}${function U6(t){return Object.keys(t).map(e=>`;${ev(e)}=${ev(t[e])}`).join("")}(t.parameters)}`}const $6=/^[^\/()?;=#]+/;function uf(t){const e=t.match($6);return e?e[0]:""}const j6=/^[^=?&#]+/,H6=/^[^&#]+/;class z6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new de(e,n)),r}parseSegment(){const e=uf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,tf);return this.capture(e),new Ic(af(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=uf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uf(this.remaining);i&&(r=i,this.capture(r))}e[af(n)]=af(r)}parseQueryParam(e){const n=function G6(t){const e=t.match(j6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function q6(t){const e=t.match(H6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kN(n),s=kN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,tf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,tf)}}function tv(t){return t.segments.length>0?new de([],{[se]:t}):t}function cf(t){const e={};for(const r of Object.keys(t.children)){const s=cf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function W6(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}function Ms(t){return t instanceof As}function Y6(t,e,n,r,i){if(0===n.length)return ya(e.root,e.root,e.root,r,i);const s=function ON(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new PN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ot(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PN(n,e,r)}(n);return s.toRoot()?ya(e.root,e.root,new de([],{}),r,i):function o(u){const c=function X6(t,e,n,r){if(t.isAbsolute)return new _a(e.root,!0,0);if(-1===r)return new _a(n,n===e.root,0);return function FN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new _a(r,!1,i-s)}(n,r+(bc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?va(c.segmentGroup,c.index,s.commands):rv(c.segmentGroup,c.index,s.commands);return ya(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function bc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Cc(t){return"object"==typeof t&&null!=t&&t.outlets}function ya(t,e,n,r,i){let o,s={};r&&Ot(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:RN(t,e,n);const a=tv(cf(o));return new As(a,s,i)}function RN(t,e,n){const r={};return Ot(t.children,(i,s)=>{r[s]=i===e?n:RN(i,e,n)}),new de(t.segments,r)}class PN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bc(r[0]))throw new x(4003,!1);const i=r.find(Cc);if(i&&i!==bN(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _a{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function rv(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return va(t,e,n);const r=function e7(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Cc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!VN(u,c,o))return s;r+=2}else{if(!VN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new de(t.segments.slice(r.pathIndex),t.children),va(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?iv(t,e,n):r.match?va(t,0,i):iv(t,e,n)}function va(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function J6(t){return Cc(t[0])?t[0].outlets:{[se]:t}}(n),i={};return!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length?va(t.children[se],e,n):(Ot(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=rv(t.children[o],e,s))}),Ot(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i))}}function iv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Cc(s)){const u=t7(s.outlets);return new de(r,u)}if(0===i&&bc(n[0])){r.push(new Ic(t.segments[e].path,LN(n[0]))),i++;continue}const o=Cc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&bc(a)?(r.push(new Ic(o,LN(a))),i+=2):(r.push(new Ic(o,{})),i++)}return new de(r,{})}function t7(t){const e={};return Ot(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=iv(new de([],{}),0,n))}),e}function LN(t){const e={};return Ot(t,(n,r)=>e[r]=`${n}`),e}function VN(t,e,n){return t==n.path&&xr(e,n.parameters)}const Tc="imperative";class Mr{constructor(e,n){this.id=e,this.url=n}}class sv extends Mr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends Mr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lf extends Mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UN extends Mr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class BN extends Mr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n7 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r7 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i7 extends Mr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s7 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o7 extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $N{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let p7=(()=>{class t{createUrlTree(n,r,i,s,o,a){return Y6(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),g7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(e){return p7.\u0275fac(e)},providedIn:"root"}),t})();class jN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ov(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ov(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=av(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return av(e,this._root).map(n=>n.value)}}function ov(t,e){if(t===e.value)return e;for(const n of e.children){const r=ov(t,n);if(r)return r}return null}function av(t,e){if(t===e.value)return[e];for(const n of e.children){const r=av(t,n);if(r.length)return r.unshift(e),r}return[]}class ui{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function wa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GN extends jN{constructor(e,n){super(e),this.snapshot=n,uv(this,e)}toString(){return this.snapshot.toString()}}function HN(t,e){const n=function m7(t,e){const o=new df([],{},{},"",{},se,e,null,t.root,-1,{});return new zN("",new ui(o,[]))}(t,e),r=new fr([new Ic("",{})]),i=new fr({}),s=new fr({}),o=new fr({}),a=new fr(""),u=new Ns(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new GN(new ui(u,[]),n)}class Ns{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[wc]))??K(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function y7(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class df{get title(){return this.data?.[wc]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zN extends jN{constructor(e,n){super(n),this.url=e,uv(this,n)}toString(){return WN(this._root)}}function uv(t,e){e.value._routerState=t,e.children.forEach(n=>uv(t,n))}function WN(t){const e=t.children.length>0?` { ${t.children.map(WN).join(", ")} } `:"";return`${t.value}${e}`}function cv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xr(e.params,n.params)||t.params.next(n.params),function k6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lv(t,e){const n=xr(t.params,e.params)&&function O6(t,e){return xs(t,e)&&t.every((n,r)=>xr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||lv(t.parent,e.parent))}function Sc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function v7(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sc(t,r,i);return Sc(t,r)})}(t,e,n);return new ui(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sc(t,a)),o}}const r=function w7(t){return new Ns(new fr(t.url),new fr(t.params),new fr(t.queryParams),new fr(t.fragment),new fr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Sc(t,s));return new ui(r,i)}}const dv="ngNavigationCancelingError";function KN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function QN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[dv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YN(t){return ZN(t)&&Ms(t.url)}function ZN(t){return t&&t[dv]}class I7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ac,this.attachRef=null}}let Ac=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new I7,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hf=!1;let hv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=pe(Ac),this.location=pe(cr),this.changeDetector=pe(Oh),this.environmentInjector=pe(Xr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,hf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,hf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,hf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,hf);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new E7(n,a,i.injector);if(r&&function D7(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qn]}),t})();class E7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ns?this.route:e===Ac?this.childContexts:this.parent.get(e,n)}}let fv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ni],decls:1,vars:0,template:function(n,r){1&n&&ge(0,"router-outlet")},dependencies:[hv],encapsulation:2}),t})();function XN(t,e){return t.providers&&!t._injector&&(t._injector=Eh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gv(t){const e=t.children&&t.children.map(gv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=fv),n}function Jn(t){return t.outlet||se}function JN(t,e){const n=t.filter(r=>Jn(r)===e);return n.push(...t.filter(r=>Jn(r)!==e)),n}function xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class A7{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=wa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ot(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=wa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new h7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new l7(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(cv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=xc(i.snapshot),u=a?.get(Ku)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class eR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ff{constructor(e,n){this.component=e,this.route=n}}function x7(t,e,n){const r=t._root;return Mc(r,e?e._root:null,n,[r.value])}function Ia(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function V$(t){return null!==Dd(t)}(t)?e.get(t):t:r}function Mc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wa(e);return t.children.forEach(o=>{(function k7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function N7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xs(t.url,e.url)||!xr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lv(t,e)||!xr(t.queryParams,e.queryParams);default:return!lv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new eR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Mc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ff(a.outlet.component,o))}else o&&kc(e,a,i),i.canActivateChecks.push(new eR(r)),Mc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ot(s,(o,a)=>kc(o,n.getContext(a),i)),i}function kc(t,e,n){const r=wa(t),i=t.value;Ot(r,(s,o)=>{kc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ff(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Nc(t){return"function"==typeof t}function mv(t){return t instanceof Jh||"EmptyError"===t?.name}const pf=Symbol("INITIAL_VALUE");function Ea(){return pr(t=>K_(t.map(e=>e.pipe(vc(1),function b6(...t){const e=Eu(t);return Et((n,r)=>{(e?Q_(t,n,e):Q_(t,n)).subscribe(r)})}(pf)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===pf)return pf;if(!1===n||n instanceof As)return n}return!0}),Oi(e=>e!==pf),vc(1)))}function tR(t){return function r$(...t){return IT(t)}(Pt(e=>{if(Ms(e))throw KN(0,e)}),le(e=>!0===e))}const yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nR(t,e,n,r,i){const s=_v(t,e,n);return s.matched?function Q7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=Ia(o,t);return Vi(function V7(t){return t&&Nc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ea(),tR()):K(!0)}(r=XN(e,r),e,n).pipe(le(o=>!0===o?s:{...yv})):K(s)}function _v(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...yv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||M6)(n,t,e);if(!i)return{...yv};const s={};Ot(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function gf(t,e,n,r){if(n.length>0&&function X7(t,e,n){return n.some(r=>mf(t,e,r)&&Jn(r)!==se)}(t,n,r)){const s=new de(e,function Z7(t,e,n,r){const i={};i[se]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Jn(s)!==se){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Jn(s)]=o}return i}(t,e,r,new de(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function J7(t,e,n){return n.some(r=>mf(t,e,r))}(t,n,r)){const s=new de(t.segments,function Y7(t,e,n,r,i){const s={};for(const o of r)if(mf(t,n,o)&&!i[Jn(o)]){const a=new de([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Jn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new de(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function mf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function rR(t,e,n,r){return!!(Jn(t)===r||r!==se&&mf(e,n,t))&&("**"===t.path||_v(e,t,n).matched)}function iR(t,e,n){return 0===e.length&&!t.children[n]}const yf=!1;class _f{constructor(e){this.segmentGroup=e||null}}class sR{constructor(e){this.urlTree=e}}function Rc(t){return _c(new _f(t))}function oR(t){return _c(new sR(t))}class rK{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=gf(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,se).pipe(le(s=>this.createUrlTree(cf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Li(s=>{if(s instanceof sR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _f?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,se).pipe(le(i=>this.createUrlTree(cf(i),e.queryParams,e.fragment))).pipe(Li(i=>{throw i instanceof _f?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,yf)}createUrlTree(e,n,r){const i=tv(e);return new As(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(le(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return at(i).pipe(Ss(s=>{const o=r.children[s],a=JN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),wN((s,o)=>(s[o.outlet]=o.segment,s),{}),IN())}expandSegment(e,n,r,i,s,o){return at(r).pipe(Ss(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Li(c=>{if(c instanceof _f)return K(null);throw c}))),Fi(a=>!!a),Li((a,u)=>{if(mv(a))return iR(n,i,s)?K(new de([],{})):Rc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return rR(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Rc(n):Rc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oR(s):this.lineralizeSegments(r,s).pipe(xt(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_v(n,i,s);if(!a)return Rc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?oR(d):this.lineralizeSegments(i,d).pipe(xt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=XN(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new de(i,{})))):K(new de(i,{}))):nR(n,r,i,e).pipe(pr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(xt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=gf(n,a,u,h),g=new de(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(v=>new de(a,v)));if(0===h.length&&0===p.length)return K(new de(a,{}));const y=Jn(r)===s;return this.expandSegment(d,g,h,p,y?se:s,!0).pipe(le(b=>new de(a.concat(b.segments),b.children)))})):Rc(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?K({routes:n._loadedRoutes,injector:n._loadedInjector}):function K7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=Ia(o,t);return Vi(function P7(t){return t&&Nc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ea(),tR())}(e,n,r).pipe(xt(i=>i?this.configLoader.loadChildren(e,n).pipe(Pt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function tK(t){return _c(QN(yf,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[se])return _c(new x(4e3,yf));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new As(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ot(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ot(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,yf);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class sK{}class uK{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=gf(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(le(n=>{if(null===n)return null;const r=new df([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ui(r,n),s=new zN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=qN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return at(Object.keys(r.children)).pipe(Ss(i=>{const s=r.children[i],o=JN(n,i);return this.processSegmentGroup(e,o,s,i)}),wN((i,s)=>i&&s?(i.push(...s),i):null),function S6(t,e=!1){return Et((n,r)=>{let i=0;n.subscribe(pt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),ef(null),IN(),le(i=>{if(null===i)return null;const s=uR(i);return function cK(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return at(n).pipe(Ss(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Fi(o=>!!o),Li(o=>{if(mv(o))return iR(r,i,s)?K([]):K(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!rR(n,r,i,s))return K(null);let o;if("**"===n.path){const a=i.length>0?bN(i).parameters:{},u=lR(r)+i.length;o=K({snapshot:new df(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dR(n),Jn(n),n.component??n._loadedComponent??null,n,cR(r),u,hR(n)),consumedSegments:[],remainingSegments:[]})}else o=nR(r,n,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=lR(r)+u.length;return{snapshot:new df(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dR(n),Jn(n),n.component??n._loadedComponent??null,n,cR(r),d,hR(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(pr(a=>{if(null===a)return K(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function lK(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=gf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(y=>null===y?null:[new ui(u,y)]));if(0===h.length&&0===p.length)return K([new ui(u,[])]);const g=Jn(n)===s;return this.processSegment(d,h,f,p,g?se:s).pipe(le(y=>null===y?null:[new ui(u,y)]))}))}}function dK(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uR(t){const e=[],n=new Set;for(const r of t){if(!dK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=uR(r.children);e.push(new ui(r.value,i))}return e.filter(r=>!n.has(r))}function cR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lR(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function dR(t){return t.data||{}}function hR(t){return t.resolve||{}}function fR(t){return"string"==typeof t.title||null===t.title}function vv(t){return pr(e=>{const n=t(e);return n?at(n).pipe(le(()=>e)):K(e)})}const Da=new U("ROUTES");let wv=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Vi(n.loadComponent()).pipe(le(gR),Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),X_(()=>{this.componentLoaders.delete(n)})),i=new _N(r,()=>new Gr).pipe(Y_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=DN(u.get(Da,[],Y.Self|Y.Optional)));return{routes:c.map(gv),injector:u}}),X_(()=>{this.childrenLoaders.delete(r)})),o=new _N(s,()=>new Gr).pipe(Y_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Vi(n()).pipe(le(gR),xt(i=>i instanceof dM||Array.isArray(i)?K(i):at(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(q(Pn),q(ek))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gR(t){return function wK(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let wf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Gr,this.configLoader=pe(wv),this.environmentInjector=pe(Xr),this.urlSerializer=pe(Ec),this.rootContexts=pe(Ac),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new u7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new a7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new fr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oi(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),pr(r=>{let i=!1,s=!1;return K(r).pipe(Pt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new UN(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),_r}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return mR(o.source)&&(n.browserUrlTree=o.extractedUrl),K(o).pipe(pr(l=>{const d=this.transitions?.getValue();return this.events.next(new sv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?_r:Promise.resolve(l)}),function iK(t,e,n,r){return pr(i=>function nK(t,e,n,r,i){return new rK(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Pt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function fK(t,e,n,r,i){return xt(s=>function aK(t,e,n,r,i,s,o="emptyOnly"){return new uK(t,e,n,r,i,o,s).recognize().pipe(pr(a=>null===a?function oK(t){return new $e(e=>e.error(t))}(new sK):K(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Pt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new n7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new sv(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=HN(d,this.rootComponentType).snapshot;return K(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new UN(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),_r}}),Pt(o=>{const a=new r7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:x7(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function B7(t,e){return xt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?K({...n,guardsResult:!0}):function $7(t,e,n,r){return at(t).pipe(xt(i=>function W7(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=xc(e)??i,c=Ia(a,u);return Vi(function L7(t){return t&&Nc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Fi())})).pipe(Ea()):K(!0)}(i.component,i.route,n,e,r)),Fi(i=>!0!==i,!0))}(o,r,i,t).pipe(xt(a=>a&&function R7(t){return"boolean"==typeof t}(a)?function j7(t,e,n,r){return at(e).pipe(Ss(i=>Q_(function H7(t,e){return null!==t&&e&&e(new c7(t)),K(!0)}(i.route.parent,r),function G7(t,e){return null!==t&&e&&e(new d7(t)),K(!0)}(i.route,r),function z7(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function M7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>yN(()=>K(o.guards.map(u=>{const c=xc(o.node)??n,l=Ia(u,c);return Vi(function F7(t){return t&&Nc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Fi())})).pipe(Ea())));return K(s).pipe(Ea())}(t,i.path,n),function q7(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>yN(()=>{const o=xc(e)??n,a=Ia(s,o);return Vi(function O7(t){return t&&Nc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Fi())}));return K(i).pipe(Ea())}(t,i.route,n))),Fi(i=>!0!==i,!0))}(r,s,t,e):K(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Pt(o=>{if(r.guardsResult=o.guardsResult,Ms(o.guardsResult))throw KN(0,o.guardsResult);const a=new i7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Oi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),vv(o=>{if(o.guards.canActivateChecks.length)return K(o).pipe(Pt(a=>{const u=new s7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),pr(a=>{let u=!1;return K(a).pipe(function pK(t,e){return xt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=0;return at(i).pipe(Ss(o=>function gK(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!fR(i)&&(s[wc]=i.title),function mK(t,e,n,r){const i=function yK(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return K({});const s={};return at(i).pipe(xt(o=>function _K(t,e,n,r){const i=xc(e)??r,s=Ia(t,i);return Vi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Fi(),Pt(a=>{s[o]=a}))),Z_(1),function A6(t){return le(()=>t)}(s),Li(o=>mv(o)?_r:_c(o)))}(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=qN(t,n).resolve,i&&fR(i)&&(t.data[wc]=i.title),null)))}(o.route,r,t,e)),Pt(()=>s++),Z_(1),xt(o=>s===i.length?K(n):_r))})}(n.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Pt(a=>{const u=new o7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),vv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Pt(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return K_(a(o.targetSnapshot.root)).pipe(ef(),vc(1))}),vv(()=>this.afterPreactivation()),le(o=>{const a=function _7(t,e,n){const r=Sc(t,e._root,n?n._root:void 0);return new GN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Pt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>le(r=>(new A7(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Pt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ks(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),X_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Li(o=>{if(s=!0,ZN(o)){YN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new lf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),YN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||mR(r.source)};n.scheduleNavigation(u,Tc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new BN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return _r}))}))}cancelNavigationTransition(n,r,i){const s=new lf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mR(t){return t!==Tc}let yR=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[wc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return pe(IK)},providedIn:"root"}),t})(),IK=(()=>{class t extends yR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(q(lN))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),EK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return pe(bK)},providedIn:"root"}),t})();class DK{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let bK=(()=>{class t extends DK{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const If=new U("",{providedIn:"root",factory:()=>({})});let TK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return pe(SK)},providedIn:"root"}),t})(),SK=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function AK(t){throw t}function xK(t,e,n){return e.parse("/")}const MK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ft=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pe(n4),this.isNgZoneEnabled=!1,this.options=pe(If,{optional:!0})||{},this.errorHandler=this.options.errorHandler||AK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pe(TK),this.routeReuseStrategy=pe(EK),this.urlCreationStrategy=pe(g7),this.titleStrategy=pe(yR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DN(pe(Da,{optional:!0})??[]),this.navigationTransitions=pe(wf),this.urlSerializer=pe(Ec),this.location=pe(Uh),this.isNgZoneEnabled=pe(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new As,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(gv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ms(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Tc,null,r)}navigate(n,r={skipLocationChange:!1}){return function NK(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new x(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...MK}:!1===r?{...kK}:r,Ms(n))return TN(this.currentUrlTree,n,i);const s=this.parseUrl(n);return TN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ui=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Gr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=pa(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=pa(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=pa(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function RA(t,e,n){return function c3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?NA:qo}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(E(Ft),E(Ns),function Gd(t){return function Pj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(DS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(kt(),t)}("tabindex"),E(Jr),E(Rn),E(Ts))},t.\u0275dir=X({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&xe("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Cr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[qn]}),t})();class vR{}let OK=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(n=>n instanceof ks),Ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Eh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return at(i).pipe(So())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):K(null);const s=i.pipe(xt(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?at([s,this.loader.loadComponent(r)]).pipe(So()):s})}}return t.\u0275fac=function(n){return new(n||t)(q(Ft),q(ek),q(Xr),q(vR),q(wv))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Iv=new U("");let wR=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ks&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $N&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $N(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function h1(){throw new Error("invalid")}()},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function IR(t){return t.routerState.root}function Rs(t,e){return{\u0275kind:t,\u0275providers:e}}function ER(){const t=pe(Pn);return e=>{const n=t.get(Rh);if(e!==n.components[0])return;const r=t.get(Ft),i=t.get(DR);1===t.get(Dv)&&r.initialNavigation(),t.get(bR,null,Y.Optional)?.setUpPreloading(),t.get(Iv,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const DR=new U("",{factory:()=>new Gr}),Dv=new U("",{providedIn:"root",factory:()=>1});const bR=new U("");function $K(t){return Rs(0,[{provide:bR,useExisting:OK},{provide:vR,useExisting:t}])}const CR=new U("ROUTER_FORROOT_GUARD"),jK=[Uh,{provide:Ec,useClass:J_},Ft,Ac,{provide:Ns,useFactory:IR,deps:[Ft]},wv,[]];function GK(){return new ak("Router",Ft)}let Bi=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[jK,[],{provide:Da,multi:!0,useValue:n},{provide:CR,useFactory:WK,deps:[[Ft,new on,new Uu]]},{provide:If,useValue:r||{}},r?.useHash?{provide:Ts,useClass:j4}:{provide:Ts,useClass:xk},{provide:Iv,useFactory:()=>{const t=pe(i8),e=pe(Ge),n=pe(If),r=pe(wf),i=pe(Ec);return n.scrollOffset&&t.setOffset(n.scrollOffset),new wR(i,r,t,e,n)}},r?.preloadingStrategy?$K(r.preloadingStrategy).\u0275providers:[],{provide:ak,multi:!0,useFactory:GK},r?.initialNavigation?KK(r):[],[{provide:TR,useFactory:ER},{provide:o_,multi:!0,useExisting:TR}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Da,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(q(CR,8))},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({imports:[fv]}),t})();function WK(t){return"guarded"}function KK(t){return["disabled"===t.initialNavigation?Rs(3,[{provide:xh,multi:!0,useFactory:()=>{const e=pe(Ft);return()=>{e.setUpLocationChangeListener()}}},{provide:Dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Rs(2,[{provide:Dv,useValue:0},{provide:xh,multi:!0,deps:[Pn],useFactory:e=>{const n=e.get(B4,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(Ft),o=e.get(DR);(function r(i){e.get(Ft).events.pipe(Oi(o=>o instanceof ks||o instanceof lf||o instanceof BN),le(o=>o instanceof ks||o instanceof lf&&(0===o.code||1===o.code)&&null),Oi(o=>null!==o),vc(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(wf).afterPreactivation=()=>(i(!0),o.closed?K(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const TR=new U("");class Oc{constructor(){this.title="vt-cons-product-portal"}}function SR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){SR(s,r,i,o,a,"next",u)}function a(u){SR(s,r,i,o,a,"throw",u)}o(void 0)})}}Oc.\u0275fac=function(e){return new(e||Oc)},Oc.\u0275cmp=Wr({type:Oc,selectors:[["app-root"]],standalone:!0,features:[Ni],decls:6,vars:0,consts:[["role","banner",1,"toolbar"],["href","https://viettelconstruction.com.vn/"],["src","https://viettelconstruction.com.vn/wp-content/uploads.bak/2023/01/2023_Logo-Header-Viettel-Construction.png","alt","Logo viettel"]],template:function(e,n){1&e&&(A(0,"div",0)(1,"a",1),ge(2,"img",2),S(),A(3,"span"),H(4,"C\u1ed5ng tra c\u1ee9u th\xf4ng tin s\u1ea3n ph\u1ea9m"),S()(),ge(5,"router-outlet"))},dependencies:[Bi,hv,ga],styles:["body[_ngcontent-%COMP%]{background:#f3f3f3}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.w-24[_ngcontent-%COMP%]{width:24px}.h-24[_ngcontent-%COMP%]{height:24px}.vt-grid[_ngcontent-%COMP%]{display:grid}.vt-grid-rows-none[_ngcontent-%COMP%]{grid-template-rows:none}.vt-grid-cols-none[_ngcontent-%COMP%]{grid-template-columns:none}.vt-grid-rows-1[_ngcontent-%COMP%]{grid-template-rows:repeat(1,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-rows-1[_ngcontent-%COMP%]{grid-template-rows:repeat(1,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-rows-1[_ngcontent-%COMP%]{grid-template-rows:repeat(1,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-rows-1[_ngcontent-%COMP%]{grid-template-rows:repeat(1,minmax(0,1fr))!important}}.vt-grid-rows-2[_ngcontent-%COMP%]{grid-template-rows:repeat(2,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-rows-2[_ngcontent-%COMP%]{grid-template-rows:repeat(2,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-rows-2[_ngcontent-%COMP%]{grid-template-rows:repeat(2,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-rows-2[_ngcontent-%COMP%]{grid-template-rows:repeat(2,minmax(0,1fr))!important}}.vt-grid-rows-3[_ngcontent-%COMP%]{grid-template-rows:repeat(3,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-rows-3[_ngcontent-%COMP%]{grid-template-rows:repeat(3,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-rows-3[_ngcontent-%COMP%]{grid-template-rows:repeat(3,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-rows-3[_ngcontent-%COMP%]{grid-template-rows:repeat(3,minmax(0,1fr))!important}}.vt-grid-rows-4[_ngcontent-%COMP%]{grid-template-rows:repeat(4,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-rows-4[_ngcontent-%COMP%]{grid-template-rows:repeat(4,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-rows-4[_ngcontent-%COMP%]{grid-template-rows:repeat(4,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-rows-4[_ngcontent-%COMP%]{grid-template-rows:repeat(4,minmax(0,1fr))!important}}.vt-grid-rows-5[_ngcontent-%COMP%]{grid-template-rows:repeat(5,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-rows-5[_ngcontent-%COMP%]{grid-template-rows:repeat(5,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-rows-5[_ngcontent-%COMP%]{grid-template-rows:repeat(5,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-rows-5[_ngcontent-%COMP%]{grid-template-rows:repeat(5,minmax(0,1fr))!important}}.vt-grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))!important}}.vt-grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))!important}}.vt-grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))!important}}.vt-grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))!important}}.vt-grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))!important}}.vt-grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(0,1fr))!important}}.vt-grid-cols-7[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-7[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-7[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-7[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))!important}}.vt-grid-cols-8[_ngcontent-%COMP%]{grid-template-columns:repeat(8,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-8[_ngcontent-%COMP%]{grid-template-columns:repeat(8,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-8[_ngcontent-%COMP%]{grid-template-columns:repeat(8,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-8[_ngcontent-%COMP%]{grid-template-columns:repeat(8,minmax(0,1fr))!important}}.vt-grid-cols-9[_ngcontent-%COMP%]{grid-template-columns:repeat(9,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-9[_ngcontent-%COMP%]{grid-template-columns:repeat(9,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-9[_ngcontent-%COMP%]{grid-template-columns:repeat(9,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-9[_ngcontent-%COMP%]{grid-template-columns:repeat(9,minmax(0,1fr))!important}}.vt-grid-cols-10[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-10[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-10[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-10[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(0,1fr))!important}}.vt-grid-cols-11[_ngcontent-%COMP%]{grid-template-columns:repeat(11,minmax(0,1fr))}@media (min-width: 640px){.vt-sm-grid-cols-11[_ngcontent-%COMP%]{grid-template-columns:repeat(11,minmax(0,1fr))!important}}@media (min-width: 768px){.vt-md-grid-cols-11[_ngcontent-%COMP%]{grid-template-columns:repeat(11,minmax(0,1fr))!important}}@media (min-width: 1024px){.vt-lg-grid-cols-11[_ngcontent-%COMP%]{grid-template-columns:repeat(11,minmax(0,1fr))!important}}",".toolbar[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    background-color: #f4f9ff;\n    color: #333333;\n    font-weight: 600;\n    margin-bottom: 3rem;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 8px 16px;\n    width: 140px;\n    vertical-align: middle;\n    border-style: none;\n    height: auto;\n    max-width: 100%;\n    object-fit: cover;\n  }"]});const AR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ef=function(t){return function(t){const e=AR(t);return Cv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Df=function(t){try{return Cv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},bf=()=>{try{return function t9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Df(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class Cf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Fn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ps(){try{return"object"==typeof indexedDB}catch{return!1}}function Fc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Sv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function p9(t,e){return t.replace(g9,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new gr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const g9=/\{\$([^}]+)}/g;function Av(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kR(s)&&kR(o)){if(!Av(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kR(t){return null!==t&&"object"==typeof t}function NR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class y9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function _9(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=xv),void 0===i.error&&(i.error=xv),void 0===i.complete&&(i.complete=xv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xv(){}function kv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Yt(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Os="[DEFAULT]";class b9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function T9(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Os?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Nv=[];var _e=(()=>{return(t=_e||(_e={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",_e;var t})();const RR={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},A9=_e.INFO,x9={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},M9=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=x9[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ca{constructor(e){this.name=e,this._logLevel=A9,this._logHandler=M9,this._userLogHandler=null,Nv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let PR,OR;const FR=new WeakMap,Rv=new WeakMap,LR=new WeakMap,Pv=new WeakMap,Ov=new WeakMap;let Fv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Rv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function V9(t){return"function"==typeof t?function L9(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function R9(){return OR||(OR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Lv(this),e),ci(FR.get(this))}:function(...e){return ci(t.apply(Lv(this),e))}:function(e,...n){const r=t.call(Lv(this),e,...n);return LR.set(r,e.sort?e.sort():[e]),ci(r)}}(t):(t instanceof IDBTransaction&&function O9(t){if(Rv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function N9(){return PR||(PR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Fv):t)}function ci(t){if(t instanceof IDBRequest)return function P9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}(t);if(Pv.has(t))return Pv.get(t);const e=V9(t);return e!==t&&(Pv.set(t,e),Ov.set(e,t)),e}const Lv=t=>Ov.get(t);function Sf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ci(o.result),u.oldVersion,u.newVersion,ci(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Vv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ci(n).then(()=>{})}const U9=["get","getKey","getAll","getAllKeys","count"],B9=["put","add","delete","clear"],Uv=new Map;function VR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Uv.get(e))return Uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!U9.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Uv.set(e,s),s}!function F9(t){Fv=t(Fv)}(t=>({...t,get:(e,n,r)=>VR(e,n)||t.get(e,n,r),has:(e,n)=>!!VR(e,n)||t.has(e,n)}));class $9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function j9(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Bv="@firebase/app",Fs=new Ca("@firebase/app"),Af="[DEFAULT]",pQ={[Bv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ls=new Map,xf=new Map;function gQ(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cn(t){const e=t.name;if(xf.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,t);for(const n of Ls.values())gQ(n,t);return!0}function Mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const li=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const kf="9.17.1";function BR(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Af,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=bf())||void 0===t?void 0:t.config})()),!n)throw li.create("no-options");const s=Ls.get(i);if(s){if(Av(n,s.options)&&Av(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new S9(i);for(const u of xf.values())o.addComponent(u);const a=new yQ(n,r,o);return Ls.set(i,a),a}function $R(t=Af){const e=Ls.get(t);if(!e&&t===Af)return BR();if(!e)throw li.create("no-app",{appName:t});return e}function jR(){return Array.from(Ls.values())}function tt(t,e,n){var r;let i=null!==(r=pQ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Fs.warn(a.join(" "))}cn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Lc="firebase-heartbeat-store";let jv=null;function GR(){return jv||(jv=Sf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lc)}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),jv}function Gv(){return(Gv=m(function*(t){try{return(yield GR()).transaction(Lc).objectStore(Lc).get(qR(t))}catch(e){if(e instanceof gr)Fs.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e?.message});Fs.warn(n.message)}}})).apply(this,arguments)}function HR(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(t,e){try{const r=(yield GR()).transaction(Lc,"readwrite");return yield r.objectStore(Lc).put(e,qR(t)),r.done}catch(n){if(n instanceof gr)Fs.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n?.message});Fs.warn(r.message)}}})).apply(this,arguments)}function qR(t){return`${t.name}!${t.options.appId}`}class DQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=zR(),{heartbeatsToSend:r,unsentEntries:i}=function bQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ef(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function zR(){return(new Date).toISOString().substring(0,10)}class CQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ps()&&Fc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function wQ(t){return Gv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return HR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function WR(t){return Ef(JSON.stringify({version:2,heartbeats:t})).length}!function TQ(t){cn(new Zt("platform-logger",e=>new $9(e),"PRIVATE")),cn(new Zt("heartbeat",e=>new DQ(e),"PRIVATE")),tt(Bv,"0.9.3",t),tt(Bv,"0.9.3","esm2017"),tt("fire-js","")}(""),tt("firebase","9.17.1","app");const KR="@firebase/installations",qv="0.6.3",YR=`w:${qv}`,ZR="FIS_v2",di=new kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function XR(t){return t instanceof gr&&t.code.includes("request-failed")}function zv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function JR(t){return{token:t.token,requestStatus:2,expiresIn:PQ(t.expiresIn),creationTime:Date.now()}}function Wv(t,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t,e){const r=(yield e.json()).error;return di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function eP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tP(t,{refreshToken:e}){const n=eP(t);return n.append("Authorization",function OQ(t){return`${ZR} ${t}`}(e)),n}function Qv(t){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function PQ(t){return Number(t.replace("s","000"))}function FQ(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zv(t),i=eP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZR,appId:t.appId,sdkVersion:YR})},u=yield Qv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:JR(c.authToken)}}throw yield Wv("Create Installation",u)})).apply(this,arguments)}function nP(t){return new Promise(e=>{setTimeout(e,t)})}const VQ=/^[cdef][\w-]{21}$/;function UQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function BQ(t){return function LQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return VQ.test(n)?n:""}catch{return""}}function Ta(t){return`${t.appName}!${t.appId}`}const Sa=new Map;function rP(t,e){const n=Ta(t);iP(n,e),function GQ(t,e){const n=function sP(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=t=>{iP(t.data.key,t.data.fid)}),Vs}();n&&n.postMessage({key:t,fid:e}),function oP(){0===Sa.size&&Vs&&(Vs.close(),Vs=null)}()}(n,e)}function iP(t,e){const n=Sa.get(t);if(n)for(const r of n)r(e)}let Vs=null;const Us="firebase-installations-store";let Jv=null;function ew(){return Jv||(Jv=Sf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Us)}})),Jv}function Nf(t,e){return tw.apply(this,arguments)}function tw(){return(tw=m(function*(t,e){const n=Ta(t),i=(yield ew()).transaction(Us,"readwrite"),s=i.objectStore(Us),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&rP(t,e.fid),e})).apply(this,arguments)}function nw(t){return rw.apply(this,arguments)}function rw(){return(rw=m(function*(t){const e=Ta(t),r=(yield ew()).transaction(Us,"readwrite");yield r.objectStore(Us).delete(e),yield r.done})).apply(this,arguments)}function Vc(t,e){return iw.apply(this,arguments)}function iw(){return(iw=m(function*(t,e){const n=Ta(t),i=(yield ew()).transaction(Us,"readwrite"),s=i.objectStore(Us),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&rP(t,a.fid),a})).apply(this,arguments)}function sw(t){return ow.apply(this,arguments)}function ow(){return(ow=m(function*(t){let e;const n=yield Vc(t.appConfig,r=>{const i=zQ(r),s=WQ(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function zQ(t){return uP(t||{fid:UQ(),registrationStatus:0})}function WQ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(di.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function KQ(t,e){return aw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:QQ(t)}:{installationEntry:e}}function aw(){return(aw=m(function*(t,e){try{const n=yield FQ(t,e);return Nf(t.appConfig,n)}catch(n){throw XR(n)&&409===n.customData.serverCode?yield nw(t.appConfig):yield Nf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function QQ(t){return uw.apply(this,arguments)}function uw(){return(uw=m(function*(t){let e=yield aP(t.appConfig);for(;1===e.registrationStatus;)yield nP(100),e=yield aP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield sw(t);return r||n}return e})).apply(this,arguments)}function aP(t){return Vc(t,e=>{if(!e)throw di.create("installation-not-found");return uP(e)})}function uP(t){return function YQ(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function ZQ(t,e){return cw.apply(this,arguments)}function cw(){return(cw=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=XQ(t,n),i=tP(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:YR,appId:t.appId}})},u=yield Qv(()=>fetch(r,a));if(u.ok)return JR(yield u.json());throw yield Wv("Generate Auth Token",u)})).apply(this,arguments)}function XQ(t,{fid:e}){return`${zv(t)}/${e}/authTokens:generate`}function lw(t){return dw.apply(this,arguments)}function dw(){return(dw=m(function*(t,e=!1){let n;const r=yield Vc(t.appConfig,s=>{if(!lP(s))throw di.create("not-registered");const o=s.authToken;if(!e&&tY(o))return s;if(1===o.requestStatus)return n=JQ(t,e),s;{if(!navigator.onLine)throw di.create("app-offline");const a=rY(s);return n=eY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function JQ(t,e){return hw.apply(this,arguments)}function hw(){return(hw=m(function*(t,e){let n=yield cP(t.appConfig);for(;1===n.authToken.requestStatus;)yield nP(100),n=yield cP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?lw(t,e):r})).apply(this,arguments)}function cP(t){return Vc(t,e=>{if(!lP(e))throw di.create("not-registered");return function iY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function eY(t,e){return fw.apply(this,arguments)}function fw(){return(fw=m(function*(t,e){try{const n=yield ZQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Nf(t.appConfig,r),n}catch(n){if(!XR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Nf(t.appConfig,r)}else yield nw(t.appConfig);throw n}})).apply(this,arguments)}function lP(t){return void 0!==t&&2===t.registrationStatus}function tY(t){return 2===t.requestStatus&&!function nY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function rY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pw(){return(pw=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield sw(e);return r?r.catch(console.error):lw(e).catch(console.error),n.fid})).apply(this,arguments)}function gw(){return(gw=m(function*(t,e=!1){const n=t;return yield aY(n),(yield lw(n,e)).token})).apply(this,arguments)}function aY(t){return mw.apply(this,arguments)}function mw(){return(mw=m(function*(t){const{registrationPromise:e}=yield sw(t);e&&(yield e)})).apply(this,arguments)}function vw(t){return di.create("missing-app-config-values",{valueName:t})}const dP="installations",hY=t=>{const e=t.getProvider("app").getImmediate(),n=function lY(t){if(!t||!t.options)throw vw("App Configuration");if(!t.name)throw vw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Mf(e,"heartbeat"),_delete:()=>Promise.resolve()}},fY=t=>{const n=Mf(t.getProvider("app").getImmediate(),dP).getImmediate();return{getId:()=>function sY(t){return pw.apply(this,arguments)}(n),getToken:i=>function oY(t){return gw.apply(this,arguments)}(n,i)}};(function pY(){cn(new Zt(dP,hY,"PUBLIC")),cn(new Zt("installations-internal",fY,"PRIVATE"))})(),tt(KR,qv),tt(KR,qv,"esm2017");const ww="@firebase/remote-config",wn=new kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class CY{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function TY(t=navigator){return t.languages&&t.languages[0]||t.language}class SY{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:TY()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,b)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",b(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let b="fetch-client-network";throw"AbortError"===I?.name&&(b="fetch-timeout"),wn.create(b,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(b){throw wn.create("fetch-client-parse",{originalErrorMessage:b?.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw wn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class MY{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function AY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function xY(t){if(!(t instanceof gr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+kv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class RY{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pf(t,e){const n=t.target.error||void 0;return wn.create(e,{originalErrorMessage:n&&n?.message})}const Bs="app_namespace_store";class LY{constructor(e,n,r,i=function FY(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Pf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(n){e(wn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readonly").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Pf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(wn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Bs],"readwrite").objectStore(Bs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Pf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(wn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readwrite").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Pf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(wn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class VY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function BY(){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(){if(!Ps())return!1;try{return yield Fc()}catch{return!1}})).apply(this,arguments)}!function UY(){cn(new Zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wn.create("registration-window");if(!Ps())throw wn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw wn.create("registration-project-id");if(!o)throw wn.create("registration-api-key");if(!a)throw wn.create("registration-app-id");const u=new LY(a,r.name,n=n||"firebase"),c=new VY(u),l=new Ca(ww);l.logLevel=_e.ERROR;const d=new SY(i,kf,n,s,o,a),h=new MY(d,u),f=new CY(h,u,c,l),p=new RY(r,f,c,u,l);return function EY(t){const e=Yt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),tt(ww,"0.4.3"),tt(ww,"0.4.3","esm2017")}();const $Y="/firebase-messaging-sw.js",jY="/firebase-cloud-messaging-push-scope",gP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mP="google.c.a.c_id",HY="google.c.a.c_l",qY="google.c.a.ts",zY="google.c.a.e";var Aa=(()=>{return(t=Aa||(Aa={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Aa;var t})();function hi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WY(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Tw="fcm_token_details_db",yP="fcm_token_object_Store";function QY(t){return Sw.apply(this,arguments)}function Sw(){return Sw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Tw))return null;let e=null;return(yield Sf(Tw,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(yP))return;const c=a.objectStore(yP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:hi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Vv(Tw),yield Vv("fcm_vapid_details_db"),yield Vv("undefined"),YY(e)?e:null;var r}),Sw.apply(this,arguments)}function YY(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const $s="firebase-messaging-store";let Aw=null;function xw(){return Aw||(Aw=Sf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore($s)}})),Aw}function _P(t){return Mw.apply(this,arguments)}function Mw(){return(Mw=m(function*(t){const e=Pw(t),r=yield(yield xw()).transaction($s).objectStore($s).get(e);if(r)return r;{const i=yield QY(t.appConfig.senderId);if(i)return yield kw(t,i),i}})).apply(this,arguments)}function kw(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e){const n=Pw(t),i=(yield xw()).transaction($s,"readwrite");return yield i.objectStore($s).put(e,n),yield i.done,e})).apply(this,arguments)}function JY(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=m(function*(t){const e=Pw(t),r=(yield xw()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done})).apply(this,arguments)}function Pw({appConfig:t}){return t.appId}const Lt=new kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tZ(t,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(t,e){const n=yield Uw(t),r=wP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Vw(t.appConfig),i)).json()}catch(o){throw Lt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Lt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function nZ(t,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=m(function*(t,e){const n=yield Uw(t),r=wP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Vw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Lt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Lt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Lt.create("token-update-no-token");return s.token})).apply(this,arguments)}function vP(t,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=m(function*(t,e){const r={method:"DELETE",headers:yield Uw(t)};try{const s=yield(yield fetch(`${Vw(t.appConfig)}/${e}`,r)).json();if(s.error)throw Lt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Lt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Vw({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Uw(t){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function wP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==gP&&(i.web.applicationPubKey=r),i}const rZ=6048e5;function iZ(t){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t){const e=yield oZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hi(e.getKey("auth")),p256dh:hi(e.getKey("p256dh"))},r=yield _P(t.firebaseDependencies);if(r){if(aZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+rZ?sZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield vP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return EP(t.firebaseDependencies,n)}return EP(t.firebaseDependencies,n)})).apply(this,arguments)}function IP(t){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(t){const e=yield _P(t.firebaseDependencies);e&&(yield vP(t.firebaseDependencies,e.token),yield JY(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function sZ(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=m(function*(t,e){try{const n=yield nZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield kw(t.firebaseDependencies,r),n}catch(n){throw yield IP(t),n}})).apply(this,arguments)}function EP(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(t,e){const r={token:yield tZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield kw(t,r),r.token})).apply(this,arguments)}function oZ(t,e){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WY(e)})})).apply(this,arguments)}function aZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function DP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function uZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function cZ(t,e){e.data&&(t.data=e.data)}(e,t),function lZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function dZ(t){return"object"==typeof t&&!!t&&mP in t}function bP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function zw(t){return Lt.create("missing-app-config-values",{valueName:t})}bP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hZ(t){if(!t||!t.options)throw zw("App Configuration Object");if(!t.name)throw zw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw zw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CP(t){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register($Y,{scope:jY}),t.swRegistration.update().catch(()=>{})}catch(e){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function pZ(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*(t,e){if(!e&&!t.swRegistration&&(yield CP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function gZ(t,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=gP)})).apply(this,arguments)}function Yw(){return(Yw=m(function*(t,e){if(!navigator)throw Lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lt.create("permission-blocked");return yield gZ(t,e?.vapidKey),yield pZ(t,e?.serviceWorkerRegistration),iZ(t)})).apply(this,arguments)}function mZ(t,e,n){return Zw.apply(this,arguments)}function Zw(){return(Zw=m(function*(t,e,n){const r=yZ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[mP],message_name:n[HY],message_time:n[qY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yZ(t){switch(t){case Aa.NOTIFICATION_CLICKED:return"notification_open";case Aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xw(){return(Xw=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Aa.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(DP(n)):t.onMessageHandler.next(DP(n)));const r=n.data;dZ(r)&&"1"===r[zY]&&(yield mZ(t,n.messageType,r))})).apply(this,arguments)}const SP="@firebase/messaging",vZ=t=>{const e=new fZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function _Z(t,e){return Xw.apply(this,arguments)}(e,n)),e},wZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TP(t,e){return Yw.apply(this,arguments)}(e,r)}};function xP(){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(){try{yield Fc()}catch{return!1}return typeof window<"u"&&Ps()&&Sv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function IZ(){cn(new Zt("messaging",vZ,"PUBLIC")),cn(new Zt("messaging-internal",wZ,"PRIVATE")),tt(SP,"0.12.3"),tt(SP,"0.12.3","esm2017")}();const Of="analytics",bZ="firebase_id",SZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MP="https://www.googletagmanager.com/gtag/js",Vt=new Ca("@firebase/analytics");function kP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function AZ(t,e){const n=document.createElement("script");n.src=`${MP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function MZ(t,e,n,r,i,s){return n0.apply(this,arguments)}function n0(){return(n0=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield kP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Vt.error(a)}t("config",i,s)})).apply(this,arguments)}function kZ(t,e,n,r,i){return r0.apply(this,arguments)}function r0(){return(r0=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Vt.error(s)}})).apply(this,arguments)}function PZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(MP)&&n.src.includes(t))return n;return null}const Ln=new kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),NP=new class VZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function UZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function BZ(t){return s0.apply(this,arguments)}function s0(){return(s0=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:UZ(r)},s=SZ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $Z(t){return o0.apply(this,arguments)}function o0(){return(o0=m(function*(t,e=NP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HZ;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),RP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function RP(t,e,n){return a0.apply(this,arguments)}function a0(){return(a0=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=NP){var s;const{appId:o,measurementId:a}=t;try{yield jZ(r,e)}catch(u){if(a)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield BZ(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!GZ(c)){if(i.deleteThrottleMetadata(o),a)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?kv(n,i.intervalMillis,30):kv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Vt.debug(`Calling attemptFetch again in ${l} millis`),RP(t,d,r,i)}})).apply(this,arguments)}function jZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GZ(t){if(!(t instanceof gr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class HZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let u0,p0;function c0(){return(c0=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function PP(t){p0=t}function OP(t){u0=t}function YZ(){return g0.apply(this,arguments)}function g0(){return(g0=m(function*(){if(!Ps())return Vt.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Fc()}catch(t){return Vt.warn(Ln.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function m0(){return(m0=m(function*(t,e,n,r,i,s,o){var a;const u=$Z(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Vt.error(f)),e.push(u);const c=YZ().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);PZ(s)||AZ(s,l.measurementId),p0&&(i("consent","default",p0),PP(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[bZ]=d),i("config",l.measurementId,h),u0&&(i("set",u0),OP(void 0)),l.measurementId})).apply(this,arguments)}class XZ{constructor(e){this.app=e}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},FP=[];const LP={};let UP,pi,Ff="dataLayer",y0=!1;function eX(t,e,n){!function JZ(){const t=[];if(Tv()&&t.push("This is a browser extension environment."),Sv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});Vt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ln.create("no-api-key");Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[r])throw Ln.create("already-exists",{id:r});if(!y0){!function xZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ff);const{wrappedGtag:s,gtagCore:o}=function RZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function NZ(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield kZ(t,e,n,a,u):"config"===o?yield MZ(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Vt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(fi,FP,LP,Ff,"gtag");pi=s,UP=o,y0=!0}return fi[r]=function ZZ(t,e,n,r,i,s,o){return m0.apply(this,arguments)}(t,FP,LP,e,UP,Ff,n),new XZ(t)}function nX(){return _0.apply(this,arguments)}function _0(){return(_0=m(function*(){if(Tv()||!Sv()||!Ps())return!1;try{return yield Fc()}catch{return!1}})).apply(this,arguments)}const BP="@firebase/analytics";!function iX(){cn(new Zt(Of,(e,{options:n})=>eX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),cn(new Zt("analytics-internal",function t(e){try{const n=e.getProvider(Of).getImmediate();return{logEvent:(r,i,s)=>function rX(t,e,n,r){t=Yt(t),function qZ(t,e,n,r,i){return c0.apply(this,arguments)}(pi,fi[t.app.options.appId],e,n,r).catch(i=>Vt.error(i))}(n,r,i,s)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),tt(BP,"0.9.3"),tt(BP,"0.9.3","esm2017")}();class sX extends Tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Lf={setInterval(t,e,...n){const{delegate:r}=Lf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Lf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class jP extends sX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Lf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Lf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,To(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const GP={now:()=>(GP.delegate||Date).now(),delegate:void 0};class Uc{constructor(e,n=Uc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Uc.now=GP.now;class HP extends Uc{constructor(e,n=Uc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uX=new class aX extends HP{}(class oX extends jP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),cX=new HP(jP),v0=new Ko("7.5.0"),w0="__angularfire_symbol__analyticsIsSupportedValue",I0="__angularfire_symbol__analyticsIsSupported",E0="__angularfire_symbol__remoteConfigIsSupportedValue",D0="__angularfire_symbol__remoteConfigIsSupported",b0="__angularfire_symbol__messagingIsSupportedValue",C0="__angularfire_symbol__messagingIsSupported";globalThis[I0]||(globalThis[I0]=nX().then(t=>globalThis[w0]=t).catch(()=>globalThis[w0]=!1)),globalThis[C0]||(globalThis[C0]=xP().then(t=>globalThis[b0]=t).catch(()=>globalThis[b0]=!1)),globalThis[D0]||(globalThis[D0]=BY().then(t=>globalThis[E0]=t).catch(()=>globalThis[E0]=!1));const A0=(t,e)=>{const n=e?[e]:jR(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function xa(){}class qP{constructor(e,n=uX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class lX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),n.pipe(Pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qP(Zone.current)),this.insideAngular=n.run(()=>new qP(Zone.current,cX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(q(Ge))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function js(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function dX(t){return js().ngZone.runOutsideAngular(()=>t())}function Gs(t){return js().ngZone.run(()=>t())}function hX(t){return js(),function fX(t){return function(n){return(n=n.lift(new lX(t.ngZone))).pipe(wd(t.outsideAngular),vd(t.insideAngular))}}(js())(t)}const pX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Gs(()=>t.apply(void 0,r))},mr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Gs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)))),r[s]=pX(r[s],n));const i=dX(()=>t.apply(this,r));if(!e){if(i instanceof $e){const s=js();return i.pipe(wd(s.outsideAngular),vd(s.insideAngular))}return Gs(()=>i)}return i instanceof $e?i.pipe(hX):i instanceof Promise?Gs(()=>new Promise((s,o)=>i.then(a=>Gs(()=>s(a)),a=>Gs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Gs(()=>i)};class Ma{constructor(e){return e}}class WP{constructor(){return jR()}}const x0=new U("angularfire2._apps"),mX={provide:Ma,useFactory:function gX(t){return t&&1===t.length?t[0]:new Ma($R())},deps:[[new on,x0]]},yX={provide:WP,deps:[[new on,x0]]};function _X(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ma(r)}}let vX=(()=>{class t{constructor(n){tt("angularfire",v0.full,"core"),tt("angularfire",v0.full,"app"),tt("angular",WA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(q(kh))},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({providers:[mX,yX]}),t})();const IX=mr(BR,!0),EX_firebaseConfig={apiKey:"AIzaSyD-5HimWOBi1OxPF8569BUWqaKIgSgGYmg",authDomain:"vtc-product-portal.firebaseapp.com",projectId:"vtc-product-portal",storageBucket:"vtc-product-portal.appspot.com",messagingSenderId:"845364782577",appId:"1:845364782577:web:0a72af1e8e1c3438c5d050"};const DX=function KP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QP=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YP=new Ca("@firebase/auth");function Vf(t,...e){YP.logLevel<=_e.ERROR&&YP.error(`Auth (${kf}): ${t}`,...e)}function In(t,...e){throw M0(t,...e)}function Nr(t,...e){return M0(t,...e)}function ZP(t,e,n){const r=Object.assign(Object.assign({},DX()),{[e]:n});return new kr("auth","Firebase",r).create(e,{appName:t.name})}function M0(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QP.create(t,...e)}function M(t,e,...n){if(!t)throw M0(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function $i(t,e){t||Rr(e)}const XP=new Map;function gi(t){$i(t instanceof Function,"Expected a class definition");let e=XP.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XP.set(t,e),e)}function JP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=function l9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}()||function h9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function TX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function k0(){return"http:"===JP()||"https:"===JP()}()||Tv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class eO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xX=new $c(3e4,6e4);function bt(t,e,n,r){return R0.apply(this,arguments)}function R0(){return(R0=m(function*(t,e,n,r,i={}){return tO(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=NR(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eO.fetch()(nO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tO(t,e,n){return P0.apply(this,arguments)}function P0(){return(P0=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AX),e);try{const i=new MX(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw jc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw jc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw jc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZP(t,l,c);In(t,l)}}catch(i){if(i instanceof gr)throw i;In(t,"network-request-failed")}})).apply(this,arguments)}function nO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function N0(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class MX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),xX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function F0(){return(F0=m(function*(t,e){return bt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function RX(t,e){return V0.apply(this,arguments)}function V0(){return(V0=m(function*(t,e){return bt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function U0(){return(U0=m(function*(t,e=!1){const n=Yt(t),r=yield n.getIdToken(e),i=Uf(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Gc(B0(i.auth_time)),issuedAtTime:Gc(B0(i.iat)),expirationTime:Gc(B0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function B0(t){return 1e3*Number(t)}function Uf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Df(n);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yi(t,e){return $0.apply(this,arguments)}function $0(){return($0=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof gr&&FX(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function FX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class LX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class rO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hc(t){return j0.apply(this,arguments)}function j0(){return(j0=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield yi(t,RX(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?BX(s.providerUserInfo):[],a=UX(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function G0(){return(G0=m(function*(t){const e=Yt(t);yield Hc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BX(t){return t.map(e=>{var{providerId:n}=e,r=TT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function H0(){return(H0=m(function*(t,e){const n=yield tO(t,{},m(function*(){const r=NR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function OX(t){const e=Uf(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function $X(t,e){return H0.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qc;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return Rr("not implemented")}}function ji(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Hs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=TT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield yi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function PX(t){return U0.apply(this,arguments)}(this,e)}reload(){return function VX(t){return G0.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Hc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield yi(e,function kX(t,e){return F0.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:P,isAnonymous:B,providerData:j,stsTokenManager:ot}=n;M(v&&ot,e,"internal-error");const Co=qc.fromJSON(this.name,ot);M("string"==typeof v,e,"internal-error"),ji(d,e.name),ji(h,e.name),M("boolean"==typeof P,e,"internal-error"),M("boolean"==typeof B,e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(g,e.name),ji(y,e.name),ji(I,e.name),ji(b,e.name);const gT=new Hs({uid:v,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Co,createdAt:I,lastLoginAt:b});return j&&Array.isArray(j)&&(gT.providerData=j.map(Yae=>Object.assign({},Yae))),y&&(gT._redirectEventId=y),gT}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new qc;i.updateFromServerResponse(n);const s=new Hs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hc(s),s})()}}const iO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Hs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Na(gi(iO),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||gi(iO);const o=Bf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Hs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Na(s,e,r)):new Na(s,e,r)})()}}function sO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function uO(t=Fn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function oO(t=Fn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function lO(t=Fn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function dO(t=Fn()){return/webos/i.test(t)}(e))return"Webos";if(function q0(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function aO(t=Fn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function cO(t=Fn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function hO(t,e=[]){let n;switch(t){case"Browser":n=sO(Fn());break;case"Worker":n=`${sO(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kf}/${r}`}class HX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class qX{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fO(this),this.idTokenSubscription=new fO(this),this.beforeStateQueue=new HX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Na.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Hc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function SX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Yt(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(gi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&gi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Na.create(n,[gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class fO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function m9(t,e){const n=new y9(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function NO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new $c(3e4,6e4),new $c(2e3,1e4),new $c(3e4,6e4),new $c(5e3,15e3);var HO="@firebase/auth";class Lee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}bf(),function Uee(t){cn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{M(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),M(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hO(t)},l=new qX(a,u,c);return function CX(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cn(new Zt("auth-internal",e=>{const n=function En(t){return Yt(t)}(e.getProvider("auth").getImmediate());return new Lee(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(HO,"0.21.3",function Vee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),tt(HO,"0.21.3","esm2017")}("Browser");class KO{constructor(){return A0("auth")}}const SE=new Map,QO={activated:!1,tokenObservers:[]},zee={initialized:!1,enabled:!1};function Ut(t){return SE.get(t)||Object.assign({},QO)}function Xf(){return zee}class Xee{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Cf,yield function Jee(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Cf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const ln=new kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZO(t){if(!Ut(t).activated)throw ln.create("use-before-activation",{appName:t.name})}function ME(t,e){return kE.apply(this,arguments)}function kE(){return kE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw ln.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw ln.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw ln.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),kE.apply(this,arguments)}function rte(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Yc="firebase-app-check-store";let tp=null;function JO(){return tp||(tp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yc,{keyPath:"compositeKey"})}}catch(n){e(ln.create("storage-open",{originalErrorMessage:n?.message}))}}),tp)}function NE(){return NE=m(function*(t,e){const r=(yield JO()).transaction(Yc,"readwrite"),s=r.objectStore(Yc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(ln.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),NE.apply(this,arguments)}const Zc=new Ca("@firebase/app-check");function OE(t,e){return Ps()?function ate(t,e){return function eF(t,e){return NE.apply(this,arguments)}(function nF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Zc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rF(){return Xf().enabled}function iF(){return LE.apply(this,arguments)}function LE(){return LE=m(function*(){const t=Xf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),LE.apply(this,arguments)}const fte={error:"UNKNOWN_ERROR"};function pte(t){return Cv.encodeString(JSON.stringify(t),!1)}function np(t){return VE.apply(this,arguments)}function VE(){return VE=m(function*(t,e=!1){const n=t.app;ZO(n);const r=Ut(n);let s,i=r.token;if(i&&!Ra(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ra(u)?i=u:yield OE(n,void 0))}if(!e&&i&&Ra(i))return{token:i.token};let a,o=!1;if(rF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ME(rte(n,yield iF()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield OE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ut(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Zc.warn(u.message):Zc.error(u),s=u}return i?s?a=Ra(i)?{token:i.token,internalError:s}:aF(s):(a={token:i.token},r.token=i,yield OE(n,i)):a=aF(s),o&&oF(n,a),a}),VE.apply(this,arguments)}function BE(t,e){const n=Ut(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function sF(t){const{app:e}=t,n=Ut(e);let r=n.tokenRefresher;r||(r=function gte(t){const{app:e}=t;return new Xee(m(function*(){let r;if(r=Ut(e).token?yield np(t,!0):yield np(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ut(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oF(t,e){const n=Ut(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ra(t){return t.expireTimeMillis-Date.now()>0}function aF(t){return{token:pte(fte),error:t}}class mte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ut(this.app);for(const n of e)BE(this.app,n.next);return Promise.resolve()}}const gF="app-check-internal";!function Mte(){cn(new Zt("app-check",t=>function yte(t,e){return new mte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(gF).initialize()})),cn(new Zt(gF,t=>function _te(t){return{getToken:e=>np(t,e),addTokenListener:e=>function UE(t,e,n,r){const{app:i}=t,s=Ut(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ra(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),sF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>sF(t))}(t,"INTERNAL",e),removeTokenListener:e=>BE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),tt("@firebase/app-check","0.6.3")}();class yF{constructor(){return A0("app-check")}}typeof window<"u"&&window;var V,Ote=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vi={},qE=qE||{},J=Ote||self;function ip(){}function sp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zE="closure_uid_"+(1e9*Math.random()>>>0),Lte=0;function Vte(t,e,n){return t.call.apply(t.bind,arguments)}function Ute(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vte:Ute).apply(null,arguments)}function op(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gi(){this.s=this.s,this.o=this.o}Gi.prototype.s=!1,Gi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Fte(t){Object.prototype.hasOwnProperty.call(t,zE)&&t[zE]||(t[zE]=++Lte)}(this)},Gi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function WE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function vF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var $te=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",ip,e),J.removeEventListener("test",ip,e)}catch{}return t}();function ap(t){return/^[\s\xa0]*$/.test(t)}var wF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function KE(t,e){return t<e?-1:t>e?1:0}function up(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return-1!=up().indexOf(t)}function QE(t){return QE[" "](t),t}QE[" "]=ip;var cp,Gte=Pr("Opera"),Pa=Pr("Trident")||Pr("MSIE"),IF=Pr("Edge"),YE=IF||Pa,EF=Pr("Gecko")&&!(-1!=up().toLowerCase().indexOf("webkit")&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),Hte=-1!=up().toLowerCase().indexOf("webkit")&&!Pr("Edge");function DF(){var t=J.document;return t?t.documentMode:void 0}e:{var ZE="",XE=function(){var t=up();return EF?/rv:([^\);]+)(\)|;)/.exec(t):IF?/Edge\/([\d\.]+)/.exec(t):Pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Hte?/WebKit\/(\S+)/.exec(t):Gte?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(XE&&(ZE=XE?XE[1]:""),Pa){var JE=DF();if(null!=JE&&JE>parseFloat(ZE)){cp=String(JE);break e}}cp=ZE}var qte={};var Wte=J.document&&Pa&&(DF()||parseInt(cp,10))||void 0;function Jc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EF){e:{try{QE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Kte[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jc.X.h.call(this)}}Bt(Jc,Jt);var Kte={2:"touch",3:"pen",4:"mouse"};Jc.prototype.h=function(){Jc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var el="closure_listenable_"+(1e6*Math.random()|0),Qte=0;function Yte(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Qte,this.ba=this.ea=!1}function lp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function tD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function CF(t){const e={};for(const n in t)e[n]=t[n];return e}const TF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SF(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<TF.length;s++)n=TF[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dp(t){this.src=t,this.g={},this.h=0}function nD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=_F(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(lp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}dp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Yte(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var iD="closure_lm_"+(1e6*Math.random()|0),sD={};function AF(t,e,n,r,i){if(r&&r.once)return MF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AF(t,e[s],n,r,i);return null}return n=cD(n),t&&t[el]?t.N(e,n,Xc(r)?!!r.capture:!!r,i):xF(t,e,n,!1,r,i)}function xF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xc(i)?!!i.capture:!!i,a=aD(t);if(a||(t[iD]=a=new dp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Zte(){const e=Xte;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$te||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function MF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)MF(t,e[s],n,r,i);return null}return n=cD(n),t&&t[el]?t.O(e,n,Xc(r)?!!r.capture:!!r,i):xF(t,e,n,!0,r,i)}function kF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kF(t,e[s],n,r,i);else r=Xc(r)?!!r.capture:!!r,n=cD(n),t&&t[el]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=rD(s=t.g[e],n,r,i))&&(lp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=aD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rD(e,n,r,i)),(n=-1<t?e[t]:null)&&oD(n))}function oD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[el])nD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=aD(e))?(nD(n,t),0==n.h&&(n.src=null,e[iD]=null)):lp(t)}}}function NF(t){return t in sD?sD[t]:sD[t]="on"+t}function Xte(t,e){if(t.ba)t=!0;else{e=new Jc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&oD(t),t=n.call(r,e)}return t}function aD(t){return(t=t[iD])instanceof dp?t:null}var uD="__closure_events_fn_"+(1e9*Math.random()>>>0);function cD(t){return"function"==typeof t?t:(t[uD]||(t[uD]=function(e){return t.handleEvent(e)}),t[uD])}function Ct(){Gi.call(this),this.i=new dp(this),this.P=this,this.I=null}function $t(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;SF(e=new Jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hp(o,r,!0,e)&&i}if(i=hp(o=e.g=t,r,!0,e)&&i,i=hp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=hp(o=e.g=n[s],r,!1,e)&&i}function hp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&nD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Bt(Ct,Gi),Ct.prototype[el]=!0,Ct.prototype.removeEventListener=function(t,e,n,r){kF(this,t,e,n,r)},Ct.prototype.M=function(){if(Ct.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lp(n[r]);delete t.g[e],t.h--}}this.I=null},Ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var lD=J.JSON.stringify;function Jte(){var t=OF;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var dD,RF=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new tne,t=>t.reset());class tne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nne(t){J.setTimeout(()=>{throw t},0)}function PF(t,e){dD||function rne(){var t=J.Promise.resolve(void 0);dD=function(){t.then(ine)}}(),hD||(dD(),hD=!0),OF.add(t,e)}var hD=!1,OF=new class ene{constructor(){this.h=this.g=null}add(e,n){const r=RF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function ine(){for(var t;t=Jte();){try{t.h.call(t.g)}catch(n){nne(n)}var e=RF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hD=!1}function fp(t,e){Ct.call(this),this.h=t||1,this.g=e||J,this.j=Xt(this.lb,this),this.l=Date.now()}function fD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function pD(t,e,n){if("function"==typeof t)n&&(t=Xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function FF(t){t.g=pD(()=>{t.g=null,t.i&&(t.i=!1,FF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Bt(fp,Ct),(V=fp.prototype).ca=!1,V.R=null,V.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$t(this,"tick"),this.ca&&(fD(this),this.start()))}},V.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.M=function(){fp.X.M.call(this),fD(this),delete this.g};class sne extends Gi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FF(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(t){Gi.call(this),this.h=t,this.g={}}Bt(tl,Gi);var LF=[];function VF(t,e,n,r){Array.isArray(n)||(n&&(LF[0]=n.toString()),n=LF);for(var i=0;i<n.length;i++){var s=AF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function UF(t){tD(t.g,function(e,n){this.g.hasOwnProperty(n)&&oD(e)},t),t.g={}}function pp(){this.g=!0}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}tl.prototype.M=function(){tl.X.M.call(this),UF(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pp.prototype.Aa=function(){this.g=!1},pp.prototype.info=function(){};var Ks={},BF=null;function gp(){return BF=BF||new Ct}function $F(t){Jt.call(this,Ks.Pa,t)}function nl(t){const e=gp();$t(e,new $F(e))}function jF(t,e){Jt.call(this,Ks.STAT_EVENT,t),this.stat=e}function dn(t){const e=gp();$t(e,new jF(e,t))}function GF(t,e){Jt.call(this,Ks.Qa,t),this.size=e}function rl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}Ks.Pa="serverreachability",Bt($F,Jt),Ks.STAT_EVENT="statevent",Bt(jF,Jt),Ks.Qa="timingevent",Bt(GF,Jt);var mp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},HF={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function gD(){}function zF(){}gD.prototype.h=null;var _D,il={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mD(){Jt.call(this,"d")}function yD(){Jt.call(this,"c")}function yp(){}function sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new tl(this),this.O=lne,this.T=new fp(t=YE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new WF}function WF(){this.i=null,this.g="",this.h=!1}Bt(mD,Jt),Bt(yD,Jt),Bt(yp,gD),yp.prototype.g=function(){return new XMLHttpRequest},yp.prototype.i=function(){return{}},_D=new yp;var lne=45e3,vD={},_p={};function wD(t,e,n){t.K=1,t.v=Ep(wi(e)),t.s=n,t.P=!0,KF(t,null)}function KF(t,e){t.F=Date.now(),ol(t),t.A=wi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),iL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new WF,t.g=AL(t.l,n?e:null,!t.s),0<t.N&&(t.L=new sne(Xt(t.La,t,t.g),t.N)),VF(t.S,t.g,"readystatechange",t.ib),e=t.H?CF(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),nl(),function one(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function QF(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function YF(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=dne(t,n),i==_p){4==e&&(t.o=4,dn(14),r=!1),Oa(t.j,t.m,null,"[Incomplete Response]");break}if(i==vD){t.o=4,dn(15),Oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Oa(t.j,t.m,i,null),ID(t,i)}QF(t)&&i!=_p&&i!=vD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),xD(e),e.K=!0,dn(11))):(Oa(t.j,t.m,n,"[Invalid Chunked Response]"),Qs(t),al(t))}function dne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?_p:(n=Number(e.substring(n,r)),isNaN(n)?vD:(r+=1)+n>e.length?_p:(e=e.substr(r,n),t.C=r+n,e))}function ol(t){t.V=Date.now()+t.O,ZF(t,t.O)}function ZF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=rl(Xt(t.gb,t),e)}function vp(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function al(t){0==t.l.G||t.I||bL(t.l,t)}function Qs(t){vp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,fD(t.T),UF(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ID(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ED(n.h,t)))if(!t.J&&ED(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Ap(n),Tp(n)}AD(n),dn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=rl(Xt(n.cb,n),6e3));if(1>=aL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zs(n,11)}else if((t.J||n.g==t)&&Ap(n),!ap(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DD(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Ue(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=SL(r,r.H?r.ka:null,r.V),o.J){uL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(vp(a),ol(a)),r.g=o}else EL(r);0<n.i.length&&Sp(n)}else"stop"!=c[0]&&"close"!=c[0]||Zs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Zs(n,7):SD(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}nl()}catch{}}function XF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(sp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function fne(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function hne(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(sp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(V=sl.prototype).setTimeout=function(t){this.O=t},V.ib=function(t){t=t.target;const e=this.L;e&&3==Ii(t)?e.l():this.La(t)},V.La=function(t){try{if(t==this.g)e:{const l=Ii(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||YE||this.g&&(this.h.h||this.g.fa()||mL(this.g)))){this.I||4!=l||7==e||nl(),vp(this);var n=this.g.aa();this.Y=n;t:if(QF(this)){var r=mL(this.g);t="";var i=r.length,s=4==Ii(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),al(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function ane(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ap(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,dn(12),Qs(this),al(this);break e}Oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ID(this,n)}this.P?(YF(this,l,o),YE&&this.i&&3==l&&(VF(this.S,this.T,"tick",this.hb),this.T.start())):(Oa(this.j,this.m,o,null),ID(this,o)),4==l&&Qs(this),this.i&&!this.I&&(4==l?bL(this.l,this):(this.i=!1,ol(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,dn(12)):(this.o=0,dn(13)),Qs(this),al(this)}}}catch{}},V.hb=function(){if(this.g){var t=Ii(this.g),e=this.g.fa();this.C<e.length&&(vp(this),YF(this,t,e),this.i&&4!=t&&ol(this))}},V.cancel=function(){this.I=!0,Qs(this)},V.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function une(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(nl(),dn(17)),Qs(this),this.o=2,al(this)):ZF(this,this.V-t)};var JF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ys){this.h=void 0!==e?e:t.h,wp(this,t.j),this.s=t.s,this.g=t.g,Ip(this,t.m),this.l=t.l,e=t.i;var n=new ll;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eL(this,n),this.o=t.o}else t&&(n=String(t).match(JF))?(this.h=!!e,wp(this,n[1]||"",!0),this.s=ul(n[2]||""),this.g=ul(n[3]||"",!0),Ip(this,n[4]),this.l=ul(n[5]||"",!0),eL(this,n[6]||"",!0),this.o=ul(n[7]||"")):(this.h=!!e,this.i=new ll(null,this.h))}function wi(t){return new Ys(t)}function wp(t,e,n){t.j=n?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ip(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eL(t,e,n){e instanceof ll?(t.i=e,function wne(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nL(this,r),iL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=cl(e,_ne)),t.i=new ll(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Ep(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gne(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ys.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cl(e,tL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(cl(e,tL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(cl(n,"/"==n.charAt(0)?yne:mne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cl(n,vne)),t.join("")};var tL=/[#\/\?@]/g,mne=/[#\?:]/g,yne=/[#\?]/g,_ne=/[#\?@]/g,vne=/#/g;function ll(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&function pne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nL(t,e){Hi(t),e=Fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rL(t,e){return Hi(t),e=Fa(t,e),t.g.has(e)}function iL(t,e,n){nL(t,e),0<n.length&&(t.i=null,t.g.set(Fa(t,e),WE(n)),t.h+=n.length)}function Fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sL(t){this.l=t||Ene,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=ll.prototype).add=function(t,e){Hi(this),this.i=null,t=Fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},V.forEach=function(t,e){Hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},V.oa=function(){Hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},V.W=function(t){Hi(this);let e=[];if("string"==typeof t)rL(this,t)&&(e=e.concat(this.g.get(Fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},V.set=function(t,e){return Hi(this),this.i=null,rL(this,t=Fa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},V.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Ene=10;function oL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function aL(t){return t.h?1:t.g?t.g.size:0}function ED(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function DD(t,e){t.g?t.g.add(e):t.h=e}function uL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function cL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return WE(t.i)}function bD(){}function Dne(){this.g=new bD}function bne(t,e,n){const r=n||"";try{XF(t,function(i,s){let o=i;Xc(i)&&(o=lD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function dl(t){this.l=t.ac||null,this.j=t.jb||!1}function bp(t,e){Ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=CD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sL.prototype.cancel=function(){if(this.i=cL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},bD.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)},bD.prototype.parse=function(t){return J.JSON.parse(t,void 0)},Bt(dl,gD),dl.prototype.g=function(){return new bp(this.l,this.j)},dl.prototype.i=function(t){return function(){return t}}({}),Bt(bp,Ct);var CD=0;function lL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fl(t)}function fl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(V=bp.prototype).open=function(t,e){if(this.readyState!=CD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fl(this)},V.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hl(this)),this.readyState=CD},V.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},V.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hl(this):fl(this),3==this.readyState&&lL(this)}},V.Va=function(t){this.g&&(this.response=this.responseText=t,hl(this))},V.Ua=function(t){this.g&&(this.response=t,hl(this))},V.ga=function(){this.g&&hl(this)},V.setRequestHeader=function(t,e){this.v.append(t,e)},V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Tne=J.JSON.parse;function Ye(t){Ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dL,this.K=this.L=!1}Bt(Ye,Ct);var dL="",Sne=/^https?$/i,Ane=["POST","PUT"];function hL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fL(t),Cp(t)}function fL(t){t.D||(t.D=!0,$t(t,"complete"),$t(t,"error"))}function pL(t){if(t.h&&typeof qE<"u"&&(!t.C[1]||4!=Ii(t)||2!=t.aa()))if(t.v&&4==Ii(t))pD(t.Ha,0,t);else if($t(t,"readystatechange"),4==Ii(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(JF)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!Sne.test(i?i.toLowerCase():"")}n=r}if(n)$t(t,"complete"),$t(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",fL(t)}}finally{Cp(t)}}}function Cp(t,e){if(t.g){gL(t);const n=t.g,r=t.C[0]?ip:null;t.g=null,t.C=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch{}}}function gL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function Ii(t){return t.g?t.g.readyState:0}function mL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yL(t){let e="";return tD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function TD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function pl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _L(t){this.Ca=0,this.i=[],this.j=new pp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=pl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=pl("baseRetryDelayMs",5e3,t),this.bb=pl("retryDelaySeedMs",1e4,t),this.$a=pl("forwardChannelMaxRetries",2,t),this.ta=pl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new sL(t&&t.concurrentRequestLimit),this.Fa=new Dne,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function SD(t){if(vL(t),3==t.G){var e=t.U++,n=wi(t.F);Ue(n,"SID",t.I),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),gl(t,n),(e=new sl(t,t.j,e,void 0)).K=2,e.v=Ep(wi(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=AL(e.l,null),e.g.da(e.v)),e.F=Date.now(),ol(e)}TL(t)}function Tp(t){t.g&&(xD(t),t.g.cancel(),t.g=null)}function vL(t){Tp(t),t.u&&(J.clearTimeout(t.u),t.u=null),Ap(t),t.h.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function Sp(t){oL(t.h)||t.m||(t.m=!0,PF(t.Ja,t),t.C=0)}function wL(t,e){var n;n=e?e.m:t.U++;const r=wi(t.F);Ue(r,"SID",t.I),Ue(r,"RID",n),Ue(r,"AID",t.T),gl(t,r),t.o&&t.s&&TD(r,t.o,t.s),n=new sl(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=IL(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),DD(t.h,n),wD(n,r,e)}function gl(t,e){t.ia&&tD(t.ia,function(n,r){Ue(e,r,n)}),t.l&&XF({},function(n,r){Ue(e,r,n)})}function IL(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Xt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{bne(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function EL(t){t.g||t.u||(t.Z=1,PF(t.Ia,t),t.A=0)}function AD(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=rl(Xt(t.Ia,t),CL(t,t.A)),t.A++,0))}function xD(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function DL(t){t.g=new sl(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=wi(t.sa);Ue(e,"RID","rpc"),Ue(e,"SID",t.I),Ue(e,"CI",t.L?"0":"1"),Ue(e,"AID",t.T),Ue(e,"TYPE","xmlhttp"),gl(t,e),t.o&&t.s&&TD(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ep(wi(e)),n.s=null,n.P=!0,KF(n,t)}function Ap(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function bL(t,e){var n=null;if(t.g==e){Ap(t),xD(t),t.g=null;var r=2}else{if(!ED(t.h,e))return;n=e.D,uL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;$t(r=gp(),new GF(r,n)),Sp(t)}else EL(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function Mne(t,e){return!(aL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=rl(Xt(t.Ja,t,e),CL(t,t.C)),t.C++,0)))}(t,e)||2==r&&AD(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}function CL(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Zs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Xt(t.kb,t);n||(n=new Ys("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||wp(n,"https"),Ep(n)),function Cne(t,e){const n=new pp;if(J.Image){const r=new Image;r.onload=op(Dp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=op(Dp,n,r,"TestLoadImage: error",!1,e),r.onabort=op(Dp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=op(Dp,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else dn(2);t.G=0,t.l&&t.l.va(e),TL(t),vL(t)}function TL(t){if(t.G=0,t.la=[],t.l){const e=cL(t.h);(0!=e.length||0!=t.i.length)&&(vF(t.la,e),vF(t.la,t.i),t.h.i.length=0,WE(t.i),t.i.length=0),t.l.ua()}}function SL(t,e,n){var r=n instanceof Ys?wi(n):new Ys(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ip(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ys(null,void 0);r&&wp(s,r),e&&(s.g=e),i&&Ip(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Ue(r,n,e),Ue(r,"VER",t.ma),gl(t,r),r}function AL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ye(n&&t.Da&&!t.ra?new dl({jb:!0}):t.ra)).Ka(t.H),e}function xL(){}function xp(){if(Pa&&!(10<=Number(Wte)))throw Error("Environmental error: no available transport.")}function Vn(t,e){Ct.call(this),this.g=new _L(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ap(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ap(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new La(this)}function ML(t){mD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kL(){yD.call(this),this.status=1}function La(t){this.g=t}(V=Ye.prototype).Ka=function(t){this.L=t},V.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_D.g(),this.C=function qF(t){return t.h||(t.h=t.i())}(this.u?this.u:_D),this.g.onreadystatechange=Xt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void hL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=_F(Ane,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gL(this),0<this.B&&((this.K=function xne(t){return Pa&&function zte(){return function jte(t){var e=qte;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=wF(String(cp)).split("."),n=wF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=KE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||KE(0==i[2].length,0==s[2].length)||KE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.qa,this)):this.A=pD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hL(this,s)}},V.qa=function(){typeof qE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$t(this,"complete"),$t(this,"abort"),Cp(this))},V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cp(this,!0)),Ye.X.M.call(this)},V.Ha=function(){this.s||(this.F||this.v||this.l?pL(this):this.fb())},V.fb=function(){pL(this)},V.aa=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},V.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Tne(e)}},V.Ea=function(){return this.m},V.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=_L.prototype).ma=8,V.G=1,V.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new sl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=CF(s),SF(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IL(this,i,e),Ue(n=wi(this.F),"RID",t),Ue(n,"CVER",22),this.D&&Ue(n,"X-HTTP-Session-Id",this.D),gl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(yL(s)))+"&"+e:this.o&&TD(n,this.o,s)),DD(this.h,i),this.Ya&&Ue(n,"TYPE","init"),this.O?(Ue(n,"$req",e),Ue(n,"SID","null"),i.Z=!0,wD(i,n,null)):wD(i,n,e),this.G=2}}else 3==this.G&&(t?wL(this,t):0==this.i.length||oL(this.h)||wL(this))},V.Ia=function(){if(this.u=null,DL(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=rl(Xt(this.eb,this),t)}},V.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,dn(10),Tp(this),DL(this))},V.cb=function(){null!=this.v&&(this.v=null,Tp(this),AD(this),dn(19))},V.kb=function(t){t?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))},(V=xL.prototype).xa=function(){},V.wa=function(){},V.va=function(){},V.ua=function(){},V.Ra=function(){},xp.prototype.g=function(t,e){return new Vn(t,e)},Bt(Vn,Ct),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=SL(t,null,t.V),Sp(t)},Vn.prototype.close=function(){SD(this.g)},Vn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=lD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Sp(e)},Vn.prototype.M=function(){this.g.l=null,delete this.j,SD(this.g),delete this.g,Vn.X.M.call(this)},Bt(ML,mD),Bt(kL,yD),Bt(La,xL),La.prototype.xa=function(){$t(this.g,"a")},La.prototype.wa=function(t){$t(this.g,new ML(t))},La.prototype.va=function(t){$t(this.g,new kL)},La.prototype.ua=function(){$t(this.g,"b")},xp.prototype.createWebChannel=xp.prototype.g,Vn.prototype.send=Vn.prototype.u,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,mp.NO_ERROR=0,mp.TIMEOUT=8,mp.HTTP_ERROR=6,HF.COMPLETE="complete",zF.EventType=il,il.OPEN="a",il.CLOSE="b",il.ERROR="c",il.MESSAGE="d",Ct.prototype.listen=Ct.prototype.N,Ye.prototype.listenOnce=Ye.prototype.O,Ye.prototype.getLastError=Ye.prototype.Oa,Ye.prototype.getLastErrorCode=Ye.prototype.Ea,Ye.prototype.getStatus=Ye.prototype.aa,Ye.prototype.getResponseJson=Ye.prototype.Sa,Ye.prototype.getResponseText=Ye.prototype.fa,Ye.prototype.send=Ye.prototype.da,Ye.prototype.setWithCredentials=Ye.prototype.Ka;var kne=vi.createWebChannelTransport=function(){return new xp},Nne=vi.getStatEventTarget=function(){return gp()},MD=vi.ErrorCode=mp,Rne=vi.EventType=HF,Pne=vi.Event=Ks,NL=vi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},One=vi.FetchXmlHttpFactory=dl,Mp=vi.WebChannel=zF,Fne=vi.XhrIo=Ye;const RL="@firebase/firestore";class Tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let Va="9.17.1";const qi=new Ca("@firebase/firestore");function kD(){return qi.logLevel}function T(t,...e){if(qi.logLevel<=_e.DEBUG){const n=e.map(ND);qi.debug(`Firestore (${Va}): ${t}`,...n)}}function nt(t,...e){if(qi.logLevel<=_e.ERROR){const n=e.map(ND);qi.error(`Firestore (${Va}): ${t}`,...n)}}function Ua(t,...e){if(qi.logLevel<=_e.WARN){const n=e.map(ND);qi.warn(`Firestore (${Va}): ${t}`,...n)}}function ND(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function L(t,e){t||F()}function N(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class PL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class Vne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Une{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new PL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Tt(e)}}class Bne{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(L(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $ne{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Bne(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jne{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.A=n.token,new OL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class FL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Gne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ${constructor(e){this.timestamp=e}static fromTimestamp(e){return new $(e)}static min(){return new $(new qe(0,0))}static max(){return new $(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ml{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ml.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends ml{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const Hne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends ml{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return Hne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(ve.fromString(e))}static fromName(e){return new k(ve.fromString(e).popFirst(5))}static empty(){return new k(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new ve(e.slice()))}}function UL(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un($.min(),k.empty(),-1)}static max(){return new Un($.max(),k.empty(),-1)}}function PD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=k.comparator(t.documentKey,e.documentKey),0!==n?n:ee(t.largestBatchId,e.largestBatchId))}const BL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zi(t){return OD.apply(this,arguments)}function OD(){return OD=m(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==BL)throw t;T("LocalStore","Unexpectedly lost primary lease")}),OD.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Wi(t){return"IndexedDbTransactionError"===t.name}let Bn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Xne{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}function jL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vl(t){return null==t}function wl(t){return 0===t&&1/t==-1/0}class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new It(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const Jne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(t){if(L(!!t),"string"==typeof t){let e=0;const n=Jne.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function no(t){return"string"==typeof t?It.fromBase64String(t):It.fromUint8Array(t)}function LD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qL(t){const e=t.mapValue.fields.__previous_value__;return LD(e)?qL(e):e}function Il(t){const e=Ki(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}const Qi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LD(t)?4:QL(t)?9007199254740991:10:F()}function Or(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ki(r.timestampValue),o=Ki(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,no(t.bytesValue).isEqual(no(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?wl(s)===wl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(jL(s)!==jL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Or(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function El(t,e){return void 0!==(t.values||[]).find(n=>Or(n,e))}function Yi(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return zL(t.timestampValue,e.timestampValue);case 4:return zL(Il(t),Il(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,s){const o=no(i),a=no(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ee(o[u],a[u]);if(0!==c)return c}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:ee(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Yi(o[u],a[u]);if(c)return c}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Qi_mapValue&&s===Qi_mapValue)return 0;if(i===Qi_mapValue)return 1;if(s===Qi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ee(a[l],c[l]);if(0!==d)return d;const h=Yi(o[a[l]],u[c[l]]);if(0!==h)return h}return ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function zL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ee(t,e);const n=Ki(t),r=Ki(e),i=ee(n.seconds,r.seconds);return 0!==i?i:ee(n.nanos,r.nanos)}function $a(t){return VD(t)}function VD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ki(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?no(t.bytesValue).toBase64():"referenceValue"in t?k.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VD(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function io(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UD(t){return!!t&&"integerValue"in t}function Dl(t){return!!t&&"arrayValue"in t}function WL(t){return!!t&&"nullValue"in t}function KL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zi{constructor(e,n){this.position=e,this.inclusive=n}}function XL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),n.key):Yi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function JL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}class eV{}class fe extends eV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new nre(e,n,r):"array-contains"===n?new sre(e,r):"in"===n?new oV(e,r):"not-in"===n?new ore(e,r):"array-contains-any"===n?new are(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new rre(e,r):new ire(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Yi(n,this.value)):null!==n&&ro(this.value)===ro(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends eV{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Te(e,n)}matches(e){return ja(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ja(t){return"and"===t.op}function $D(t){return function tV(t){for(const e of t.filters)if(e instanceof Te)return!1;return!0}(t)&&ja(t)}function jD(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+$a(t.value);if($D(t))return t.filters.map(e=>jD(e)).join(",");{const e=t.filters.map(n=>jD(n)).join(",");return`${t.op}(${e})`}}function nV(t,e){return t instanceof fe?(n=t,(r=e)instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&Or(n.value,r.value)):t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&nV(s,r.filters[o]),!0)}(t,e):void F();var n,r}function iV(t){return t instanceof fe?function(e){return`${e.field.canonicalString()} ${e.op} ${$a(e.value)}`}(t):t instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(iV).join(" ,")+"}"}(t):"Filter"}class nre extends fe{constructor(e,n,r){super(e,n,r),this.key=k.fromName(r.referenceValue)}matches(e){const n=k.comparator(e.key,this.key);return this.matchesComparison(n)}}class rre extends fe{constructor(e,n){super(e,"in",n),this.keys=sV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ire extends fe{constructor(e,n){super(e,"not-in",n),this.keys=sV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>k.fromName(r.referenceValue))}class sre extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dl(n)&&El(n.arrayValue,this.value)}}class oV extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&El(this.value.arrayValue,n)}}class ore extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!El(this.value.arrayValue,n)}}class are extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}class Ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function ure(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Xe{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Se{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aV(this.data.getIterator())}getIteratorFrom(e){return new aV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Se(this.comparator);return n.data=e,n}}class aV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Se(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(bl(this.value))}}function uV(t){const e=[];return to(t.fields,(n,r)=>{const i=new rt([n]);if(Op(r)){const s=uV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}class Fe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fe(e,0,$.min(),$.min(),$.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new Fe(e,1,n,$.min(),r,i,0)}static newNoDocument(e,n){return new Fe(e,2,n,$.min(),$.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,$.min(),$.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function GD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cre(t,e,n,r,i,s,o)}function so(t){const e=N(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.ft=n}return e.ft}function Cl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ure(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JL(t.startAt,e.startAt)&&JL(t.endAt,e.endAt)}function Lp(t){return k.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ei{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function qa(t){return new Ei(t)}function hV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function HD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Up(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function qD(t){return null!==t.collectionGroup}function oo(t){const e=N(t);if(null===e.dt){e.dt=[];const n=Up(e),r=HD(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ga(n)),e.dt.push(new Ga(rt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ga(rt.keyField(),s))}}}return e.dt}function hn(t){const e=N(t);if(!e._t)if("F"===e.limitType)e._t=GD(e.path,e.collectionGroup,oo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of oo(e))n.push(new Ga(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Zi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zi(e.startAt.position,e.startAt.inclusive):null;e._t=GD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function zD(t,e){e.getFirstInequalityField(),Up(t);const n=t.filters.concat([e]);return new Ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bp(t,e,n){return new Ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tl(t,e){return Cl(hn(t),hn(e))&&t.limitType===e.limitType}function fV(t){return`${so(hn(t))}|lt:${t.limitType}`}function WD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>iV(r)).join(", ")}]`),vl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),`Target(${n})`}(hn(t))}; limitType=${t.limitType})`}function Sl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):k.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of oo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=XL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,oo(n),r)||n.endAt&&!function(i,s,o){const a=XL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,oo(n),r)));var n,r}function gV(t){return(e,n)=>{let r=!1;for(const i of oo(t)){const s=lre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lre(t,e,n){const r=t.field.isKeyField()?k.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Yi(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function mV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(e)?"-0":e}}function yV(t){return{integerValue:""+t}}function _V(t,e){return function HL(t){return"number"==typeof t&&Number.isInteger(t)&&!wl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?yV(e):mV(t,e)}class $p{constructor(){this._=void 0}}function dre(t,e,n){return t instanceof za?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ao?wV(t,e):t instanceof uo?IV(t,e):function(r,i){const s=vV(r,i),o=EV(s)+EV(r.gt);return UD(s)&&UD(r.gt)?yV(o):mV(r.yt,o)}(t,e)}function hre(t,e,n){return t instanceof ao?wV(t,e):t instanceof uo?IV(t,e):n}function vV(t,e){return t instanceof Wa?UD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class za extends $p{}class ao extends $p{constructor(e){super(),this.elements=e}}function wV(t,e){const n=DV(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class uo extends $p{constructor(e){super(),this.elements=e}}function IV(t,e){let n=DV(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class Wa extends $p{constructor(e,n){super(),this.yt=e,this.gt=n}}function EV(t){return Ze(t.integerValue||t.doubleValue)}function DV(t){return Dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pre{constructor(e,n){this.version=e,this.transformResults=n}}class Be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Be}static exists(e){return new Be(void 0,e)}static updateTime(e){return new Be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Gp{}function bV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qa(t.key,Be.none()):new Ka(t.key,t.data,Be.none());{const n=t.data,r=Gt.empty();let i=new Se(rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new Dn(i.toArray()),Be.none())}}function gre(t,e,n){t instanceof Ka?function(r,i,s){const o=r.value.clone(),a=SV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(r,i,s){if(!jp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=SV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(TV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function xl(t,e,n,r){return t instanceof Ka?function(i,s,o,a){if(!jp(i.precondition,s))return o;const u=i.value.clone(),c=AV(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(i,s,o,a){if(!jp(i.precondition,s))return o;const u=AV(i.fieldTransforms,a,s),c=s.data;return c.setAll(TV(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,jp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function mre(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vV(r.transform,i||null);null!=s&&(null===n&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function CV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ba(n,r,(i,s)=>function fre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ao&&r instanceof ao||n instanceof uo&&r instanceof uo?Ba(n.elements,r.elements,Or):n instanceof Wa&&r instanceof Wa?Or(n.gt,r.gt):n instanceof za&&r instanceof za);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ka extends Gp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Gp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function SV(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hre(o,a,n[i]))}return r}function AV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dre(s,o,e))}return r}class Qa extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yre{constructor(e){this.count=e}}var ht,we;function xV(t){switch(t){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function MV(t){if(void 0===t)return nt("GRPC error has no .code"),w.UNKNOWN;switch(t){case ht.OK:return w.OK;case ht.CANCELLED:return w.CANCELLED;case ht.UNKNOWN:return w.UNKNOWN;case ht.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ht.INTERNAL:return w.INTERNAL;case ht.UNAVAILABLE:return w.UNAVAILABLE;case ht.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ht.NOT_FOUND:return w.NOT_FOUND;case ht.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ht.ABORTED:return w.ABORTED;case ht.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ht.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(we=ht||(ht={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GL(this.inner)}size(){return this.innerSize}}const _re=new Xe(k.comparator);function bn(){return _re}const kV=new Xe(k.comparator);function Ml(...t){let e=kV;for(const n of t)e=e.insert(n.key,n);return e}function NV(t){let e=kV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fr(){return kl()}function RV(){return kl()}function kl(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const vre=new Xe(k.comparator),wre=new Se(k.comparator);function oe(...t){let e=wre;for(const n of t)e=e.add(n);return e}const Ire=new Se(ee);function Hp(){return Ire}class Nl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nl($.min(),i,Hp(),bn(),oe())}}class Rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rl(r,n,oe(),oe(),oe())}}class qp{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class PV{constructor(e,n){this.targetId=e,this.Et=n}}class OV{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FV{constructor(){this.At=0,this.Rt=VV(),this.bt=It.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=oe(),n=oe(),r=oe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Rl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=VV()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ere{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=bn(),this.qt=LV(),this.Ut=new Se(ee)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(Lp(s))if(0===r){const o=new k(s.path);this.Qt(n,o,Fe.newNoDocument(o,$.min()))}else L(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Lp(a.target)){const u=new k(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,Fe.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=oe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Nl(e,n,this.Ut,this.Lt,r);return this.Lt=bn(),this.qt=LV(),this.Ut=new Se(ee),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new FV,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Se(ee),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new FV),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function LV(){return new Xe(k.comparator)}function VV(){return new Xe(k.comparator)}const Dre={asc:"ASCENDING",desc:"DESCENDING"},bre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cre={and:"AND",or:"OR"};class Tre{constructor(e,n){this.databaseId=e,this.wt=n}}function Ya(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UV(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Sre(t,e){return Ya(t,e.toTimestamp())}function it(t){return L(!!t),$.fromTimestamp(function(e){const n=Ki(e);return new qe(n.seconds,n.nanos)}(t))}function QD(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function BV(t){const e=ve.fromString(t);return L(QV(e)),e}function Pl(t,e){return QD(t.databaseId,e.path)}function Lr(t,e){const n=BV(e);if(n.get(1)!==t.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new k(jV(n))}function YD(t,e){return QD(t.databaseId,e)}function Ol(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jV(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function GV(t,e,n){return{name:Pl(t,e),fields:n.value.mapValue.fields}}function qV(t,e){return{documents:[YD(t,e.path)]}}function XD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=YD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=YD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return KV(Te.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Za((l=c).field),direction:Nre(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||vl(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function zV(t){let e=function $V(t){const e=BV(t);return 4===e.length?ve.emptyPath():jV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=WV(l);return d instanceof Te&&$D(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ga(Xa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,vl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Zi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Zi(l.values||[],!l.before)}(n.endAt)),function dV(t,e,n,r,i,s,o,a){return new Ei(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function WV(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xa(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Xa(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xa(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xa(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?function(e){return fe.create(Xa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(n=>WV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F()}function Nre(t){return Dre[t]}function Rre(t){return bre[t]}function Pre(t){return Cre[t]}function Za(t){return{fieldPath:t.canonicalString()}}function Xa(t){return rt.fromServerFormat(t.fieldPath)}function KV(t){return t instanceof fe?function(e){if("=="===e.op){if(KL(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NAN"}};if(WL(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KL(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NOT_NAN"}};if(WL(e.value))return{unaryFilter:{field:Za(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(e.field),op:Rre(e.op),value:e.value}}}(t):t instanceof Te?function(e){const n=e.getFilters().map(r=>KV(r));return 1===n.length?n[0]:{compositeFilter:{op:Pre(e.op),filters:n}}}(t):F()}function Ore(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class eb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gre(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=bV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument($.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>CV(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>CV(n,r))}}class tb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=vre;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tb(e,n,r,i)}}class nb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ji{constructor(e,n,r,i,s=$.min(),o=$.min(),a=It.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class n2{constructor(e){this.ie=e}}function rb(t){const e=zV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Bp(e,e.limit,"L"):e}class fo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),wl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(no(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?QL(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):F()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),k.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}fo.Ie=new fo;class uie{constructor(){this.Je=new cb}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Un.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class cb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Se(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Se(ve.comparator)).toArray()}}new Uint8Array(0);class Cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class go{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new go(0)}static vn(){return new go(-1)}}class gie{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _ie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class T2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&xl(r.mutation,i,Dn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ml();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=bn();const o=kl(),a=kl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Di)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),xl(l.mutation,c,l.mutation.getFieldMask(),qe.now())):o.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new _ie(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kl();let i=new Xe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Dn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=RV();l.forEach(h=>{if(!s.has(h)){const f=bV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return k.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):qD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(Fr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:NV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new k(n)).next(r=>{let i=Ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ml();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ei(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Fe.newInvalidDocument(c)))});let o=Ml();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&xl(c.mutation,u,Dn.empty(),qe.now()),Sl(n,u)&&(o=o.insert(a,u))}),o})}}class vie{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:it(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:rb(r.bundledQuery),readTime:it(r.readTime)}),_.resolve();var r}}class wie{constructor(){this.overlays=new Xe(k.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Fr(),s=n.length+1,o=new k(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Fr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Fr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nb(n,r));let s=this.es.get(n);void 0===s&&(s=oe(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class lb{constructor(){this.ns=new Se(At.ss),this.rs=new Se(At.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new At(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new At(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new k(new ve([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new k(new ve([])),r=new At(n,e),i=new At(n,e+1);let s=oe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return k.comparator(e.key,n.key)||ee(e._s,n._s)}static os(e,n){return ee(e._s,n._s)||k.comparator(e.key,n.key)}}class Iie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Se(At.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new eb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Se(ee);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new At(new k(s),0);let a=new Se(ee);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new At(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Eie{constructor(e){this.Es=e,this.docs=new Xe(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fe.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=bn();const o=n.path,a=new k(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PD(UL(l),r)<=0||(i.has(l.key)||Sl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Die(this)}getSize(e){return _.resolve(this.size)}}class Die extends gie{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class bie{constructor(e){this.persistence=e,this.Rs=new Xi(n=>so(n),Cl),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.bs=0,this.Ps=new lb,this.targetCount=0,this.vs=go.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new go(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class S2{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Bn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new bie(this),this.indexManager=new uie,this.remoteDocumentCache=new Eie(r=>this.referenceDelegate.xs(r)),this.yt=new n2(n),this.Ns=new vie(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Iie(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Cie(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Cie extends Wne{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Fs=new lb,this.$s=null}static Bs(e){return new tg(e)}get Ls(){if(this.$s)return this.$s;throw F()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=k.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,$.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class pb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pb(e,n.fromCache,r,i)}}class x2{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(hV(n))return _.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Bp(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,Bp(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return hV(n)||i.isEqual($.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(kD()<=_e.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WD(n)),this.Bi(e,o,n,function VL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new Un(i,k.empty(),e)}(i,-1)))})}Fi(e,n){let r=new Se(gV(e));return n.forEach((i,s)=>{Sl(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return kD()<=_e.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",WD(n)),this.Ni.getDocumentsMatchingQuery(e,n,Un.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Sie{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new Xe(ee),this.Ui=new Xi(s=>so(s),Cl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function k2(t,e){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),gb.apply(this,arguments)}function Aie(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);L(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=oe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N2(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function xie(t,e){const n=N(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(It.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=bn(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function R2(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=bn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual($.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function Mie(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tu(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Ji(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function nu(t,e,n){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e,n){const r=N(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Wi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),mb.apply(this,arguments)}function rg(t,e,n){const r=N(t);let i=$.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:$.min(),n?s:oe())).next(a=>(function F2(t,e,n){let r=t.Ki.get(e)||$.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function pV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class Ib{constructor(){this.activeTargetIds=Hp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U2{constructor(){this.Lr=new Ib,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ib,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rie{Ur(e){}shutdown(){}}class B2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oie{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Fie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ua("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${Pie[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Fne;a.setWithCredentials(!0),a.listenOnce(Rne.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case MD.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case MD.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case MD.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(g)>=0?g:w.UNKNOWN}(h.status);o(new C(f,h.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kne(),o=Nne(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new One({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Oie({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,I=>{try{y(I)}catch(b){setTimeout(()=>{throw b},0)}})};return f(c,Mp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Mp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,Mp.EventType.ERROR,p=>{d||(d=!0,Ua("Connection","WebChannel transport errored:",p),h.io(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Mp.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];L(!!y);const b=y.error||(null===(g=y[0])||void 0===g?void 0:g.error);if(b){T("Connection","WebChannel received error:",b);const v=b.status;let P=function(j){const ot=ht[j];if(void 0!==ot)return MV(ot)}(v),B=b.message;void 0===P&&(P=w.INTERNAL,B="Unknown error status: "+v+" with message "+b.message),d=!0,h.io(new C(P,B)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,Pne.STAT_EVENT,p=>{p.stat===NL.PROXY?T("Connection","Detected buffering proxy"):p.stat===NL.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function og(){return typeof document<"u"?document:null}function ql(t){return new Tre(t,!0)}class Db{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class j2{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Db(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return m(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(m(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lie extends j2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function xre(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(L(void 0===c||"string"==typeof c),It.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:MV(u.code);return new C(c,u.message||"")}(o);n=new OV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Lr(t,r.document.name),s=it(r.document.updateTime),o=r.document.createTime?it(r.document.createTime):$.min(),a=new Gt({mapValue:{fields:r.document.fields}}),u=Fe.newFoundDocument(i,s,o,a);n=new qp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Lr(t,r.document),s=r.readTime?it(r.readTime):$.min(),o=Fe.newNoDocument(i,s);n=new qp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Lr(t,r.document);n=new qp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new yre(r.count||0);n=new PV(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return $.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?it(s.readTime):$.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Ol(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=Lp(a)?{documents:qV(i,a)}:{query:XD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=UV(i,s.resumeToken):s.snapshotVersion.compareTo($.min())>0&&(o.readTime=Ya(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function kre(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Ol(this.yt),n.removeTarget=e,this.Bo(n)}}class Vie extends j2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function Mre(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(r,i){let s=it(r.updateTime?r.updateTime:i);return s.isEqual($.min())&&(s=it(i)),new pre(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=it(e.commitTime);return this.listener.Zo(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ol(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Fl(t,e){let n;if(e instanceof Ka)n={update:GV(t,e.key,e.value)};else if(e instanceof Qa)n={delete:Pl(t,e.key)};else if(e instanceof Di)n={update:GV(t,e.key,e.data),updateMask:Ore(e.fieldMask)};else{if(!(e instanceof KD))return F();n={verify:Pl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof za)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Sre(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.yt,r))};this.Bo(n)}}class Uie extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class $ie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nt(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class jie{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(m(function*(){var u;bi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=N(c);l._u.add(4),yield ru(l),l.gu.set("Unknown"),l._u.delete(4),yield zl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new $ie(r,i)}}function zl(t){return Cb.apply(this,arguments)}function Cb(){return Cb=m(function*(t){if(bi(t))for(const e of t.wu)yield e(!0)}),Cb.apply(this,arguments)}function ru(t){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(t){for(const e of t.wu)yield e(!1)}),Tb.apply(this,arguments)}function ag(t,e){const n=N(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),xb(n)?Ab(n):su(n).ko()&&Sb(n,e))}function Wl(t,e){const n=N(t),r=su(n);n.du.delete(e),r.ko()&&G2(n,e),0===n.du.size&&(r.ko()?r.Fo():bi(n)&&n.gu.set("Unknown"))}function Sb(t,e){t.yu.Ot(e.targetId),su(t).zo(e)}function G2(t,e){t.yu.Ot(e),su(t).Ho(e)}function Ab(t){t.yu=new Ere({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),su(t).start(),t.gu.uu()}function xb(t){return bi(t)&&!su(t).No()&&t.du.size>0}function bi(t){return 0===N(t)._u.size}function H2(t){t.yu=void 0}function Gie(t){return Mb.apply(this,arguments)}function Mb(){return Mb=m(function*(t){t.du.forEach((e,n)=>{Sb(t,e)})}),Mb.apply(this,arguments)}function Hie(t,e){return kb.apply(this,arguments)}function kb(){return kb=m(function*(t,e){H2(t),xb(t)?(t.gu.hu(e),Ab(t)):t.gu.set("Unknown")}),kb.apply(this,arguments)}function qie(t,e,n){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(t,e,n){if(t.gu.set("Online"),e instanceof OV&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ug(t,r)}else if(e instanceof qp?t.yu.Kt(e):e instanceof PV?t.yu.Jt(e):t.yu.jt(e),!n.isEqual($.min()))try{const r=yield N2(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),G2(i,a);const c=new Ji(u.target,a,1,u.sequenceNumber);Sb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield ug(t,r)}var r}),Nb.apply(this,arguments)}function ug(t,e,n){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t,e,n){if(!Wi(e))throw e;t._u.add(1),yield ru(t),t.gu.set("Offline"),n||(n=()=>N2(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield zl(t)}))}),Rb.apply(this,arguments)}function q2(t,e){return e().catch(n=>ug(t,n,e))}function iu(t){return Pb.apply(this,arguments)}function Pb(){return Pb=m(function*(t){const e=N(t),n=rs(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;zie(e);)try{const i=yield Mie(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Wie(e,i)}catch(i){yield ug(e,i)}z2(e)&&W2(e)}),Pb.apply(this,arguments)}function zie(t){return bi(t)&&t.fu.length<10}function Wie(t,e){t.fu.push(e);const n=rs(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function z2(t){return bi(t)&&!rs(t).No()&&t.fu.length>0}function W2(t){rs(t).start()}function Kie(t){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t){rs(t).eu()}),Ob.apply(this,arguments)}function Qie(t){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t){const e=rs(t);for(const n of t.fu)e.Xo(n.mutations)}),Fb.apply(this,arguments)}function Yie(t,e,n){return Lb.apply(this,arguments)}function Lb(){return Lb=m(function*(t,e,n){const r=t.fu.shift(),i=tb.from(r,e,n);yield q2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield iu(t)}),Lb.apply(this,arguments)}function Zie(t,e){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e){var n;e&&rs(t).Yo&&(yield(n=m(function*(r,i){if(xV(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();rs(r).Mo(),yield q2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield iu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),z2(t)&&W2(t)}),Vb.apply(this,arguments)}function K2(t,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=bi(n);n._u.add(3),yield ru(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield zl(n)}),Ub.apply(this,arguments)}function $b(){return $b=m(function*(t,e){const n=N(t);e?(n._u.delete(2),yield zl(n)):e||(n._u.add(2),yield ru(n),n.gu.set("Unknown"))}),$b.apply(this,arguments)}function su(t){return t.pu||(t.pu=function(e,n,r){const i=N(e);return i.su(),new Lie(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Gie.bind(null,t),Zr:Hie.bind(null,t),Wo:qie.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.pu.Mo(),xb(t)?Ab(t):t.gu.set("Unknown")):(yield t.pu.stop(),H2(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function rs(t){return t.Iu||(t.Iu=function(e,n,r){const i=N(e);return i.su(),new Vie(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Kie.bind(null,t),Zr:Zie.bind(null,t),tu:Qie.bind(null,t),Zo:Yie.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.Iu.Mo(),yield iu(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class jb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(t,e){if(nt("AsyncQueue",`${e}: ${t}`),Wi(t))return new C(w.UNAVAILABLE,`${e}: ${t}`);throw t}class au{constructor(e){this.comparator=e?(n,r)=>e(n,r)||k.comparator(n.key,r.key):(n,r)=>k.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Q2{constructor(){this.Tu=new Xe(k.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):F():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class uu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uu(e,n,au.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xie{constructor(){this.Au=void 0,this.listeners=[]}}class Jie{constructor(){this.queries=new Xi(e=>fV(e),Tl),this.onlineState="Unknown",this.Ru=new Set}}function Gb(t,e){return Hb.apply(this,arguments)}function Hb(){return Hb=m(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xie),i)try{s.Au=yield n.onListen(r)}catch(o){const a=ou(o,`Initialization of query '${WD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Wb(n)}),Hb.apply(this,arguments)}function qb(t,e){return zb.apply(this,arguments)}function zb(){return zb=m(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),zb.apply(this,arguments)}function ese(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&Wb(n)}function tse(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Wb(t){t.Ru.forEach(e=>{e.next()})}class Kb{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class X2{constructor(e){this.key=e}}class J2{constructor(e){this.key=e}}class eU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=oe(),this.mutatedKeys=oe(),this.Gu=gV(e),this.Qu=new au(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new Q2,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Sl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new uu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Q2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=oe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new J2(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new X2(r))}),n}tc(e){this.qu=e.Hi,this.Ku=oe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return uu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ise{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sse{constructor(e){this.key=e,this.nc=!1}}class ose{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Xi(a=>fV(a),Tl),this.rc=new Map,this.oc=new Set,this.uc=new Xe(k.comparator),this.cc=new Map,this.ac=new lb,this.hc={},this.lc=new Map,this.fc=go.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ase(t,e){return Qb.apply(this,arguments)}function Qb(){return Qb=m(function*(t,e){const n=_C(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield tu(n.localStore,hn(e));n.isPrimaryClient&&ag(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Yb(n,e,r,"current"===a,o.resumeToken)}return i}),Qb.apply(this,arguments)}function Yb(t,e,n,r,i){return Zb.apply(this,arguments)}function Zb(){return Zb=m(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=m(function*(g,y,I,b){let v=y.view.Wu(I);v.$i&&(v=yield rg(g.localStore,y.query,!1).then(({documents:j})=>y.view.Wu(j,v)));const P=b&&b.targetChanges.get(y.targetId),B=y.view.applyChanges(v,g.isPrimaryClient,P);return aC(g,y.targetId,B.Xu),B.snapshot}),function(g,y,I,b){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield rg(t.localStore,e,!0),o=new eU(e,s.Hi),a=o.Wu(s.documents),u=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);aC(t,n,c.Xu);const l=new ise(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),Zb.apply(this,arguments)}function use(t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e){const n=N(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Tl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wl(n.remoteStore,r.targetId),cu(n,r.targetId)}).catch(zi))):(cu(n,r.targetId),yield nu(n.localStore,r.targetId,!0))}),Xb.apply(this,arguments)}function Jb(){return Jb=m(function*(t,e,n){const r=vC(t);try{const i=yield function(s,o){const a=N(s),u=qe.now(),c=o.reduce((h,f)=>h.add(f.key),oe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=bn(),p=oe();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const b=mre(I,l.get(I.key).overlayedDocument);null!=b&&y.push(new Di(I.key,b,uV(b.value.mapValue),Be.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:NV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new Xe(ee)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ci(r,i.changes),yield iu(r.remoteStore)}catch(i){const s=ou(i,"Failed to persist write");n.reject(s)}}),Jb.apply(this,arguments)}function tU(t,e){return eC.apply(this,arguments)}function eC(){return eC=m(function*(t,e){const n=N(t);try{const r=yield xie(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?L(o.nc):i.removedDocuments.size>0&&(L(o.nc),o.nc=!1))}),yield Ci(n,r,e)}catch(r){yield zi(r)}}),eC.apply(this,arguments)}function nU(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&Wb(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lse(t,e,n){return tC.apply(this,arguments)}function tC(){return tC=m(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Xe(k.comparator);o=o.insert(s,Fe.newNoDocument(s,$.min()));const a=oe().add(s),u=new Nl($.min(),new Map,new Se(ee),o,a);yield tU(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),uC(r)}else yield nu(r.localStore,e,!1).then(()=>cu(r,e,n)).catch(zi)}),tC.apply(this,arguments)}function dse(t,e){return nC.apply(this,arguments)}function nC(){return nC=m(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield Aie(n.localStore,e);oC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ci(n,i)}catch(i){yield zi(i)}}),nC.apply(this,arguments)}function hse(t,e,n){return rC.apply(this,arguments)}function rC(){return rC=m(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(L(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);oC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ci(r,i)}catch(i){yield zi(i)}}),rC.apply(this,arguments)}function sC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function oC(t,e,n){const r=N(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function cu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||rU(t,r)})}function rU(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Wl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),uC(t))}function aC(t,e,n){for(const r of n)r instanceof X2?(t.ac.addReference(r.key,e),pse(t,r)):r instanceof J2?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||rU(t,r.key)):F()}function pse(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),uC(t))}function uC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new k(ve.fromString(e)),r=t.fc.next();t.cc.set(r,new sse(n)),t.uc=t.uc.insert(n,r),ag(t.remoteStore,new Ji(hn(qa(n.path)),r,2,Bn.at))}}function Ci(t,e,n){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=pb.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=m(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Wi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),cC.apply(this,arguments)}function gse(t,e){return lC.apply(this,arguments)}function lC(){return lC=m(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield k2(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ci(n,r.ji)}var i}),lC.apply(this,arguments)}function mse(t,e){const n=N(t),r=n.cc.get(e);if(r&&r.nc)return oe().add(r.key);{let i=oe();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function _C(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lse.bind(null,e),e.sc.Wo=ese.bind(null,e.eventManager),e.sc.wc=tse.bind(null,e.eventManager),e}function vC(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hse.bind(null,e),e}class Cse{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.yt=ql(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function M2(t,e,n,r){return new Sie(t,e,n,r)}(this.persistence,new x2,e.initialUser,this.yt)}yc(e){return new S2(tg.Bs,this.yt)}gc(e){return new U2}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wC{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>nU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=gse.bind(null,r.syncEngine),yield function Bb(t,e){return $b.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jie}createDatastore(e){const n=ql(e.databaseInfo.databaseId),r=new Fie(e.databaseInfo);return new Uie(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>nU(this.syncEngine,a,0),o=B2.C()?new B2:new Rie,new jie(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new ose(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=N(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield ru(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}function IC(t,e,n){if(!n)throw new C(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oU(t){if(!k.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aU(t){if(k.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cg(t);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const cU=new Map;class lU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ase(t,e,n,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Lne;switch(n.type){case"gapi":return new $ne(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=cU.get(e);n&&(T("ComponentProvider","Removing Datastore"),cU.delete(e),n.terminate())}(this),Promise.resolve()}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class Ht{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class Ur extends Ht{constructor(e,n,r){super(e,n,qa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new k(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Mse(t,e,...n){if(t=Yt(t),IC("collection","path",e),t instanceof Kl){const r=ve.fromString(e,...n);return aU(r),new Ur(t,null,r)}{if(!(t instanceof st||t instanceof Ur))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return aU(r),new Ur(t.firestore,null,r)}}function dU(t,e,...n){if(t=Yt(t),1===arguments.length&&(e=FL.R()),IC("doc","path",e),t instanceof Kl){const r=ve.fromString(e,...n);return oU(r),new st(t,null,new k(r))}{if(!(t instanceof st||t instanceof Ur))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return oU(r),new st(t.firestore,t instanceof Ur?t.converter:null,new k(r))}}class lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Fse{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=FL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ou(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function pU(t,e){return EC.apply(this,arguments)}function EC(){return EC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield k2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),EC.apply(this,arguments)}function gU(t,e){return DC.apply(this,arguments)}function DC(){return DC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield bC(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>K2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>K2(e.remoteStore,s)),t.onlineComponents=e}),DC.apply(this,arguments)}function bC(t){return CC.apply(this,arguments)}function CC(){return CC=m(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield pU(t,new Cse)),t.offlineComponents}),CC.apply(this,arguments)}function dg(t){return TC.apply(this,arguments)}function TC(){return TC=m(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield gU(t,new wC)),t.onlineComponents}),TC.apply(this,arguments)}function lu(t){return xC.apply(this,arguments)}function xC(){return xC=m(function*(t){const e=yield dg(t),n=e.eventManager;return n.onListen=ase.bind(null,e.syncEngine),n.onUnlisten=use.bind(null,e.syncEngine),n}),xC.apply(this,arguments)}class Hse{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Db(this,"async_queue_retry"),this.Wc=()=>{const n=og();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=og();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=og();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new wt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return m(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Wi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=jb.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&F()}verifyOperationInProgress(){}Xc(){var e=this;return m(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function MC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Le extends Kl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hse,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wU(this),this._firestoreClient.terminate()}}function zse(t,e){const r="string"==typeof t?t:e||"(default)",i=Mf("object"==typeof t?t:$R(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=bf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function xse(t,e,n,r={}){var i;const s=(t=me(t,Kl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Tt.MOCK_USER;else{o=function c9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ef(JSON.stringify({alg:"none",type:"JWT"})),Ef(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(u)}t._authCredentials=new Vne(new PL(o,a))}}(i,...s)}return i}function ft(t){return t._firestoreClient||wU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wU(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Xne(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Fse(t._authCredentials,t._appCheckCredentials,t._queue,r)}class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(It.fromBase64String(e))}catch(n){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class du{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kC{constructor(e){this._methodName=e}}class NC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const Wse=/^__.*__$/;class Kse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ka(e,this.data,n,this.fieldTransforms)}}class DU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class fg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(bU(this.sa)&&Wse.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Qse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||ql(e)}da(e,n,r,i=!1){return new fg({sa:e,methodName:n,fa:r,path:rt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function hu(t){const e=t._freezeSettings(),n=ql(t._databaseId);return new Qse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RC(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);OC("Data must be an object, but it was:",o,r);const a=xU(r,o);let u,c;if(s.merge)u=new Dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=FC(e,d,n);if(!o.contains(h))throw new C(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kU(l,h)||l.push(h)}u=new Dn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Kse(new Gt(a),u,c)}class Ql extends kC{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ql}}function _o(t,e){if(MU(t=Yt(t)))return OC("Unsupported field value:",e,t),xU(t,e);if(t instanceof kC)return function(n,r){if(!bU(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_o(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Yt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return _V(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=qe.fromDate(n);return{timestampValue:Ya(r.yt,i)}}if(n instanceof qe){const i=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ya(r.yt,i)}}if(n instanceof NC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:UV(r.yt,n._byteString)};if(n instanceof st){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${cg(n)}`)}(t,e)}function xU(t,e){const n={};return GL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=_o(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function MU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof NC||t instanceof yo||t instanceof st||t instanceof kC)}function OC(t,e,n){if(!MU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cg(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function FC(t,e,n){if((e=Yt(e))instanceof du)return e._internalPath;if("string"==typeof e)return pg(t,e);throw gg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jse=new RegExp("[~\\*/\\[\\]]");function pg(t,e,n){if(e.search(Jse)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new du(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(w.INVALID_ARGUMENT,a+t+u)}function kU(t,e){return t.some(n=>n.isEqual(e))}class LC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new eoe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class eoe extends LC{data(){return super.data()}}function mg(t,e){return"string"==typeof e?pg(t,e):e instanceof du?e._internalPath:e._delegate._internalPath}function NU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VC{}class toe extends VC{}function noe(t,e,...n){let r=[];e instanceof VC&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof fu).length,o=i.filter(a=>a instanceof Yl).length;if(s>1||s>0&&o>0)throw new C(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yl extends toe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yl(e,n,r)}_apply(e){const n=this._parse(e);return FU(e._query,n),new Ht(e.firestore,e.converter,zD(e._query,n))}_parse(e){const n=hu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new C(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){OU(l,c);const h=[];for(const f of l)h.push(PU(a,i,f));d={arrayValue:{values:h}}}else d=PU(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||OU(l,c),d=function AU(t,e,n,r=!1){return _o(n,t.da(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return fe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function roe(t,e,n){const r=e,i=mg("where",t);return Yl._create(i,r,n)}class fu extends VC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Te.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)FU(s,a),s=zD(s,a)}(e._query,n),new Ht(e.firestore,e.converter,zD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function PU(t,e,n){if("string"==typeof(n=Yt(n))){if(""===n)throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qD(e)&&-1!==n.indexOf("/"))throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!k.isDocumentKey(r))throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return io(t,new k(r))}if(n instanceof st)return io(t,n._key);throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(n)}.`)}function OU(t,e){if(!Array.isArray(t)||0===t.length)throw new C(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new C(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function FU(t,e){if(e.isInequality()){const r=Up(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new C(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=HD(t);null!==s&&function LU(t,e,n){if(!n.isEqual(e))throw new C(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new C(w.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ioe{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return to(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new NC(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qL(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);L(QV(r));const i=new eo(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pu extends LC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wg extends pu{data(e={}){return super.data(e)}}class gu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wg(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new wg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new wg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new vo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:soe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function soe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class is extends ioe{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function ooe(t){t=me(t,Ht);const e=me(t.firestore,Le),n=ft(e),r=new is(e);return NU(t._query),function vU(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new lg({next:d=>{s.enqueueAndForget(()=>qb(i,l)),d.fromCache&&"server"===a.source?u.reject(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Kb(o,c,{includeMetadataChanges:!0,Nu:!0});return Gb(i,l)}(yield lu(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new gu(e,r,t,i))}function aoe(t,e,n,...r){t=me(t,st);const i=me(t.firestore,Le),s=hu(i);let o;return o="string"==typeof(e=Yt(e))||e instanceof du?function SU(t,e,n,r,i,s){const o=t.da(1,e,n),a=[FC(e,r,n)],u=[i];if(s.length%2!=0)throw new C(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(FC(e,s[h])),u.push(s[h+1]);const c=[],l=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!kU(c,a[h])){const f=a[h];let p=u[h];p=Yt(p);const g=o.ca(f);if(p instanceof Ql)c.push(f);else{const y=_o(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new Dn(c);return new DU(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function TU(t,e,n,r){const i=t.da(1,e,n);OC("Data must be an object, but it was:",i,r);const s=[],o=Gt.empty();to(r,(u,c)=>{const l=pg(e,u,n);c=Yt(c);const d=i.ca(l);if(c instanceof Ql)s.push(l);else{const h=_o(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Dn(s);return new DU(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Zl(i,[o.toMutation(t._key,Be.exists(!0))])}function uoe(t){return Zl(me(t.firestore,Le),[new Qa(t._key,Be.none())])}function coe(t,e){const n=me(t.firestore,Le),r=dU(t),i=function BC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Zl(n,[RC(hu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Be.exists(!1))]).then(()=>r)}function Zl(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(m(function*(){return function cse(t,e,n){return Jb.apply(this,arguments)}(yield function AC(t){return dg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ft(t),e)}!function(t,e=!0){Va=kf,cn(new Zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Le(new Une(n.getProvider("auth-internal")),new jne(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tt(RL,"3.8.3",t),tt(RL,"3.8.3","esm2017")}();var poe={includeMetadataChanges:!1};function jC(t,e){return void 0===e&&(e=poe),new $e(function(n){var r=function loe(t,...e){var n,r,i;t=Yt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof st)c=me(t.firestore,Le),l=qa(t._key.path),u={next:d=>{e[o]&&e[o](function $C(t,e,n){const r=n.docs.get(e._key),i=new is(t);return new pu(t,i,e._key,r,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,Ht);c=me(d.firestore,Le),l=d._query;const h=new is(c);u={next:f=>{e[o]&&e[o](new gu(c,h,d,f))},error:e[o+1],complete:e[o+2]},NU(t._query)}return function(d,h,f,p){const g=new lg(p),y=new Kb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return Gb(yield lu(d),y)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(m(function*(){return qb(yield lu(d),y)}))}}(ft(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ioe(t,e){return void 0===e&&(e={}),function woe(t){return jC(t,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}(t).pipe(le(function(n){return n.map(function(r){return function BU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Eg{constructor(e){return e}}const HU="firestore",qC=new U("angularfire2.firestore-instances");function boe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Eg(r)}}const Coe={provide:class Eoe{constructor(){return A0(HU)}},deps:[[new on,qC]]},Toe={provide:Eg,useFactory:function Doe(t,e){const n=function S0(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(HU,t,e);return n&&new Eg(n)},deps:[[new on,qC],Ma]};let Soe=(()=>{class t{constructor(){tt("angularfire",v0.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({providers:[Toe,Coe]}),t})();const zC=mr(Ioe,!0),qU=mr(coe,!0),wo=mr(Mse,!0),xoe=mr(uoe,!0),zU=mr(dU,!0),WU=mr(ooe,!0),Moe=mr(zse,!0),Xl=mr(noe,!0),koe=mr(aoe,!0),WC=mr(roe,!0);let KU=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(E(Jr),E(Rn))},t.\u0275dir=X({type:t}),t})(),Io=(()=>{class t extends KU{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,features:[Ce]}),t})();const Br=new U("NgValueAccessor"),Poe={provide:Br,useExisting:Ne(()=>Eo),multi:!0},Foe=new U("CompositionEventMode");let Eo=(()=>{class t extends KU{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ooe(){const t=Ar()?Ar().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Jr),E(Rn),E(Foe,8))},t.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ve([Poe]),Ce]}),t})();function ss(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function YU(t){return null!=t&&"number"==typeof t.length}const en=new U("NgValidators"),os=new U("NgAsyncValidators"),Voe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $r{static min(e){return ZU(e)}static max(e){return XU(e)}static required(e){return JU(e)}static requiredTrue(e){return function eB(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function tB(t){return ss(t.value)||Voe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function nB(t){return e=>ss(e.value)||!YU(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return rB(e)}static pattern(e){return function iB(t){if(!t)return Dg;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ss(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return lB(e)}static composeAsync(e){return dB(e)}}function ZU(t){return e=>{if(ss(e.value)||ss(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function XU(t){return e=>{if(ss(e.value)||ss(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function JU(t){return ss(t.value)?{required:!0}:null}function rB(t){return e=>YU(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Dg(t){return null}function sB(t){return null!=t}function oB(t){return Ju(t)?at(t):t}function aB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function uB(t,e){return e.map(n=>n(t))}function cB(t){return t.map(e=>function Uoe(t){return!t.validate}(e)?e:n=>e.validate(n))}function lB(t){if(!t)return null;const e=t.filter(sB);return 0==e.length?null:function(n){return aB(uB(n,e))}}function KC(t){return null!=t?lB(cB(t)):null}function dB(t){if(!t)return null;const e=t.filter(sB);return 0==e.length?null:function(n){return function Noe(...t){const e=UT(t),{args:n,keys:r}=fN(t),i=new $e(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;$n(n[l]).subscribe(pt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?gN(r,a):a),s.complete())}))}});return e?i.pipe(pN(e)):i}(uB(n,e).map(oB)).pipe(le(aB))}}function QC(t){return null!=t?dB(cB(t)):null}function hB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fB(t){return t._rawValidators}function pB(t){return t._rawAsyncValidators}function YC(t){return t?Array.isArray(t)?t:[t]:[]}function bg(t,e){return Array.isArray(t)?t.includes(e):t===e}function gB(t,e){const n=YC(e);return YC(t).forEach(i=>{bg(n,i)||n.push(i)}),n}function mB(t,e){return YC(e).filter(n=>!bg(t,n))}class yB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class pn extends yB{get formDirective(){return null}get path(){return null}}class as extends yB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _B{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jl=(()=>{class t extends _B{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(as,2))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ec("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),ed=(()=>{class t extends _B{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(pn,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ec("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();const td="VALID",Tg="INVALID",mu="PENDING",nd="DISABLED";function eT(t){return(Sg(t)?t.validators:t)||null}function tT(t,e){return(Sg(e)?e.asyncValidators:t)||null}function Sg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function wB(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function IB(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new x(1002,"")})}class Ag{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===td}get invalid(){return this.status===Tg}get pending(){return this.status==mu}get disabled(){return this.status===nd}get enabled(){return this.status!==nd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mB(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=td,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===td||this.status===mu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nd:td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mu,this._hasOwnPendingAsyncValidator=!0;const n=oB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?nd:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mu)?mu:this._anyControlsHaveStatus(Tg)?Tg:td}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zoe(t){return Array.isArray(t)?KC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Woe(t){return Array.isArray(t)?QC(t):t||null}(this._rawAsyncValidators)}}class rd extends Ag{constructor(e,n,r){super(eT(n),tT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){IB(this,0,e),Object.keys(e).forEach(r=>{wB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class EB extends rd{}const yu=new U("CallSetDisabledState",{providedIn:"root",factory:()=>xg}),xg="always";function id(t,e,n=xg){nT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Qoe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&DB(t,e)})}(t,e),function Zoe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Yoe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&DB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Koe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function kg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ng(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nT(t,e){const n=fB(t);null!==e.validator?t.setValidators(hB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=pB(t);null!==e.asyncValidator?t.setAsyncValidators(hB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ng(e._rawValidators,i),Ng(e._rawAsyncValidators,i)}function Rg(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=fB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=pB(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Ng(e._rawValidators,r),Ng(e._rawAsyncValidators,r),n}function DB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function SB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const od=class extends Ag{constructor(e=null,n,r){super(eT(n),tT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=SB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ad=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const oae={provide:Br,useExisting:Ne(()=>Pg),multi:!0};let Pg=(()=>{class t extends Io{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&xe("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ve([oae]),Ce]}),t})(),NB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({}),t})();const aT=new U("NgModelWithFormControlWarning"),dae={provide:pn,useExisting:Ne(()=>Do)};let Do=(()=>{class t extends pn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return id(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){kg(n.control||null,n,!1),function tae(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function CB(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(kg(r||null,n),(t=>t instanceof od)(i)&&(id(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function bB(t,e){nT(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Xoe(t,e){return Rg(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nT(this.form,this),this._oldForm&&Rg(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(E(en,10),E(os,10),E(yu,8))},t.\u0275dir=X({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&xe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([dae]),Ce,qn]}),t})();const pae={provide:as,useExisting:Ne(()=>_u)};let _u=(()=>{class t extends as{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Eo?n=s:function eae(t){return Object.getPrototypeOf(t.constructor)===Io}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function iT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Mg(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(E(pn,13),E(en,10),E(os,10),E(Br,10),E(aT,8))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ve([pae]),Ce,qn]}),t})();const gae={provide:Br,useExisting:Ne(()=>ud),multi:!0};function LB(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ud=(()=>{class t extends Io{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=LB(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function mae(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&xe("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ve([gae]),Ce]}),t})(),lT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(LB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(E(Rn),E(Jr),E(ud,9))},t.\u0275dir=X({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const yae={provide:Br,useExisting:Ne(()=>dT),multi:!0};function VB(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let dT=(()=>{class t extends Io{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function _ae(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&xe("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ve([yae]),Ce]}),t})(),hT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(VB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(VB(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(E(Rn),E(Jr),E(dT,9))},t.\u0275dir=X({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function BB(t){return"number"==typeof t?t:parseFloat(t)}let bo=(()=>{class t{constructor(){this._validator=Dg}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Dg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,features:[qn]}),t})();const vae={provide:en,useExisting:Ne(()=>Og),multi:!0};let Og=(()=>{class t extends bo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>BB(n),this.createValidator=n=>XU(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Cr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ve([vae]),Ce]}),t})();const wae={provide:en,useExisting:Ne(()=>Fg),multi:!0};let Fg=(()=>{class t extends bo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>BB(n),this.createValidator=n=>ZU(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Cr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ve([wae]),Ce]}),t})();const Iae={provide:en,useExisting:Ne(()=>vu),multi:!0};let vu=(()=>{class t extends bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=pa,this.createValidator=n=>JU}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Cr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ve([Iae]),Ce]}),t})();const Cae={provide:en,useExisting:Ne(()=>fT),multi:!0};let fT=(()=>{class t extends bo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function UB(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>rB(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Rt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Cr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ve([Cae]),Ce]}),t})(),qB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({imports:[NB]}),t})();class zB extends Ag{constructor(e,n,r){super(eT(n),tT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){IB(this,0,e),e.forEach((r,i)=>{wB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function WB(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Lg=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return WB(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new rd(i,s)}record(n,r=null){const i=this._reduceControls(n);return new EB(i,r)}control(n,r,i){let s={};return this.useNonNullable?(WB(r)?s=r:(s.validators=r,s.asyncValidators=i),new od(n,{...s,nonNullable:!0})):new od(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new zB(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof od||n instanceof Ag?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vg=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:yu,useValue:n.callSetDisabledState??xg}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({imports:[qB]}),t})(),Ug=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:aT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:yu,useValue:n.callSetDisabledState??xg}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Gn({imports:[qB]}),t})();class jr{constructor(e){this.firestore=e}addProduct(e){const n=wo(this.firestore,"products");return qU(n,e)}addCategory(e){const n=wo(this.firestore,"categories");return qU(n,e)}updateProduct(e){var n=this;return m(function*(){const r=wo(n.firestore,"products");let i=Xl(r,WC("id","==",e.id));(yield WU(i)).forEach(function(){var o=m(function*(a){const u=zU(n.firestore,"products",a.id);yield koe(u,{...e})});return function(a){return o.apply(this,arguments)}}())})()}getProducts(){const e=wo(this.firestore,"products");let n=Xl(e);return zC(n)}getCategories(){const e=wo(this.firestore,"categories");let n=Xl(e);return zC(n)}getProductById(e){const n=wo(this.firestore,"products");let r=Xl(n,WC("id","==",e));return zC(r)}deleteProduct(e){var n=this;return m(function*(){const r=wo(n.firestore,"products");let i=Xl(r,WC("id","==",e));(yield WU(i)).forEach(function(){var o=m(function*(a){const u=zU(n.firestore,"products",a.id);yield xoe(u)});return function(a){return o.apply(this,arguments)}}())})()}}function Sae(t,e){if(1&t&&(A(0,"span"),H(1),S()),2&t){const n=Dt();G(1),Yn("(T\xecm ki\u1ebfm ",n.showSearchTxt,")")}}jr.\u0275fac=function(e){return new(e||jr)(q(Eg))},jr.\u0275prov=z({token:jr,factory:jr.\u0275fac,providedIn:"root"});const pT=function(t){return["/product",t]};function Aae(t,e){if(1&t&&ge(0,"img",43),2&t){const n=Dt().$implicit;ie("src",n.images[0],qo)("routerLink",Dh(2,pT,n.id))}}function xae(t,e){if(1&t&&(A(0,"div",44),H(1),ni(2,"currency"),S()),2&t){const n=Dt().$implicit;G(1),Yn(" ",bs(2,1,n.price-n.price*(n.discount/100),"VND")," ")}}function Mae(t,e){if(1&t&&(A(0,"div",44),H(1),ni(2,"currency"),S()),2&t){const n=Dt().$implicit;G(1),Yn(" ",bs(2,1,n.price,"VND")," ")}}function kae(t,e){if(1&t&&(A(0,"div",23)(1,"span",45),H(2),ni(3,"currency"),S(),A(4,"span",46),H(5),S()()),2&t){const n=Dt().$implicit;G(2),ki(bs(3,2,n.price,"VND")),G(3),Yn("-",n.discount,"%")}}function Nae(t,e){if(1&t){const n=gh();A(0,"div",28),We(1,Aae,1,4,"img",29),A(2,"div",30)(3,"a",31),H(4),S(),We(5,xae,3,4,"div",32),We(6,Mae,3,4,"div",32),We(7,kae,6,5,"div",33),A(8,"div",34)(9,"a",35),H(10," Xem chi ti\u1ebft "),Nt(),A(11,"svg",36),ge(12,"path",37),S()(),Wn(),A(13,"div")(14,"button",38),xe("click",function(){const s=ku(n).$implicit;return Nu(Dt(3).editProduct(s))}),Nt(),A(15,"svg",39),ge(16,"path",40),S()(),Wn(),A(17,"button",38),xe("click",function(){const s=ku(n).$implicit;return Nu(Dt(3).deleteProduct(s.id))}),Nt(),A(18,"svg",41),ge(19,"path",42),S()()()()()()}if(2&t){const n=e.$implicit;G(1),ie("ngIf",n.images&&n.images.length),G(2),ie("routerLink",Dh(7,pT,n.id)),G(1),ki(n.productName),G(1),ie("ngIf",n.discount&&n.discount>0),G(1),ie("ngIf",!n.discount||0===n.discount),G(1),ie("ngIf",n.discount),G(2),ie("routerLink",Dh(9,pT,n.id))}}function Rae(t,e){if(1&t&&(fh(0),A(1,"div",25),H(2),S(),A(3,"div",26),We(4,Nae,20,11,"div",27),S(),ph()),2&t){const n=Dt().$implicit;G(2),ki(n.key),G(2),ie("ngForOf",n.products)}}function Pae(t,e){if(1&t&&(Nt(),Wn(),A(0,"div",23),We(1,Rae,5,2,"ng-container",24),S()),2&t){const n=e.$implicit;Dt();const r=function j1(t){return Po(function mj(){return ne.lFrame.contextLView}(),22+t)}(27);G(1),ie("ngIf",n.key)("ngIfElse",r)}}function Oae(t,e){1&t&&(Nt(),Wn(),A(0,"div",47),H(1,"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m, vui l\xf2ng th\xeam m\u1edbi"),S())}class cd{constructor(e,n,r){this.fb=e,this.router=n,this.productService=r,this.typeView="grid",this.showSearchTxt="",this.searchForm=this.fb.group({searchText:this.fb.control("")})}ngOnInit(){this.products$=this.productService.getProducts(),K_([this.productService.getProducts(),this.productService.getCategories()]).subscribe(([e,n])=>{if(this.categories=n,e&&e.length){const r=e.reduce((i={},s)=>((i[s.categoryCode]=i[s.categoryCode]||[]).push(s),i),{});this.products=Object.keys(r).map(i=>({key:n.find(s=>s.code===i)?.name||"",products:r[i]}))}})}resetInputSearch(){this.searchForm.reset(),this.showSearchTxt=this.searchForm.get("searchText")?.value,this.getProduct()}submitSearchForm(){this.showSearchTxt=this.searchForm.get("searchText")?.value,this.searchForm.get("searchText")?.value?this.getProduct(this.searchForm.get("searchText")?.value):this.getProduct()}addProduct(){this.router.navigate(["add"])}selectTypeView(e){this.typeView=e}getProduct(e){this.productService.getProducts().subscribe(n=>{if(n&&n.length){e&&(n=n.filter(i=>i.productCode.includes(e)||i.productName.includes(e)));const r=n.reduce((i={},s)=>((i[s.categoryCode]=i[s.categoryCode]||[]).push(s),i),{});this.products=Object.keys(r).map(i=>({key:this.categories.find(s=>s.code===i)?.name||"",products:r[i]}))}})}deleteProduct(e){confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 b\u1ea3n ghi?")&&this.productService.deleteProduct(e)}editProduct(e){this.router.navigateByUrl("edit",{state:{product:e}})}}cd.\u0275fac=function(e){return new(e||cd)(E(Lg),E(Ft),E(jr))},cd.\u0275cmp=Wr({type:cd,selectors:[["app-product-list"]],standalone:!0,features:[Ni],decls:28,vars:7,consts:[[1,"container"],[1,"d-flex","gap-4","mb-4"],[1,"flex-grow-1",3,"formGroup","submit"],[1,"search-container"],["for","search-input",3,"click"],["width","20","height","20","viewBox","0 0 20 20",1,"search-icon"],["d","M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z","stroke","currentColor","fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],["type","input","id","search-input","formControlName","searchText","placeholder","T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m","maxlength","64",1,"search-input"],["type","button",1,"btn-search-reset",3,"click"],["width","20","height","20","viewBox","0 0 20 20"],["d","M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z","stroke","currentColor","fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],["type","button",1,"btn","btn-danger",3,"click"],[1,"d-flex","justify-content-between","mb-3"],[1,"fs-4","fw-semibold"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-grid-fill"],["d","M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-list-ul"],["fill-rule","evenodd","d","M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["class","mb-3",4,"ngFor","ngForOf"],["noProduct",""],[1,"mb-3"],[4,"ngIf","ngIfElse"],[1,"category-header"],[1,"vt-grid","vt-lg-grid-cols-4","vt-md-grid-cols-3","vt-sm-grid-cols-2","shadow-sm"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-img-top","alt","Product image",3,"src","routerLink",4,"ngIf"],[1,"card-body"],[1,"card-title",3,"routerLink"],["class","price mt-2",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-decoration-none",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-right"],["fill-rule","evenodd","d","M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"],["type","button",1,"btn","p-0","w-24","h-24",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"],["alt","Product image",1,"card-img-top",3,"src","routerLink"],[1,"price","mt-2"],[1,"item-price-wd"],[1,"badge","text-bg-danger"],[1,""]],template:function(e,n){if(1&e&&(A(0,"div",0)(1,"div",1)(2,"form",2),xe("submit",function(){return n.submitSearchForm()}),A(3,"div",3)(4,"label",4),xe("click",function(){return n.submitSearchForm()}),Nt(),A(5,"svg",5),ge(6,"path",6),S()(),Wn(),ge(7,"input",7),A(8,"button",8),xe("click",function(){return n.resetInputSearch()}),Nt(),A(9,"svg",9),ge(10,"path",10),S()()()(),Wn(),A(11,"button",11),xe("click",function(){return n.addProduct()}),H(12,"Th\xeam m\u1edbi"),S()(),A(13,"div",12)(14,"div")(15,"span",13),H(16,"Danh s\xe1ch s\u1ea3n ph\u1ea9m "),S(),We(17,Sae,2,1,"span",14),S(),A(18,"div",15)(19,"button",16),xe("click",function(){return n.selectTypeView("grid")}),Nt(),A(20,"svg",17),ge(21,"path",18),S()(),Wn(),A(22,"button",16),xe("click",function(){return n.selectTypeView("list")}),Nt(),A(23,"svg",19),ge(24,"path",20),S()()()(),We(25,Pae,2,2,"div",21),We(26,Oae,2,0,"ng-template",null,22,RM),S()),2&e){let r;G(2),ie("formGroup",n.searchForm),G(6),ec("d-none",!(null!=(r=n.searchForm.get("searchText"))&&r.value)),G(9),ie("ngIf",n.showSearchTxt),G(2),ie("ngClass","grid"===n.typeView?"btn-dark":"btn-secondary"),G(3),ie("ngClass","list"===n.typeView?"btn-dark":"btn-secondary"),G(3),ie("ngForOf",n.products)}},dependencies:[ga,Bk,fc,pc,O_,Ug,ad,Eo,Jl,ed,fT,Do,_u,Vg,Bi,Ui],styles:[".search-container[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);align-items:center;background:#fff;display:flex;height:50px;margin:0;padding:0 12px;position:relative;width:100%;box-shadow:inset 0 0 0 2px #e03}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{align-items:center;color:#e03;display:flex;justify-content:center;margin:0;padding:0;cursor:pointer}.search-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:24px;width:24px;stroke-width:1.6;vertical-align:middle}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:transparent;border:0;color:#1c1e21;flex:1;font:inherit;font-size:1.2em;height:100%;outline:none;padding:0 0 0 8px;width:80%}.search-container[_ngcontent-%COMP%]   .btn-search-reset[_ngcontent-%COMP%]{animation:fade-in .1s ease-in forwards;background:none;border:0;border-radius:50%;color:#e03;cursor:pointer;padding:2px;right:0;stroke-width:1.4;align-items:center;display:flex;justify-content:center}.card[_ngcontent-%COMP%]{position:relative;background-color:#fff;background-clip:border-box;border-radius:0}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 9px #0000001f}.card-img-top[_ngcontent-%COMP%]{cursor:pointer}.price[_ngcontent-%COMP%]{color:#e03;font-weight:700;font-size:18px}.item-price-wd[_ngcontent-%COMP%]{text-decoration:line-through;margin-right:6px;color:#999}.badge[_ngcontent-%COMP%]{border-radius:3px;padding:2px 3px;font-size:smaller;font-weight:400}.card-title[_ngcontent-%COMP%]{text-overflow:ellipsis;text-decoration:none;color:#333}.card-title[_ngcontent-%COMP%]:hover{color:#d58432}.category-header[_ngcontent-%COMP%]{border-top-left-radius:5px;border-top-right-radius:5px;background-color:#e03;color:#fff;font-size:20px;font-weight:700;padding:6px 16px}"]});const Fae=["file"];function Lae(t,e){if(1&t&&(A(0,"option",15),H(1),S()),2&t){const n=e.$implicit;ie("ngValue",n.code),G(1),Yn(" ",n.name," ")}}function Vae(t,e){if(1&t){const n=gh();A(0,"div",32),ge(1,"img",33),A(2,"button",34),xe("click",function(){const s=ku(n).index;return Nu(Dt(2).deleteImage(s))}),Nt(),A(3,"svg",35),ge(4,"path",36),S()()()}if(2&t){const n=e.$implicit;G(1),ie("src",n,qo)}}function Uae(t,e){if(1&t&&(A(0,"div",30),We(1,Vae,5,1,"div",31),S()),2&t){const n=Dt();let r;G(1),ie("ngForOf",null==(r=n.formNewProduct.get("images"))?null:r.value)}}class ld{constructor(e,n,r){this.fb=e,this.productService=n,this.router=r,this.formNewProduct=this.fb.group({id:this.fb.control((new Date).getTime().toString()),productName:this.fb.control("",[$r.required]),productCode:this.fb.control("",[$r.required]),productDescription:this.fb.control(""),discount:this.fb.control(0),price:this.fb.control(null,[$r.required]),categoryCode:this.fb.control(null,[$r.required]),images:this.fb.control(null)})}ngOnInit(){this.categories$=this.productService.getCategories()}submit(){if(!this.formNewProduct.invalid){if(!this.formNewProduct.get("images")?.value)return void alert("Vui l\xf2ng upload \u1ea3nh s\u1ea3n ph\u1ea9m");this.productService.addProduct(this.formNewProduct.getRawValue()),this.fileInput.nativeElement.value=null,this.router.navigate(["products"])}}onChooseFile(e){Object.keys(e)?.forEach((r,i)=>{if(e[i].size>1024e3)return alert(`File ${e[i].name} v\u01b0\u1ee3t qu\xe1 1Mb, t\u1ea3i l\u1ea1i file m\u1edbi`),void(this.fileInput.nativeElement.value=null)});let n=this.formNewProduct.get("images")?.value||[];Object.keys(e)?.forEach((r,i)=>{const s=new FileReader;s.readAsDataURL(e[i]),s.onload=()=>{n.push(s.result),this.formNewProduct.get("images")?.setValue(n)}})}deleteImage(e){e>-1&&this.formNewProduct.get("images")?.value.splice(e,1)}}function Bae(t,e){1&t&&ge(0,"img",15),2&t&&ie("src",e.$implicit,qo)}function $ae(t,e){if(1&t&&(A(0,"span",16),H(1),ni(2,"currency"),S()),2&t){const n=Dt(2);G(1),Yn(" ",bs(2,1,n.product.price-n.product.price*(n.product.discount/100),"VND")," ")}}function jae(t,e){if(1&t&&(A(0,"span",16),H(1),ni(2,"currency"),S()),2&t){const n=Dt(2);G(1),Yn(" ",bs(2,1,n.product.price,"VND")," ")}}function Gae(t,e){if(1&t&&(A(0,"li"),H(1),S()),2&t){const n=e.$implicit;G(1),ki(n)}}function Hae(t,e){if(1&t&&(A(0,"ul"),We(1,Gae,2,1,"li",17),S()),2&t){const n=Dt(2);G(1),ie("ngForOf",n.product.descriptions)}}function qae(t,e){if(1&t&&(Nt(),Wn(),A(0,"div",5)(1,"div",6),We(2,Bae,1,1,"img",7),S(),A(3,"div",8)(4,"h3"),H(5),S(),A(6,"div")(7,"label",9),H(8,"Gi\xe1 th\u1ecb tr\u01b0\u1eddng: "),S(),A(9,"span",10),H(10),ni(11,"currency"),S()(),A(12,"div",11)(13,"label",9),H(14,"Gi\xe1 b\xe1n:"),S(),We(15,$ae,3,4,"span",12),We(16,jae,3,4,"span",12),A(17,"span",13),H(18),S()(),A(19,"label",9),H(20,"Th\xf4ng s\u1ed1 s\u1ea3n ph\u1ea9m:"),S(),We(21,Hae,2,1,"ul",14),S()()),2&t){const n=Dt();G(2),ie("ngForOf",n.product.images),G(3),ki(n.product.productName),G(5),ki(bs(11,7,n.product.price,"VND")),G(5),ie("ngIf",n.product.discount&&n.product.discount>0),G(1),ie("ngIf",!n.product.discount||0===n.product.discount),G(2),Yn("-",n.product.discount,"%"),G(3),ie("ngIf",n.product.productDescription)}}ld.\u0275fac=function(e){return new(e||ld)(E(Lg),E(jr),E(Ft))},ld.\u0275cmp=Wr({type:ld,selectors:[["app-product-add"]],viewQuery:function(e,n){if(1&e&&Jy(Fae,5),2&e){let r;Ch(r=Th())&&(n.fileInput=r.first)}},standalone:!0,features:[Ni],decls:48,vars:9,consts:[[1,"container"],["routerLink","/products",1,"text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"fs-4","fw-semibold","mt-3","mb-3"],[1,"row","g-3",3,"formGroup","submit"],[1,"col-md-6"],["for","productCode",1,"form-label"],["type","text","id","productCode","formControlName","productCode","required","",1,"form-control"],["for","productName",1,"form-label"],["type","text","id","productName","formControlName","productName","required","",1,"form-control"],[1,"col-md-12"],["for","categoryCode",1,"form-label"],["routerLink","/category",1,"text-decoration-none"],["id","categoryCode","formControlName","categoryCode","required","",1,"form-control","form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","price",1,"form-label"],["type","number","id","price","formControlName","price","required","",1,"form-control"],["for","discount",1,"form-label"],["type","number","id","discount","formControlName","discount",1,"form-control",3,"min","max"],[1,"col-12"],["for","description",1,"form-label"],["id","description","formControlName","productDescription",1,"form-control"],["for","images",1,"form-label"],["type","file","id","images","multiple","","accept","image/jpeg, image/png",1,"form-control",3,"change"],["file",""],["class","mt-3",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-3"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],["alt","Product image",1,"img-product","rounded","shadow","mb-3",3,"src"],[1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"]],template:function(e,n){if(1&e&&(A(0,"div",0)(1,"a",1)(2,"em"),Nt(),A(3,"svg",2),ge(4,"path",3),S()(),H(5," Quay tr\u1edf l\u1ea1i danh s\xe1ch s\u1ea3n ph\u1ea9m "),S(),Wn(),A(6,"div",4),H(7,"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),S(),A(8,"form",5),xe("submit",function(){return n.submit()}),A(9,"div",6)(10,"label",7),H(11,"M\xe3 s\u1ea3n ph\u1ea9m"),S(),ge(12,"input",8),S(),A(13,"div",6)(14,"label",9),H(15,"T\xean s\u1ea3n ph\u1ea9m"),S(),ge(16,"input",10),S(),A(17,"div",11)(18,"label",12),H(19," M\xe3 ng\xe0nh "),A(20,"a",13),H(21,"(Th\xeam m\u1edbi m\xe3 ng\xe0nh)"),S()(),A(22,"select",14)(23,"option",15),H(24,"Ch\u1ecdn ng\xe0nh"),S(),We(25,Lae,2,2,"option",16),ni(26,"async"),S()(),A(27,"div",6)(28,"label",17),H(29,"Gi\xe1 b\xe1n"),S(),ge(30,"input",18),S(),A(31,"div",6)(32,"label",19),H(33,"Khuy\u1ebfn m\xe3i"),S(),ge(34,"input",20),S(),A(35,"div",21)(36,"label",22),H(37,"M\xf4 t\u1ea3"),S(),ge(38,"textarea",23),S(),A(39,"div",21)(40,"label",24),H(41,"H\xecnh \u1ea3nh"),S(),A(42,"input",25,26),xe("change",function(i){return n.onChooseFile(i.target.files)}),S(),We(44,Uae,2,1,"div",27),S(),A(45,"div",28)(46,"button",29),H(47," L\u01b0u "),S()()()()),2&e){let r;G(8),ie("formGroup",n.formNewProduct),G(15),ie("ngValue",null),G(2),ie("ngForOf",Hy(26,7,n.categories$)),G(9),ie("min",0)("max",100),G(10),ie("ngIf",null==(r=n.formNewProduct.get("images"))?null:r.value),G(2),ie("disabled",!n.formNewProduct.valid)}},dependencies:[ga,fc,pc,P_,Vg,ad,lT,hT,Eo,Pg,ud,Jl,ed,vu,Fg,Og,Ug,Do,_u,Bi,Ui],styles:[".img-product[_ngcontent-%COMP%]{object-fit:contain;width:40%}"]});class dd{constructor(e,n){this.route=e,this.productService=n}ngOnInit(){this.route.paramMap.pipe(pr(e=>{const n=e.get("id")??"";return this.productService.getProductById(n)})).subscribe(e=>{e&&e.length&&(this.product={...e[0],descriptions:e[0].productDescription?.split("\n")})})}}dd.\u0275fac=function(e){return new(e||dd)(E(Ns),E(jr))},dd.\u0275cmp=Wr({type:dd,selectors:[["app-product-detail"]],standalone:!0,features:[Ni],decls:7,vars:1,consts:[[1,"container"],["routerLink","/products",1,"text-decoration-none","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-5"],["alt","Product image","class","img-product",3,"src",4,"ngFor","ngForOf"],[1,"col-7"],[1,"fw-semibold"],[1,"item-price-wd"],[1,"d-flex","align-items-center"],["class","price",4,"ngIf"],[1,"badge","text-bg-danger"],[4,"ngIf"],["alt","Product image",1,"img-product",3,"src"],[1,"price"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(A(0,"div",0)(1,"a",1)(2,"em"),Nt(),A(3,"svg",2),ge(4,"path",3),S()(),H(5," Quay tr\u1edf l\u1ea1i danh s\xe1ch s\u1ea3n ph\u1ea9m "),S(),We(6,qae,22,10,"div",4),S()),2&e&&(G(6),ie("ngIf",n.product))},dependencies:[ga,fc,pc,O_,Bi,Ui],styles:[".text-break[_ngcontent-%COMP%]{white-space:pre-line}.item-price-wd[_ngcontent-%COMP%]{text-decoration:line-through;margin-left:16px;color:#999}h3[_ngcontent-%COMP%]{color:#e03}.price[_ngcontent-%COMP%]{color:#e03;font-weight:700;font-size:20px;margin-left:16px;margin-right:8px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.img-product[_ngcontent-%COMP%]{object-fit:contain;width:100%}"]});class hd{constructor(e,n,r){this.fb=e,this.productService=n,this.router=r,this.categoryForm=this.fb.group({id:this.fb.control((new Date).getTime().toString()),code:this.fb.control("",[$r.required]),name:this.fb.control("",[$r.required])})}submit(){this.categoryForm.invalid||(this.productService.addCategory(this.categoryForm.getRawValue()),this.router.navigate(["products"]))}}hd.\u0275fac=function(e){return new(e||hd)(E(Lg),E(jr),E(Ft))},hd.\u0275cmp=Wr({type:hd,selectors:[["app-category-add"]],standalone:!0,features:[Ni],decls:20,vars:2,consts:[[1,"container"],["routerLink","/add",1,"text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"fs-4","fw-semibold","mt-3","mb-3"],[1,"row","g-3",3,"formGroup","submit"],[1,"col-md-6"],["for","code",1,"form-label"],["type","text","id","code","formControlName","code","required","",1,"form-control"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","required","",1,"form-control"],[1,"col-12","d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){1&e&&(A(0,"div",0)(1,"a",1)(2,"em"),Nt(),A(3,"svg",2),ge(4,"path",3),S()(),H(5," Quay tr\u1edf l\u1ea1i th\xeam m\u1edbi s\u1ea3n ph\u1ea9m "),S(),Wn(),A(6,"div",4),H(7,"Th\xeam m\u1edbi ng\xe0nh"),S(),A(8,"form",5),xe("submit",function(){return n.submit()}),A(9,"div",6)(10,"label",7),H(11,"M\xe3 ng\xe0nh"),S(),ge(12,"input",8),S(),A(13,"div",6)(14,"label",9),H(15,"T\xean ng\xe0nh"),S(),ge(16,"input",10),S(),A(17,"div",11)(18,"button",12),H(19," L\u01b0u "),S()()()()),2&e&&(G(8),ie("formGroup",n.categoryForm),G(10),ie("disabled",!n.categoryForm.valid))},dependencies:[ga,Ug,ad,Eo,Jl,ed,vu,Do,_u,Vg,Bi,Ui]});const zae=["file"];function Wae(t,e){if(1&t&&(A(0,"option",15),H(1),S()),2&t){const n=e.$implicit;ie("ngValue",n.code),G(1),Yn(" ",n.name," ")}}function Kae(t,e){if(1&t){const n=gh();A(0,"div",32),ge(1,"img",33),A(2,"button",34),xe("click",function(){const s=ku(n).index;return Nu(Dt(2).deleteImage(s))}),Nt(),A(3,"svg",35),ge(4,"path",36),S()()()}if(2&t){const n=e.$implicit;G(1),ie("src",n,qo)}}function Qae(t,e){if(1&t&&(A(0,"div",30),We(1,Kae,5,1,"div",31),S()),2&t){const n=Dt();let r;G(1),ie("ngForOf",null==(r=n.formEditProduct.get("images"))?null:r.value)}}class fd{constructor(e,n,r){this.fb=e,this.productService=n,this.router=r,this._location=pe(Uh),this.formEditProduct=this.fb.group({id:this.fb.control(""),productName:this.fb.control("",[$r.required]),productCode:this.fb.control("",[$r.required]),productDescription:this.fb.control(""),discount:this.fb.control(0),price:this.fb.control(null,[$r.required]),categoryCode:this.fb.control(null,[$r.required]),images:this.fb.control(null)})}ngOnInit(){const e=this._location.getState().product;e&&this.formEditProduct.patchValue(e),this.categories$=this.productService.getCategories()}submit(){if(!this.formEditProduct.invalid){if(!this.formEditProduct.get("images")?.value)return void alert("Vui l\xf2ng upload \u1ea3nh s\u1ea3n ph\u1ea9m");this.productService.updateProduct(this.formEditProduct.getRawValue()),this.fileInput.nativeElement.value=null,this.router.navigate(["products"])}}onChooseFile(e){Object.keys(e)?.forEach((r,i)=>{if(e[i].size>1024e3)return alert(`File ${e[i].name} v\u01b0\u1ee3t qu\xe1 1Mb, t\u1ea3i l\u1ea1i file m\u1edbi`),void(this.fileInput.nativeElement.value=null)});let n=this.formEditProduct.get("images")?.value||[];Object.keys(e)?.forEach((r,i)=>{const s=new FileReader;s.readAsDataURL(e[i]),s.onload=()=>{n.push(s.result),this.formEditProduct.get("images")?.setValue(n)}})}deleteImage(e){e>-1&&this.formEditProduct.get("images")?.value.splice(e,1)}}fd.\u0275fac=function(e){return new(e||fd)(E(Lg),E(jr),E(Ft))},fd.\u0275cmp=Wr({type:fd,selectors:[["app-product-edit"]],viewQuery:function(e,n){if(1&e&&Jy(zae,5),2&e){let r;Ch(r=Th())&&(n.fileInput=r.first)}},standalone:!0,features:[Ni],decls:48,vars:9,consts:[[1,"container"],["routerLink","/products",1,"text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-left"],["fill-rule","evenodd","d","M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"],[1,"fs-4","fw-semibold","mt-3","mb-3"],[1,"row","g-3",3,"formGroup","submit"],[1,"col-md-6"],["for","productCode",1,"form-label"],["type","text","id","productCode","formControlName","productCode","required","",1,"form-control"],["for","productName",1,"form-label"],["type","text","id","productName","formControlName","productName","required","",1,"form-control"],[1,"col-md-12"],["for","categoryCode",1,"form-label"],["routerLink","/category",1,"text-decoration-none"],["id","categoryCode","formControlName","categoryCode","required","",1,"form-control","form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","price",1,"form-label"],["type","number","id","price","formControlName","price","required","",1,"form-control"],["for","discount",1,"form-label"],["type","number","id","discount","formControlName","discount",1,"form-control",3,"min","max"],[1,"col-12"],["for","description",1,"form-label"],["id","description","formControlName","productDescription",1,"form-control"],["for","images",1,"form-label"],["type","file","id","images","multiple","","accept","image/jpeg, image/png",1,"form-control",3,"change"],["file",""],["class","mt-3",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mt-3"],["class","d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],["alt","Product image",1,"img-product","rounded","shadow","mb-3",3,"src"],[1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"]],template:function(e,n){if(1&e&&(A(0,"div",0)(1,"a",1)(2,"em"),Nt(),A(3,"svg",2),ge(4,"path",3),S()(),H(5," Quay tr\u1edf l\u1ea1i danh s\xe1ch s\u1ea3n ph\u1ea9m "),S(),Wn(),A(6,"div",4),H(7,"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),S(),A(8,"form",5),xe("submit",function(){return n.submit()}),A(9,"div",6)(10,"label",7),H(11,"M\xe3 s\u1ea3n ph\u1ea9m"),S(),ge(12,"input",8),S(),A(13,"div",6)(14,"label",9),H(15,"T\xean s\u1ea3n ph\u1ea9m"),S(),ge(16,"input",10),S(),A(17,"div",11)(18,"label",12),H(19," M\xe3 ng\xe0nh "),A(20,"a",13),H(21,"(Th\xeam m\u1edbi m\xe3 ng\xe0nh)"),S()(),A(22,"select",14)(23,"option",15),H(24,"Ch\u1ecdn ng\xe0nh"),S(),We(25,Wae,2,2,"option",16),ni(26,"async"),S()(),A(27,"div",6)(28,"label",17),H(29,"Gi\xe1 b\xe1n"),S(),ge(30,"input",18),S(),A(31,"div",6)(32,"label",19),H(33,"Khuy\u1ebfn m\xe3i"),S(),ge(34,"input",20),S(),A(35,"div",21)(36,"label",22),H(37,"M\xf4 t\u1ea3"),S(),ge(38,"textarea",23),S(),A(39,"div",21)(40,"label",24),H(41,"H\xecnh \u1ea3nh"),S(),A(42,"input",25,26),xe("change",function(i){return n.onChooseFile(i.target.files)}),S(),We(44,Qae,2,1,"div",27),S(),A(45,"div",28)(46,"button",29),H(47," L\u01b0u "),S()()()()),2&e){let r;G(8),ie("formGroup",n.formEditProduct),G(15),ie("ngValue",null),G(2),ie("ngForOf",Hy(26,7,n.categories$)),G(9),ie("min",0)("max",100),G(10),ie("ngIf",null==(r=n.formEditProduct.get("images"))?null:r.value),G(2),ie("disabled",!n.formEditProduct.valid)}},dependencies:[ga,fc,pc,P_,Ug,ad,lT,hT,Eo,Pg,ud,Jl,ed,vu,Fg,Og,Do,_u,Vg,Bi,Ui],styles:[".img-product[_ngcontent-%COMP%]{object-fit:contain;width:40%}"]});const KB=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:cd},{path:"add",component:ld},{path:"product/:id",component:dd},{path:"edit",component:fd},{path:"category",component:hd}];class pd{}pd.\u0275fac=function(e){return new(e||pd)},pd.\u0275mod=nr({type:pd}),pd.\u0275inj=Gn({imports:[Bi.forRoot(KB),Bi]}),function X8(t,e){return v4({rootComponent:t,...cN(e)})}(Oc,{providers:[function FK(t,...e){return function l3(t){return{\u0275providers:t}}([{provide:Da,multi:!0,useValue:t},[],{provide:Ns,useFactory:IR,deps:[Ft]},{provide:o_,multi:!0,useFactory:ER},e.map(n=>n.\u0275providers)])}(KB),LA(function wX(t,...e){return{ngModule:vX,providers:[{provide:x0,useFactory:_X(t),multi:!0,deps:[Ge,Pn,zP,...e]}]}}(()=>IX(EX_firebaseConfig)),function Aoe(t,...e){return{ngModule:Soe,providers:[{provide:qC,useFactory:boe(t),multi:!0,deps:[Ge,Pn,zP,WP,[new on,KO],[new on,yF],...e]}]}}(()=>Moe()))]}).catch(t=>console.log(t))}},Me=>{Me(Me.s=200)}]);